var notBulma=function(e){"use strict";var t=Array.isArray,n=Array.prototype.indexOf,i=Array.from,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,a=Object.prototype,l=Array.prototype,u=Object.getPrototypeOf;function c(e){return"function"==typeof e}const d=()=>{};function f(e){return e()}function h(e){for(var t=0;t<e.length;t++)e[t]()}const g=32,v=128,p=256,m=512,y=1024,b=2048,k=4096,$=8192,I=16384,O=65536,w=1<<18,_=1<<20,A=Symbol("$state"),S=Symbol("$state metadata"),C=Symbol("legacy props"),E=Symbol("");function L(e){return e===this.v}function T(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function x(e){return!T(e,this.v)}function N(){{const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}}function F(e){{const t=new Error(`lifecycle_legacy_only\n\`${e}(...)\` cannot be used in runes mode\nhttps://svelte.dev/e/lifecycle_legacy_only`);throw t.name="Svelte error",t}}let U=!1;const P="[!",D={},M=Symbol(),R=Symbol("filename");function j(e){console.warn(`%c[svelte] state_snapshot_uncloneable\n%c${e?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:\n\n${e}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}\nhttps://svelte.dev/e/state_snapshot_uncloneable`,"font-weight: bold","font-weight: normal")}const V=[];function z(e,t=!1){if(!t){const t=[],n=W(e,new Map,"",t);if(1===t.length&&""===t[0])j();else if(t.length>0){const e=t.length>10?t.slice(0,7):t.slice(0,10),n=t.length-e.length;let i=e.map((e=>`- <value>${e}`)).join("\n");n>0&&(i+=`\n- ...and ${n} more`),j(i)}return n}return W(e,new Map,"",V)}function W(e,n,i,r,o=null){if("object"==typeof e&&null!==e){var s=n.get(e);if(void 0!==s)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(t(e)){var l=Array(e.length);n.set(e,l),null!==o&&n.set(o,l);for(var c=0;c<e.length;c+=1){var d=e[c];c in e&&(l[c]=W(d,n,`${i}[${c}]`,r))}return l}if(u(e)===a){for(var f in l={},n.set(e,l),null!==o&&n.set(o,l),e)l[f]=W(e[f],n,`${i}.${f}`,r);return l}if(e instanceof Date)return structuredClone(e);if("function"==typeof e.toJSON)return W(e.toJSON(),n,`${i}.toJSON()`,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch(t){return r.push(i),e}}var B="font-weight: bold",q="font-weight: normal";function H(e){console.warn("%c[svelte] hydration_mismatch\n%cHydration failed because the initial UI does not match what was rendered on the server\nhttps://svelte.dev/e/hydration_mismatch",B,q)}function G(e,t){console.warn(`%c[svelte] ownership_invalid_mutation\n%c${e?`${e} mutated a value owned by ${t}. This is strongly discouraged. Consider passing values to child components with \`bind:\`, or use a callback instead`:"Mutating a value outside the component that created it is strongly discouraged. Consider passing values to child components with `bind:`, or use a callback instead"}\nhttps://svelte.dev/e/ownership_invalid_mutation`,B,q)}function K(e){console.warn(`%c[svelte] state_proxy_equality_mismatch\n%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results\nhttps://svelte.dev/e/state_proxy_equality_mismatch`,B,q)}const J={},Y=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,Q=/@(.+):(\d+):(\d+)$/;function Z(){const e=function(){const e=(new Error).stack;if(!e)return null;const t=[];for(const n of e.split("\n")){let e=Y.exec(n)??Q.exec(n);e&&t.push({file:e[1],line:+e[2],column:+e[3]})}return t}()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){const n=e[t],i=J[n.file];if(i)for(const e of i){if(null==e.end)return null;if(e.start.line<n.line&&e.end.line>n.line)return e.component}else if(0===t)return null}return null}const X=Symbol("ADD_OWNER");function ee(e,t,n=!1,i=!1){if(e&&!n){const t=le,n=e[S];n&&!ie(n,t)&&re(n)}ne(e,t,new Set)}function te(e,t){if(null!==t.owners)for(;e;){if(null===e.owners){t.owners=null;break}for(const n of e.owners)t.owners.add(n);e=e.parent}}function ne(e,t,n){const i=e?.[S];if(i)"owners"in i&&null!=i.owners&&(i.owners=null);else if(e&&"object"==typeof e){if(n.has(e))return;if(n.add(e),X in e&&e[X])at((()=>{e[X](t)}));else{var r=u(e);if(r===Object.prototype)for(const i in e)if(Object.getOwnPropertyDescriptor(e,i)?.get){let r=M;at((()=>{const o=e[i];r!==o&&(r=o,ne(o,t,n))}))}else ne(e[i],t,n);else if(r===Array.prototype)for(let i=0;i<e.length;i+=1)ne(e[i],t,n)}}}function ie(e,t){return null===e.owners||(e.owners.has(t)||R in t&&[...e.owners].some((e=>e[R]===t[R]))||null!==e.parent&&ie(e.parent,t))}function re(e){return e?.owners?.values().next().value??re(e.parent)}function oe(e){{const t=new Error(`lifecycle_outside_component\n\`${e}(...)\` can only be used during component initialisation\nhttps://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}}let se=null;function ae(e){se=e}let le=null;function ue(e){le=e}function ce(e,t=!1,n){se={p:se,c:null,e:null,m:!1,s:e,x:null,l:null},U&&!t&&(se.l={s:null,u:null,r1:[],r2:pe(!1)}),se.function=n,le=n}function de(e){const t=se;if(null!==t){void 0!==e&&(t.x=e);const s=t.e;if(null!==s){var n=Bt,i=Vt;t.e=null;try{for(var r=0;r<s.length;r++){var o=s[r];qt(o.effect),Wt(o.reaction),ot(o.fn)}}finally{qt(n),Wt(i)}}se=t.p,le=t.p?.function??null,t.m=!0}return e||{}}function fe(){return!U||null!==se&&null===se.l}function he(e){return null===se&&oe(e),se.c??=new Map(function(e){let t=e.p;for(;null!==t;){const e=t.c;if(null!==e)return e;t=t.p}return null}(se)||void 0)}let ge=new Set;function ve(e){ge=e}function pe(e,t){return{f:0,v:e,reactions:null,equals:L,rv:0,wv:0}}function me(e){return ke(pe(e))}function ye(e,t=!1){const n=pe(e);return t||(n.equals=x),U&&null!==se&&null!==se.l&&(se.l.s??=[]).push(n),n}function be(e,t=!1){return ke(ye(e,t))}function ke(e){return null!==Vt&&!zt&&2&Vt.f&&(null===Ht?Ht=[e]:Ht.push(e)),e}function $e(e,t){return Ie(e,bn((()=>yn(e)))),t}function Ie(e,t){return null!==Vt&&!zt&&fe()&&18&Vt.f&&(null===Ht||!Ht.includes(e))&&function(){{const e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}}(),Oe(e,t)}function Oe(e,t){if(!e.equals(t)&&(e.v,e.v=t,e.wv=Xt(),_e(e,b),fe()&&null!==Bt&&Bt.f&y&&!(96&Bt.f)&&(null===Jt?function(e){Jt=e}([e]):Jt.push(e)),ge.size>0)){const e=Array.from(ge);var n=Ft;Pt(!0);try{for(const t of e)t.f&y&&$n(t,k),en(t)&&un(t)}finally{Pt(n)}ge.clear()}return t}function we(e,t=1){var n=yn(e),i=1===t?n++:n--;return Ie(e,n),i}function _e(e,t){var n=e.reactions;if(null!==n)for(var i=fe(),r=n.length,o=0;o<r;o++){var s=n[o],a=s.f;a&b||(i||s!==Bt)&&(a&w?ge.add(s):($n(s,t),1280&a&&(2&a?_e(s,k):vn(s))))}}let Ae,Se=!1;function Ce(e){Se=e}function Ee(e){if(null===e)throw H(),D;return Ae=e}function Le(){return Ee(Be(Ae))}function Te(e){if(Se){if(null!==Be(Ae))throw H(),D;Ae=e}}function xe(e=1){if(Se){for(var t=e,n=Ae;t--;)n=Be(n);Ae=n}}function Ne(){for(var e=0,t=Ae;;){if(8===t.nodeType){var n=t.data;if("]"===n){if(0===e)return t;e-=1}else"["!==n&&n!==P||(e+=1)}var i=Be(t);t.remove(),t=i}}function Fe(e,n=null,i){if("object"!=typeof e||null===e||A in e)return e;const r=u(e);if(r!==a&&r!==l)return e;var s,c=new Map,d=t(e),f=pe(0);return d&&c.set("length",pe(e.length)),(s={parent:n,owners:null}).owners=null===n?null!==se?new Set([se.function]):null:new Set,new Proxy(e,{defineProperty(e,t,n){"value"in n&&!1!==n.configurable&&!1!==n.enumerable&&!1!==n.writable||function(){{const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}}();var i=c.get(t);return void 0===i?(i=pe(n.value),c.set(t,i)):Ie(i,Fe(n.value,s)),!0},deleteProperty(e,t){var n=c.get(t);if(void 0===n)t in e&&c.set(t,pe(M));else{if(d&&"string"==typeof t){var i=c.get("length"),r=Number(t);Number.isInteger(r)&&r<i.v&&Ie(i,r)}Ie(n,M),Ue(f)}return!0},get(t,n,i){if(n===S)return s;if(n===A)return e;var r=c.get(n),a=n in t;if(void 0!==r||a&&!o(t,n)?.writable||(r=pe(Fe(a?t[n]:M,s)),c.set(n,r)),void 0!==r){var l=yn(r),u=l?.[S];return u&&u?.parent!==s&&te(s,u),l===M?void 0:l}return Reflect.get(t,n,i)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){var i=c.get(t);i&&(n.value=yn(i))}else if(void 0===n){var r=c.get(t),o=r?.v;if(void 0!==r&&o!==M)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return n},has(e,t){if(t===S)return!0;if(t===A)return!0;var n=c.get(t),i=void 0!==n&&n.v!==M||Reflect.has(e,t);if((void 0!==n||null!==Bt&&(!i||o(e,t)?.writable))&&(void 0===n&&(n=pe(i?Fe(e[t],s):M),c.set(t,n)),yn(n)===M))return!1;return i},set(e,t,n,i){var r=c.get(t),a=t in e;if(d&&"length"===t)for(var l=n;l<r.v;l+=1){var u=c.get(l+"");void 0!==u?Ie(u,M):l in e&&(u=pe(M),c.set(l+"",u))}void 0===r?a&&!o(e,t)?.writable||(Ie(r=pe(void 0),Fe(n,s)),c.set(t,r)):(a=r.v!==M,Ie(r,Fe(n,s)));var h=n?.[S];h&&h?.parent!==s&&te(s,h),function(e){const t=Z();if(t&&!ie(e,t)){let n=re(e);n[R]!==t[R]?G(t[R],n[R]):G()}}(s);var g=Reflect.getOwnPropertyDescriptor(e,t);if(g?.set&&g.set.call(i,n),!a){if(d&&"string"==typeof t){var v=c.get("length"),p=Number(t);Number.isInteger(p)&&p>=v.v&&Ie(v,p+1)}Ue(f)}return!0},ownKeys(e){yn(f);var t=Reflect.ownKeys(e).filter((e=>{var t=c.get(e);return void 0===t||t.v!==M}));for(var[n,i]of c)i.v===M||n in e||t.push(n);return t},setPrototypeOf(){!function(){{const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}}()}})}function Ue(e,t=1){Ie(e,e.v+t)}function Pe(e){return null!==e&&"object"==typeof e&&A in e?e[A]:e}var De,Me,Re,je;function Ve(){if(void 0===De){De=window,Me=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;Re=o(t,"firstChild").get,je=o(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0,e.__svelte_meta=null,function(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:n,lastIndexOf:i,includes:r}=e;e.indexOf=function(e,t){const i=n.call(this,e,t);if(-1===i)for(let n=t??0;n<this.length;n+=1)if(Pe(this[n])===e){K("array.indexOf(...)");break}return i},e.lastIndexOf=function(e,t){const n=i.call(this,e,t??this.length-1);if(-1===n)for(let n=0;n<=(t??this.length-1);n+=1)if(Pe(this[n])===e){K("array.lastIndexOf(...)");break}return n},e.includes=function(e,t){const n=r.call(this,e,t);if(!n)for(let t=0;t<this.length;t+=1)if(Pe(this[t])===e){K("array.includes(...)");break}return n},Array.__svelte_cleanup=()=>{e.indexOf=n,e.lastIndexOf=i,e.includes=r}}()}}function ze(e=""){return document.createTextNode(e)}function We(e){return Re.call(e)}function Be(e){return je.call(e)}function qe(e,t){if(!Se)return We(e);var n=We(Ae);if(null===n)n=Ae.appendChild(ze());else if(t&&3!==n.nodeType){var i=ze();return n?.before(i),Ee(i),i}return Ee(n),n}function He(e,t){if(!Se){var n=We(e);return n instanceof Comment&&""===n.data?Be(n):n}if(t&&3!==Ae?.nodeType){var i=ze();return Ae?.before(i),Ee(i),i}return Ae}function Ge(e,t=1,n=!1){let i=Se?Ae:e;for(var r;t--;)r=i,i=Be(i);if(!Se)return i;var o=i?.nodeType;if(n&&3!==o){var s=ze();return null===i?r?.after(s):i.before(s),Ee(s),s}return Ee(i),i}function Ke(e){e.textContent=""}function Je(e){var t=2050,n=null!==Vt&&2&Vt.f?Vt:null;null===Bt||null!==n&&n.f&p?t|=p:Bt.f|=_;return{ctx:se,deps:null,effects:null,equals:L,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Bt}}function Ye(e){const t=Je(e);return t.equals=x,t}function Qe(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)ht(t[n])}}let Ze=[];function Xe(e){var t,n=Bt;qt(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e));{let i=ge;ve(new Set);try{Ze.includes(e)&&function(){{const e=new Error("derived_references_self\nA derived value cannot reference itself recursively\nhttps://svelte.dev/e/derived_references_self");throw e.name="Svelte error",e}}(),Ze.push(e),Qe(e),t=sn(e)}finally{qt(n),ve(i),Ze.pop()}}return t}function et(e){var t=Xe(e);$n(e,(Zt||e.f&p)&&null!==e.deps?k:y),e.equals(t)||(e.v=t,e.wv=Xt())}function tt(e){null===Bt&&null===Vt&&function(e){{const t=new Error(`effect_orphan\n\`${e}\` can only be used inside an effect (e.g. during component initialisation)\nhttps://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}}(e),null!==Vt&&Vt.f&p&&null===Bt&&function(){{const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}}(),Ut&&function(e){{const t=new Error(`effect_in_teardown\n\`${e}\` cannot be used inside an effect cleanup function\nhttps://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}}(e)}function nt(e,t,n,i=!0){for(var r=!!(64&e),o=Bt;null!==o&&o.f&w;)o=o.parent;var s={ctx:se,deps:null,nodes_start:null,nodes_end:null,f:e|b,first:null,fn:t,last:null,next:null,parent:r?null:o,prev:null,teardown:null,transitions:null,wv:0};if(s.component_function=le,n){var a=Ft;try{Pt(!0),un(s),s.f|=32768}catch(e){throw ht(s),e}finally{Pt(a)}}else null!==t&&vn(s);if(!(n&&null===s.deps&&null===s.first&&null===s.nodes_start&&null===s.teardown&&!(1048704&s.f))&&!r&&i&&(null!==o&&function(e,t){var n=t.last;null===n?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}(s,o),null!==Vt&&2&Vt.f)){var l=Vt;(l.effects??=[]).push(s)}return s}function it(e){const t=nt(8,null,!1);return $n(t,y),t.teardown=e,t}function rt(e){tt("$effect");var t=null!==Bt&&!!(Bt.f&g)&&null!==se&&!se.m;if(r(e,"name",{value:"$effect"}),!t)return ot(e);var n=se;(n.e??=[]).push({fn:e,effect:Bt,reaction:Vt})}function ot(e){return nt(4,e,!1)}function st(e,t){var n=se,i={effect:null,ran:!1};n.l.r1.push(i),i.effect=at((()=>{e(),i.ran||(i.ran=!0,Ie(n.l.r2,!0),bn(t))}))}function at(e){return nt(8,e,!0)}function lt(e,t=[],n=Je){const i=t.map(n),o=()=>e(...i.map(yn));return r(o,"name",{value:"{expression}"}),ut(o)}function ut(e,t=0){return nt(24|t,e,!0)}function ct(e,t=!0){return nt(40,e,!0,t)}function dt(e){var t=e.teardown;if(null!==t){const e=Ut,n=Vt;Dt(!0),Wt(null);try{t.call(null)}finally{Dt(e),Wt(n)}}}function ft(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var i=n.next;ht(n,t),n=i}}function ht(e,t=!0){var n=!1;if((t||524288&e.f)&&null!==e.nodes_start){for(var i=e.nodes_start,r=e.nodes_end;null!==i;){var o=i===r?null:Be(i);i.remove(),i=o}n=!0}ft(e,t&&!n),ln(e,0),$n(e,I);var s=e.transitions;if(null!==s)for(const e of s)e.stop();dt(e);var a=e.parent;null!==a&&null!==a.first&&gt(e),e.component_function=null,e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function gt(e){var t=e.parent,n=e.prev,i=e.next;null!==n&&(n.next=i),null!==i&&(i.prev=n),null!==t&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function vt(e,t){var n=[];mt(e,n,!0),pt(n,(()=>{ht(e),t&&t()}))}function pt(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var r of e)r.out(i)}else t()}function mt(e,t,n){if(!(e.f&$)){if(e.f^=$,null!==e.transitions)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var i=e.first;null!==i;){var r=i.next;mt(i,t,!!(!!(i.f&O)||!!(i.f&g))&&n),i=r}}}function yt(e){bt(e,!0)}function bt(e,t){if(e.f&$){e.f^=$,e.f&y||(e.f^=y),en(e)&&($n(e,b),vn(e));for(var n=e.first;null!==n;){var i=n.next;bt(n,!!(!!(n.f&O)||!!(n.f&g))&&t),n=i}if(null!==e.transitions)for(const n of e.transitions)(n.is_global||t)&&n.in()}}const kt="undefined"==typeof requestIdleCallback?e=>setTimeout(e,1):requestIdleCallback;let $t=!1,It=!1,Ot=[],wt=[];function _t(){$t=!1;const e=Ot.slice();Ot=[],h(e)}function At(){It=!1;const e=wt.slice();wt=[],h(e)}function St(e){$t||($t=!0,queueMicrotask(_t)),Ot.push(e)}const Ct=0,Et=new WeakSet;let Lt=!1,Tt=Ct,xt=!1,Nt=null,Ft=!1,Ut=!1;function Pt(e){Ft=e}function Dt(e){Ut=e}let Mt=[],Rt=0,jt=[],Vt=null,zt=!1;function Wt(e){Vt=e}let Bt=null;function qt(e){Bt=e}let Ht=null;let Gt=null,Kt=0,Jt=null;let Yt=1,Qt=0,Zt=!1;function Xt(){return++Yt}function en(e){var t=e.f;if(t&b)return!0;if(t&k){var n=e.deps,i=!!(t&p);if(null!==n){var r,o,s=!!(t&m),a=i&&null!==Bt&&!Zt,l=n.length;if(s||a){var u=e,c=u.parent;for(r=0;r<l;r++)o=n[r],!s&&o?.reactions?.includes(u)||(o.reactions??=[]).push(u);s&&(u.f^=m),!a||null===c||c.f&p||(u.f^=p)}for(r=0;r<l;r++)if(en(o=n[r])&&et(o),o.wv>e.wv)return!0}i&&(null===Bt||Zt)||$n(e,y)}return!1}function tn(e,t){for(var n=t;null!==n;){if(n.f&v)try{return void n.fn(e)}catch{n.f^=v}n=n.parent}throw Lt=!1,e}function nn(e){return!(e.f&I||null!==e.parent&&e.parent.f&v)}function rn(e,t,n,i){if(Lt){if(null===n&&(Lt=!1),nn(t))throw e;return}if(null!==n&&(Lt=!0),null===i||!(e instanceof Error)||Et.has(e))return void tn(e,t);Et.add(e);const o=[],s=t.fn?.name;s&&o.push(s);let a=i;for(;null!==a;){var l=a.function?.[R];if(l){const e=l.split("/").pop();o.push(e)}a=a.p}const u=Me?"  ":"\t";r(e,"message",{value:e.message+`\n${o.map((e=>`\n${u}in ${e}`)).join("")}\n`}),r(e,"component_stack",{value:o});const c=e.stack;if(c){const t=c.split("\n"),n=[];for(let e=0;e<t.length;e++){const i=t[e];i.includes("svelte/src/internal")||n.push(i)}r(e,"stack",{value:n.join("\n")})}if(tn(e,t),nn(t))throw e}function on(e,t,n=!0){var i=e.reactions;if(null!==i)for(var r=0;r<i.length;r++){var o=i[r];2&o.f?on(o,t,!1):t===o&&(n?$n(o,b):o.f&y&&$n(o,k),vn(o))}}function sn(e){var t=Gt,n=Kt,i=Jt,r=Vt,o=Zt,s=Ht,a=se,l=zt,u=e.f;Gt=null,Kt=0,Jt=null,Vt=96&u?null:e,Zt=!!(u&p)&&(!Ft||null===r||l),Ht=null,ae(e.ctx),zt=!1,Qt++;try{var c=(0,e.fn)(),d=e.deps;if(null!==Gt){var f;if(ln(e,Kt),null!==d&&Kt>0)for(d.length=Kt+Gt.length,f=0;f<Gt.length;f++)d[Kt+f]=Gt[f];else e.deps=d=Gt;if(!Zt)for(f=Kt;f<d.length;f++)(d[f].reactions??=[]).push(e)}else null!==d&&Kt<d.length&&(ln(e,Kt),d.length=Kt);if(fe()&&null!==Jt&&!zt&&null!==d&&!(6146&e.f))for(f=0;f<Jt.length;f++)on(Jt[f],e);return null!==r&&Qt++,c}finally{Gt=t,Kt=n,Jt=i,Vt=r,Zt=o,Ht=s,ae(a),zt=l}}function an(e,t){let i=t.reactions;if(null!==i){var r=n.call(i,e);if(-1!==r){var o=i.length-1;0===o?i=t.reactions=null:(i[r]=i[o],i.pop())}}null===i&&2&t.f&&(null===Gt||!Gt.includes(t))&&($n(t,k),768&t.f||(t.f^=m),Qe(t),ln(t,0))}function ln(e,t){var n=e.deps;if(null!==n)for(var i=t;i<n.length;i++)an(e,n[i])}function un(e){var t=e.f;if(!(t&I)){$n(e,y);var n=Bt,i=se;Bt=e;var r=le;ue(e.component_function);try{16&t?function(e){for(var t=e.first;null!==t;){var n=t.next;t.f&g||ht(t),t=n}}(e):ft(e),dt(e);var o=sn(e);e.teardown="function"==typeof o?o:null,e.wv=Yt;e.deps;false,jt.push(e)}catch(t){rn(t,e,n,i||e.ctx)}finally{Bt=n,ue(r)}}}function cn(){console.error("Last ten effects were: ",jt.slice(-10).map((e=>e.fn))),jt=[]}function dn(){if(Rt>1e3){Rt=0;try{!function(){{const e=new Error("effect_update_depth_exceeded\nMaximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops\nhttps://svelte.dev/e/effect_update_depth_exceeded");throw e.name="Svelte error",e}}()}catch(e){if(r(e,"stack",{value:""}),null===Nt)throw cn(),e;try{rn(e,Nt,null,null)}catch(e){throw cn(),e}}}Rt++}function fn(e){var t=e.length;if(0!==t){dn();var n=Ft;Ft=!0;try{for(var i=0;i<t;i++){var r=e[i];r.f&y||(r.f^=y),hn(pn(r))}}finally{Ft=n}}}function hn(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var i=e[n];if(!(24576&i.f))try{en(i)&&(un(i),null===i.deps&&null===i.first&&null===i.nodes_start&&(null===i.teardown?gt(i):i.fn=null))}catch(e){rn(e,i,null,i.ctx)}}}function gn(){if(xt=!1,Rt>1001)return;const e=Mt;Mt=[],fn(e),xt||(Rt=0,Nt=null,jt=[])}function vn(e){Tt===Ct&&(xt||(xt=!0,queueMicrotask(gn))),Nt=e;for(var t=e;null!==t.parent;){var n=(t=t.parent).f;if(96&n){if(!(n&y))return;t.f^=y}}Mt.push(t)}function pn(e){var t=[],n=e.first;e:for(;null!==n;){var i=n.f,r=!!(i&g),o=r&&!!(i&y),s=n.next;if(!(o||i&$)){if(4&i)t.push(n);else if(r)n.f^=y;else{var a=Vt;try{Vt=n,en(n)&&un(n)}catch(e){rn(e,n,null,n.ctx)}finally{Vt=a}}var l=n.first;if(null!==l){n=l;continue}}if(null===s){let t=n.parent;for(;null!==t;){if(e===t)break e;var u=t.next;if(null!==u){n=u;continue e}t=t.parent}}n=s}return t}function mn(e){var t=Tt,n=Mt;try{dn();const t=[];Tt=1,Mt=t,xt=!1,fn(n);var i=e?.();return $t&&_t(),It&&At(),(Mt.length>0||t.length>0)&&mn(),Rt=0,Nt=null,jt=[],i}finally{Tt=t,Mt=n}}function yn(e){var t=!!(2&e.f);if(null===Vt||zt){if(t&&null===e.deps&&null===e.effects){var n=e,i=n.parent;null===i||i.f&p||(n.f^=p)}}else{null!==Ht&&Ht.includes(e)&&function(){{const e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw e.name="Svelte error",e}}();var r=Vt.deps;e.rv<Qt&&(e.rv=Qt,null===Gt&&null!==r&&r[Kt]===e?Kt++:null===Gt?Gt=[e]:Zt&&Gt.includes(e)||Gt.push(e))}return t&&en(n=e)&&et(n),e.v}function bn(e){var t=zt;try{return zt=!0,e()}finally{zt=t}}const kn=-7169;function $n(e,t){e.f=e.f&kn|t}function In(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(A in e)On(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];"object"==typeof n&&n&&A in n&&On(n)}}function On(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{On(e[n],t)}catch(e){}const n=u(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const t=s(n);for(let n in t){const i=t[n].get;if(i)try{i.call(e)}catch(e){}}}}}const wn=/\r/g;function _n(e){return e.endsWith("capture")&&"gotpointercapture"!==e&&"lostpointercapture"!==e}const An=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Sn(e){return An.includes(e)}const Cn={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function En(e){return e=e.toLowerCase(),Cn[e]??e}const Ln=["touchstart","touchmove"];const Tn=["textarea","script","style","title"];function xn(e,t){if(t){const t=document.body;e.autofocus=!0,St((()=>{document.activeElement===t&&e.focus()}))}}let Nn=!1;function Fn(){Nn||(Nn=!0,document.addEventListener("reset",(e=>{Promise.resolve().then((()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()}))}),{capture:!0}))}function Un(e){var t=Vt,n=Bt;Wt(null),qt(null);try{return e()}finally{Wt(t),qt(n)}}function Pn(e,t,n,i=n){e.addEventListener(t,(()=>Un(n)));const r=e.__on_r;e.__on_r=r?()=>{r(),i(!0)}:()=>i(!0),Fn()}const Dn=new Set,Mn=new Set;function Rn(e,t,n,i={}){function r(e){if(i.capture||zn.call(t,e),!e.cancelBubble)return Un((()=>n?.call(this,e)))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?St((()=>{t.addEventListener(e,r,i)})):t.addEventListener(e,r,i),r}function jn(e,t,n,i,r){var o={capture:i,passive:r},s=Rn(e,t,n,o);t!==document.body&&t!==window&&t!==document||it((()=>{t.removeEventListener(e,s,o)}))}function Vn(e){for(var t=0;t<e.length;t++)Dn.add(e[t]);for(var n of Mn)n(e)}function zn(e){var n=this,i=n.ownerDocument,o=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,l=0,u=e.__root;if(u){var c=s.indexOf(u);if(-1!==c&&(n===document||n===window))return void(e.__root=n);var d=s.indexOf(n);if(-1===d)return;c<=d&&(l=c)}if((a=s[l]||e.target)!==n){r(e,"currentTarget",{configurable:!0,get:()=>a||i});var f=Vt,h=Bt;Wt(null),qt(null);try{for(var g,v=[];null!==a;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+o];if(void 0!==m&&(!a.disabled||e.target===a))if(t(m)){var[y,...b]=m;y.apply(a,[e,...b])}else m.call(a,e)}catch(e){g?v.push(e):g=e}if(e.cancelBubble||p===n||null===p)break;a=p}if(g){for(let e of v)queueMicrotask((()=>{throw e}));throw g}}finally{e.__root=n,delete e.currentTarget,Wt(f),qt(h)}}}function Wn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Bn(e,t){var n=Bt;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function qn(e,t){var n,i=!!(1&t),r=!!(2&t),o=!e.startsWith("<!>");return()=>{if(Se)return Bn(Ae,null),Ae;void 0===n&&(n=Wn(o?e:"<!>"+e),i||(n=We(n)));var t=r||Me?document.importNode(n,!0):n.cloneNode(!0);i?Bn(We(t),t.lastChild):Bn(t,t);return t}}function Hn(e=""){if(!Se){var t=ze(e+"");return Bn(t,t),t}var n=Ae;return 3!==n.nodeType&&(n.before(n=ze()),Ee(n)),Bn(n,n),n}function Gn(){if(Se)return Bn(Ae,null),Ae;var e=document.createDocumentFragment(),t=document.createComment(""),n=ze();return e.append(t,n),Bn(t,n),e}function Kn(e,t){if(Se)return Bt.nodes_end=Ae,void Le();null!==e&&e.before(t)}let Jn=!0;function Yn(e){Jn=e}function Qn(e,t){var n=null==t?"":"object"==typeof t?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Zn(e,t){return ei(e,t)}const Xn=new Map;function ei(e,{target:t,anchor:n,props:r={},events:o,context:s,intro:a=!0}){Ve();var l=new Set,u=e=>{for(var n=0;n<e.length;n++){var i=e[n];if(!l.has(i)){l.add(i);var r=(s=i,Ln.includes(s));t.addEventListener(i,zn,{passive:r});var o=Xn.get(i);void 0===o?(document.addEventListener(i,zn,{passive:r}),Xn.set(i,1)):Xn.set(i,o+1)}}var s};u(i(Dn)),Mn.add(u);var c=void 0,d=function(e){const t=nt(64,e,!0);return(e={})=>new Promise((n=>{e.outro?vt(t,(()=>{ht(t),n(void 0)})):(ht(t),n(void 0))}))}((()=>{var i=n??t.appendChild(ze());return ct((()=>{s&&(ce({}),se.c=s);o&&(r.$$events=o),Se&&Bn(i,null),Jn=a,c=e(i,r)||{},Jn=!0,Se&&(Bt.nodes_end=Ae),s&&de()})),()=>{for(var e of l){t.removeEventListener(e,zn);var r=Xn.get(e);0==--r?(document.removeEventListener(e,zn),Xn.delete(e)):Xn.set(e,r)}Mn.delete(u),i!==n&&i.parentNode?.removeChild(i)}}));return ti.set(c,d),c}let ti=new WeakMap;function ni(e,t){const n=ti.get(e);return n?(ti.delete(e),n(t)):(console.warn("%c[svelte] lifecycle_double_unmount\n%cTried to unmount a component that was not mounted\nhttps://svelte.dev/e/lifecycle_double_unmount",B,q),Promise.resolve())}function ii(e,t,n=!1){Se&&Le();var i=e,r=null,o=null,s=M,a=!1;const l=(e,t=!0)=>{a=!0,u(t,e)},u=(e,t)=>{if(s===(s=e))return;let n=!1;if(Se){const e=i.data===P;!!s===e&&(Ee(i=Ne()),Ce(!1),n=!0)}s?(r?yt(r):t&&(r=ct((()=>t(i)))),o&&vt(o,(()=>{o=null}))):(o?yt(o):t&&(o=ct((()=>t(i)))),r&&vt(r,(()=>{r=null}))),n&&Ce(!0)};ut((()=>{a=!1,t(l),a||u(null,null)}),n?O:0),Se&&(i=Ae)}let ri=null;function oi(e){ri=e}function si(e,t){return t}function ai(e,n,r,o,s,a=null){var l=e,u={flags:n,items:new Map,first:null};if(!!(4&n)){var c=e;l=Se?Ee(We(c)):c.appendChild(ze())}Se&&Le();var d=null,f=!1,h=Ye((()=>{var e=r();return t(e)?e:null==e?[]:i(e)}));ut((()=>{var e=yn(h),t=e.length;if(f&&0===t)return;f=0===t;let c=!1;Se&&(l.data===P!==(0===t)&&(Ee(l=Ne()),Ce(!1),c=!0));if(Se){for(var g,v=null,p=0;p<t;p++){if(8===Ae.nodeType&&"]"===Ae.data){l=Ae,c=!0,Ce(!1);break}var m=e[p],y=o(m,p);g=ui(Ae,u,v,null,m,y,p,s,n,r),u.items.set(y,g),v=g}t>0&&Ee(Ne())}Se||function(e,t,n,r,o,s,a){var l,u,c,d,f,h,g=!!(8&o),v=!!(3&o),p=e.length,m=t.items,y=t.first,b=y,k=null,I=[],O=[];if(g)for(h=0;h<p;h+=1)d=s(c=e[h],h),void 0!==(f=m.get(d))&&(f.a?.measure(),(u??=new Set).add(f));for(h=0;h<p;h+=1)if(d=s(c=e[h],h),void 0!==(f=m.get(d))){if(v&&li(f,c,h,o),f.e.f&$&&(yt(f.e),g&&(f.a?.unfix(),(u??=new Set).delete(f))),f!==b){if(void 0!==l&&l.has(f)){if(I.length<O.length){var w,_=O[0];k=_.prev;var A=I[0],S=I[I.length-1];for(w=0;w<I.length;w+=1)ci(I[w],_,n);for(w=0;w<O.length;w+=1)l.delete(O[w]);di(t,A.prev,S.next),di(t,k,A),di(t,S,_),b=_,k=S,h-=1,I=[],O=[]}else l.delete(f),ci(f,b,n),di(t,f.prev,f.next),di(t,f,null===k?t.first:k.next),di(t,k,f),k=f;continue}for(I=[],O=[];null!==b&&b.k!==d;)b.e.f&$||(l??=new Set).add(b),O.push(b),b=b.next;if(null===b)continue;f=b}I.push(f),k=f,b=f.next}else{k=ui(b?b.e.nodes_start:n,t,k,null===k?t.first:k.next,c,d,h,r,o,a),m.set(d,k),I=[],O=[],b=k.next}if(null!==b||void 0!==l){for(var C=void 0===l?[]:i(l);null!==b;)b.e.f&$||C.push(b),b=b.next;var E=C.length;if(E>0){var L=4&o&&0===p?n:null;if(g){for(h=0;h<E;h+=1)C[h].a?.measure();for(h=0;h<E;h+=1)C[h].a?.fix()}!function(e,t,n,i){for(var r=[],o=t.length,s=0;s<o;s++)mt(t[s].e,r,!0);var a=o>0&&0===r.length&&null!==n;if(a){var l=n.parentNode;Ke(l),l.append(n),i.clear(),di(e,t[0].prev,t[o-1].next)}pt(r,(()=>{for(var n=0;n<o;n++){var r=t[n];a||(i.delete(r.k),di(e,r.prev,r.next)),ht(r.e,!a)}}))}(t,C,L,m)}}g&&St((()=>{if(void 0!==u)for(f of u)f.a?.apply()}));Bt.first=t.first&&t.first.e,Bt.last=k&&k.e}(e,u,l,s,n,o,r),null!==a&&(0===t?d?yt(d):d=ct((()=>a(l))):null!==d&&vt(d,(()=>{d=null}))),c&&Ce(!0),yn(h)})),Se&&(l=Ae)}function li(e,t,n,i){1&i&&Oe(e.v,t),2&i?Oe(e.i,n):e.i=n}function ui(e,t,n,i,r,o,s,a,l,u){var c=ri,d=!!(1&l),f=d?!(16&l)?ye(r):pe(r):r,h=2&l?pe(s):s;d&&(f.debug=()=>{var e="number"==typeof h?s:h.v;u()[e]});var g={i:h,v:f,k:o,a:null,e:null,prev:n,next:i};ri=g;try{return g.e=ct((()=>a(e,f,h,u)),Se),g.e.prev=n&&n.e,g.e.next=i&&i.e,null===n?t.first=g:(n.next=g,n.e.next=g.e),null!==i&&(i.prev=g,i.e.prev=g.e),g}finally{ri=c}}function ci(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==i;){var s=Be(o);r.before(o),o=s}}function di(e,t,n){null===t?e.first=n:(t.next=n,t.e.next=n&&n.e),null!==n&&(n.prev=t,n.e.prev=t&&t.e)}function fi(e,t,n){if(!t||t===function(e){let t=5381,n=(e=e.replace(wn,"")).length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return(t>>>0).toString(36)}(String(n??"")))return;let i;const r=e.__svelte_meta?.loc;r?i=`near ${r.file}:${r.line}:${r.column}`:le?.[R]&&(i=`in ${le[R]}`),function(e){console.warn(`%c[svelte] hydration_html_changed\n%c${e?`The value of an \`{@html ...}\` block ${e} changed between server and client renders. The client value will be ignored in favour of the server value`:"The value of an `{@html ...}` block changed between server and client renders. The client value will be ignored in favour of the server value"}\nhttps://svelte.dev/e/hydration_html_changed`,B,q)}(function(e){return e?.replace(/\//g,"/​")}(i))}function hi(e,t,n,i,r){var o,s=e,a="";ut((()=>{a!==(a=t()??"")?(void 0!==o&&(ht(o),o=void 0),""!==a&&(o=ct((()=>{if(Se){for(var e=Ae.data,t=Le(),n=t;null!==t&&(8!==t.nodeType||""!==t.data);)n=t,t=Be(t);if(null===t)throw H(),D;return fi(t.parentNode,e,a),Bn(Ae,n),void(s=Ee(t))}var i=Wn(a+"");Bn(We(i),i.lastChild),s.before(i)})))):Se&&Le()}))}function gi(e,t,n,i,r){Se&&Le();var o=t.$$slots?.[n],s=!1;!0===o&&(o=t["default"===n?"children":n],s=!0),void 0===o?null!==r&&r(e):o(e,s?()=>i:i)}function vi(e,t,...n){var i,r=e,o=d;ut((()=>{o!==(o=t())&&(i&&(ht(i),i=null),null==o&&function(){{const e=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw e.name="Svelte error",e}}(),i=ct((()=>o(r,...n))))}),O),Se&&(r=Ae)}function pi(e,t,n){Se&&Le();var i,r,o=e;ut((()=>{i!==(i=t())&&(r&&(vt(r),r=null),i&&(r=ct((()=>n(o,i)))))}),O),Se&&(o=Ae)}function mi(e,t,n,i,r,o){let s=Se;var a,l;Se&&Le();var u=null;Se&&1===Ae.nodeType&&(u=Ae,Le());var c,d=Se?Ae:e,f=ri;ut((()=>{const e=t()||null;var n="svg"===e?"http://www.w3.org/2000/svg":null;if(e!==a){var r=ri;oi(f),c&&(null===e?vt(c,(()=>{c=null,l=null})):e===l?yt(c):(ht(c),Yn(!1))),e&&e!==l&&(c=ct((()=>{if(Bn(u=Se?u:n?document.createElementNS(n,e):document.createElement(e),u),i){Se&&(r=e,Tn.includes(r))&&u.append(document.createComment(""));var t=Se?We(u):u.appendChild(ze());Se&&(null===t?Ce(!1):Ee(t)),i(u,t)}var r;Bt.nodes_end=u,d.before(u)}))),(a=e)&&(l=a),Yn(!0),oi(r)}}),O),s&&(Ce(!0),Ee(d))}function yi(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=yi(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function bi(e){return"object"==typeof e?function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=yi(e))&&(i&&(i+=" "),i+=t);return i}(e):e??""}function ki(e){if(Se){var t,n=!1,i=()=>{if(!n){if(n=!0,e.hasAttribute("value")){var t=e.value;Ii(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var i=e.checked;Ii(e,"checked",null),e.checked=i}}};e.__on_r=i,t=i,It||(It=!0,kt(At)),wt.push(t),Fn()}}function $i(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Ii(e,t,n,i){var r=e.__attributes??={};Se&&(r[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)?function(e,t,n){if("srcset"===t&&function(e,t){var n=Si(e.srcset),i=Si(t);return i.length===n.length&&i.every((([e,t],i)=>t===n[i][1]&&(Ai(n[i][0],e)||Ai(e,n[i][0]))))}(e,n))return;if(Ai(e.getAttribute(t)??"",n))return;!function(e,t,n){console.warn(`%c[svelte] hydration_attribute_changed\n%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${n}\`, will be ignored in favour of the server value\nhttps://svelte.dev/e/hydration_attribute_changed`,B,q)}(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(n))}(e,t,n??""):r[t]!==(r[t]=n)&&("style"===t&&"__styles"in e&&(e.__styles={}),"loading"===t&&(e[E]=n),null==n?e.removeAttribute(t):"string"!=typeof n&&_i(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Oi(e,t,n,i,r=!1,o=!1,s=!1){let a=Se&&o;a&&Ce(!1);var l=t||{},u="OPTION"===e.tagName;for(var c in t)c in n||(n[c]=null);n.class&&(n.class=bi(n.class)),void 0!==i&&(n.class=n.class?n.class+" "+i:i);var d=_i(e),f=e.__attributes??={};for(const y in n){let b=n[y];if(u&&"value"===y&&null==b)e.value=e.__value="",l[y]=b;else{var h=l[y];if(b!==h){l[y]=b;var g=y[0]+y[1];if("$$"!==g){if("on"===g){const k={},$="$$"+y;let I=y.slice(2);var v=Sn(I);if(_n(I)&&(I=I.slice(0,-7),k.capture=!0),!v&&h){if(null!=b)continue;e.removeEventListener(I,l[$],k),l[$]=null}if(null!=b)if(v)e[`__${I}`]=b,Vn([I]);else{function O(e){l[y].call(this,e)}l[$]=Rn(I,e,O,k)}else v&&(e[`__${I}`]=void 0)}else if("style"===y&&null!=b)e.style.cssText=b+"";else if("autofocus"===y)xn(e,Boolean(b));else if(o||"__value"!==y&&("value"!==y||null==b))if("selected"===y&&u)$i(e,b);else{var p=y;r||(p=En(p));var m="defaultValue"===p||"defaultChecked"===p;if(null!=b||o||m)m||d.includes(p)&&(o||"string"!=typeof b)?e[p]=b:"function"!=typeof b&&Ii(e,p,b);else if(f[y]=null,"value"===p||"checked"===p){let w=e;const _=void 0===t;if("value"===p){let A=w.defaultValue;w.removeAttribute(p),w.defaultValue=A,w.value=w.__value=_?A:null}else{let S=w.defaultChecked;w.removeAttribute(p),w.defaultChecked=S,w.checked=!!_&&S}}else e.removeAttribute(y)}else e.value=e.__value=b;"style"===y&&"__styles"in e&&(e.__styles={})}}}}return a&&Ce(!0),l}var wi=new Map;function _i(e){var t,n=wi.get(e.nodeName);if(n)return n;wi.set(e.nodeName,n=[]);for(var i=e,r=Element.prototype;r!==i;){for(var o in t=s(i))t[o].set&&n.push(o);i=u(i)}return n}function Ai(e,t){return e===t||new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function Si(e){return e.split(",").map((e=>e.trim().split(" ").filter(Boolean)))}function Ci(e,t,n){var i=e.__className,r=function(e,t){return(null==e?"":e)+(t?" "+t:"")}(t,n);Se&&e.className===r?e.__className=r:(i!==r||Se&&e.className!==r)&&(null!=t||n?e.className=r:e.removeAttribute("class"),e.__className=r)}function Ei(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}const Li={tick:e=>requestAnimationFrame(e),now:()=>performance.now(),tasks:new Set};function Ti(){const e=Li.now();Li.tasks.forEach((t=>{t.c(e)||(Li.tasks.delete(t),t.f())})),0!==Li.tasks.size&&Li.tick(Ti)}function xi(e,t){Un((()=>{e.dispatchEvent(new CustomEvent(t))}))}function Ni(e){if("float"===e)return"cssFloat";if("offset"===e)return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("")}function Fi(e){const t={},n=e.split(";");for(const e of n){const[n,i]=e.split(":");if(!n||void 0===i)break;t[Ni(n.trim())]=i.trim()}return t}const Ui=e=>e;function Pi(e,t,n,i){var r,o,s,a=!!(4&e),l=t.inert,u=t.style.overflow;function c(){var e=Vt,o=Bt;Wt(null),qt(null);try{return r??=n()(t,i?.()??{},{direction:"both"})}finally{Wt(e),qt(o)}}var d={is_global:a,in(){t.inert=l,xi(t,"introstart"),o=Di(t,c(),s,1,(()=>{xi(t,"introend"),o?.abort(),o=r=void 0,t.style.overflow=u}))},out(e){t.inert=!0,xi(t,"outrostart"),s=Di(t,c(),o,0,(()=>{xi(t,"outroend"),e?.()}))},stop:()=>{o?.abort(),s?.abort()}},f=Bt;if((f.transitions??=[]).push(d),Jn){var h=a;if(!h){for(var g=f.parent;g&&g.f&O;)for(;(g=g.parent)&&!(16&g.f););h=!g||!!(32768&g.f)}h&&ot((()=>{bn((()=>d.in()))}))}}function Di(e,t,n,i,r){var o=1===i;if(c(t)){var s,a=!1;return St((()=>{if(!a){var l=t({direction:o?"in":"out"});s=Di(e,l,n,i,r)}})),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n?.deactivate(),!t?.duration)return r(),{abort:d,deactivate:d,reset:d,t:()=>i};const{delay:l=0,css:u,tick:f,easing:h=Ui}=t;var g=[];if(o&&void 0===n&&(f&&f(0,1),u)){var v=Fi(u(0,1));g.push(v,v)}var p=()=>1-i,m=e.animate(g,{duration:l});return m.onfinish=()=>{var o=n?.t()??1-i;n?.abort();var s=i-o,a=t.duration*Math.abs(s),l=[];if(a>0){var c=!1;if(u)for(var d=Math.ceil(a/(1e3/60)),g=0;g<=d;g+=1){var v=o+s*h(g/d),y=Fi(u(v,1-v));l.push(y),c||="hidden"===y.overflow}c&&(e.style.overflow="hidden"),p=()=>{var e=m.currentTime;return o+s*h(e/a)},f&&function(e){let t;0===Li.tasks.size&&Li.tick(Ti),new Promise((n=>{Li.tasks.add(t={c:e,f:n})}))}((()=>{if("running"!==m.playState)return!1;var e=p();return f(e,1-e),!0}))}(m=e.animate(l,{duration:a,fill:"forwards"})).onfinish=()=>{p=()=>i,f?.(i,1-i),r()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=d)},deactivate:()=>{r=d},reset:()=>{0===i&&f?.(1,0)},t:()=>p()}}function Mi(e,t,n=t){var i=fe();Pn(e,"input",(r=>{"checkbox"===e.type&&N();var o=r?e.defaultValue:e.value;if(o=ji(e)?Vi(o):o,n(o),i&&o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd;e.value=o??"",null!==a&&(e.selectionStart=s,e.selectionEnd=Math.min(a,e.value.length))}})),(Se&&e.defaultValue!==e.value||null==bn(t)&&e.value)&&n(ji(e)?Vi(e.value):e.value),at((()=>{"checkbox"===e.type&&N();var n=t();ji(e)&&n===Vi(e.value)||("date"!==e.type||n||e.value)&&n!==e.value&&(e.value=n??"")}))}function Ri(e,t,n=t){Pn(e,"change",(t=>{var i=t?e.defaultChecked:e.checked;n(i)})),(Se&&e.defaultChecked!==e.checked||null==bn(t))&&n(e.checked),at((()=>{var n=t();e.checked=Boolean(n)}))}function ji(e){var t=e.type;return"number"===t||"range"===t}function Vi(e){return""===e?null:+e}function zi(e,t,n){if(e.multiple)return function(e,t){for(var n of e.options)n.selected=~t.indexOf(Bi(n))}(e,t);for(var i of e.options){var r=Bi(i);if(o=r,s=t,Object.is(Pe(o),Pe(s)))return void(i.selected=!0)}var o,s;n&&void 0===t||(e.selectedIndex=-1)}function Wi(e,t){let n=!0;ot((()=>{t&&zi(e,bn(t),n),n=!1;var i=new MutationObserver((()=>{var t=e.__value;zi(e,t)}));return i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}}))}function Bi(e){return"__value"in e?e.__value:e.value}function qi(e,t){return e===t||e?.[A]===t}function Hi(e={},t,n,i){return ot((()=>{var r,o;return at((()=>{r=o,o=i?.()||[],bn((()=>{e!==n(...o)&&(t(e,...o),r&&qi(n(...r),e)&&t(null,...r))}))})),()=>{St((()=>{o&&qi(n(...o),e)&&t(null,...o)}))}})),e}function Gi(e){return function(...t){return t[0].preventDefault(),e?.apply(this,t)}}function Ki(e=!1){const t=se,n=t.l.u;if(!n)return;let i=()=>In(t.s);if(e){let e=0,n={};const r=Je((()=>{let i=!1;const r=t.s;for(const e in r)r[e]!==n[e]&&(n[e]=r[e],i=!0);return i&&e++,e}));i=()=>yn(r)}var o;n.b.length&&(o=()=>{Ji(t,i),h(n.b)},tt("$effect.pre"),r(o,"name",{value:"$effect.pre"}),at(o)),rt((()=>{const e=bn((()=>n.m.map(f)));return()=>{for(const t of e)"function"==typeof t&&t()}})),n.a.length&&rt((()=>{Ji(t,i),h(n.a)}))}function Ji(e,t){if(e.l.s)for(const t of e.l.s)yn(t);t()}function Yi(e,n){var i=e.$$events?.[n.type],r=t(i)?i.slice():null==i?[]:[i];for(var o of r)o.call(this,n)}function Qi(e,t,n){if(null==e)return t(void 0),d;const i=bn((()=>e.subscribe(t,n)));return i.unsubscribe?()=>i.unsubscribe():i}const Zi=[];function Xi(e,t=d){let n=null;const i=new Set;function r(t){if(T(e,t)&&(e=t,n)){const t=!Zi.length;for(const t of i)t[1](),Zi.push(t,e);if(t){for(let e=0;e<Zi.length;e+=2)Zi[e][0](Zi[e+1]);Zi.length=0}}}function o(t){r(t(e))}return{set:r,update:o,subscribe:function(s,a=d){const l=[s,a];return i.add(l),1===i.size&&(n=t(r,o)||d),s(e),()=>{i.delete(l),0===i.size&&n&&(n(),n=null)}}}}let er=!1,tr=Symbol();function nr(e,t,n){const i=n[t]??={store:null,source:ye(void 0),unsubscribe:d};if(i.store!==e&&!(tr in n))if(i.unsubscribe(),i.store=e??null,null==e)i.source.v=void 0,i.unsubscribe=d;else{var r=!0;i.unsubscribe=Qi(e,(e=>{r?i.source.v=e:Ie(i.source,e)})),r=!1}return e&&tr in n?function(e){let t;return Qi(e,(e=>t=e))(),t}(e):yn(i.source)}function ir(){const e={};return[e,function(){it((()=>{for(var t in e){e[t].unsubscribe()}r(e,tr,{enumerable:!1,value:!0})}))}]}function rr(e,t=1){const n=e();return e(n+t),n}const or={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set:(e,t)=>(function(e){{const t=new Error(`props_rest_readonly\nRest element properties of \`$props()\` such as \`${e}\` are readonly\nhttps://svelte.dev/e/props_rest_readonly`);throw t.name="Svelte error",t}}(`${e.name}.${String(t)}`),!1),getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t))return t in e.props?{enumerable:!0,configurable:!0,value:e.props[t]}:void 0},has:(e,t)=>!e.exclude.includes(t)&&t in e.props,ownKeys:e=>Reflect.ownKeys(e.props).filter((t=>!e.exclude.includes(t)))};function sr(e,t,n){return new Proxy({props:e,exclude:t,name:n,other:{},to_proxy:[]},or)}const ar={get(e,t){if(!e.exclude.includes(t))return yn(e.version),t in e.special?e.special[t]():e.props[t]},set:(e,t,n)=>(t in e.special||(e.special[t]=dr({get[t](){return e.props[t]}},t,4)),e.special[t](n),we(e.version),!0),getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t))return t in e.props?{enumerable:!0,configurable:!0,value:e.props[t]}:void 0},deleteProperty:(e,t)=>(e.exclude.includes(t)||(e.exclude.push(t),we(e.version)),!0),has:(e,t)=>!e.exclude.includes(t)&&t in e.props,ownKeys:e=>Reflect.ownKeys(e.props).filter((t=>!e.exclude.includes(t)))};function lr(e,t){return new Proxy({props:e,exclude:t,special:{},version:pe(0)},ar)}const ur={get(e,t){let n=e.props.length;for(;n--;){let i=e.props[n];if(c(i)&&(i=i()),"object"==typeof i&&null!==i&&t in i)return i[t]}},set(e,t,n){let i=e.props.length;for(;i--;){let r=e.props[i];c(r)&&(r=r());const s=o(r,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let i=e.props[n];if(c(i)&&(i=i()),"object"==typeof i&&null!==i&&t in i){const e=o(i,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===A||t===C)return!1;for(let n of e.props)if(c(n)&&(n=n()),null!=n&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props){c(n)&&(n=n());for(const e in n)t.includes(e)||t.push(e)}return t}};function cr(...e){return new Proxy({props:e},ur)}function dr(e,t,n,i){var r,s=!!(1&n),a=!U||!!(2&n),l=!!(8&n),u=!!(16&n),c=!1;l?[r,c]=function(e){var t=er;try{return er=!1,[e(),er]}finally{er=t}}((()=>e[t])):r=e[t];var d,f=A in e||C in e,h=l&&(o(e,t)?.set??(f&&t in e&&(n=>e[t]=n)))||void 0,g=i,v=!0,p=!1,m=()=>(p=!0,v&&(v=!1,g=u?bn(i):i),g);if(void 0===r&&void 0!==i&&(h&&a&&function(e){{const t=new Error(`props_invalid_value\nCannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value\nhttps://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}}(t),r=m(),h&&h(r)),a)d=()=>{var n=e[t];return void 0===n?m():(v=!0,p=!1,n)};else{var y=(s?Je:Ye)((()=>e[t]));y.f|=131072,d=()=>{var e=yn(y);return void 0!==e&&(g=void 0),void 0===e?g:e}}if(!(4&n))return d;if(h){var b=e.$$legacy;return function(e,t){return arguments.length>0?(a&&t&&!b&&!c||h(t?d():e),e):d()}}var k=!1,$=ye(r),I=Je((()=>{var e=d(),t=yn($);return k?(k=!1,t):$.v=e}));return s||(I.equals=x),function(e,t){if(arguments.length>0){const n=t?yn(I):a&&l?Fe(e):e;return I.equals(n)||(k=!0,Ie($,n),p&&void 0!==g&&(g=n),bn((()=>yn(I)))),e}return yn(I)}}{function Rh(e){if(!(e in globalThis)){let t;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(void 0!==t)return t;!function(e){{const t=new Error(`rune_outside_svelte\nThe \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files\nhttps://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}}(e)},set:e=>{t=e}})}}Rh("$state"),Rh("$effect"),Rh("$derived"),Rh("$inspect"),Rh("$props"),Rh("$bindable")}function fr(e){null===se&&oe("onMount"),U&&null!==se.l?pr(se).m.push(e):rt((()=>{const t=bn(e);if("function"==typeof t)return t}))}function hr(e){null===se&&oe("onDestroy"),fr((()=>()=>bn(e)))}function gr(){const e=se;return null===e&&oe("createEventDispatcher"),(n,i,r)=>{const o=e.s.$$events?.[n];if(o){const s=t(o)?o.slice():[o],a=function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}(n,i,r);for(const t of s)t.call(e.x,a);return!a.defaultPrevented}return!0}}function vr(e){null===se&&oe("afterUpdate"),null===se.l&&F("afterUpdate"),pr(se).a.push(e)}function pr(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}var mr=Object.freeze({__proto__:null,afterUpdate:vr,beforeUpdate:function(e){null===se&&oe("beforeUpdate"),null===se.l&&F("beforeUpdate"),pr(se).b.push(e)},createEventDispatcher:gr,createRawSnippet:function(e){return(t,...n)=>{var i,r=e(...n);Se?(i=Ae,Le()):(null===Be(i=We(Wn(r.render().trim())))&&1===i.nodeType||console.warn("%c[svelte] invalid_raw_snippet_render\n%cThe `render` function passed to `createRawSnippet` should return HTML for a single element\nhttps://svelte.dev/e/invalid_raw_snippet_render",B,q),t.before(i));const o=r.setup?.(i);Bn(i,i),"function"==typeof o&&it(o)}},flushSync:function(e){mn(e)},getAllContexts:function(){return he("getAllContexts")},getContext:function(e){return he("getContext").get(e)},hasContext:function(e){return he("hasContext").has(e)},hydrate:function(e,t){Ve(),t.intro=t.intro??!1;const n=t.target,i=Se,r=Ae;try{for(var o=We(n);o&&(8!==o.nodeType||"["!==o.data);)o=Be(o);if(!o)throw D;Ce(!0),Ee(o),Le();const i=ei(e,{...t,anchor:o});if(null===Ae||8!==Ae.nodeType||"]"!==Ae.data)throw H(),D;return Ce(!1),i}catch(i){if(i===D)return!1===t.recover&&function(){{const e=new Error("hydration_failed\nFailed to hydrate the application\nhttps://svelte.dev/e/hydration_failed");throw e.name="Svelte error",e}}(),Ve(),Ke(n),Ce(!1),Zn(e,t);throw i}finally{Ce(i),Ee(r)}},mount:Zn,onDestroy:hr,onMount:fr,setContext:function(e,t){const n=he("setContext");return bn((()=>ee(t,null,!0))),n.set(e,t),t},tick:async function(){await Promise.resolve(),mn()},unmount:ni,untrack:bn});function yr(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function br(e,t,n){return t=Er(t),xr(e,Tr()?Reflect.construct(t,n||[],Er(e).constructor):t.apply(e,n))}function kr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){return e.get(yr(e,t))}function Or(e,t,n){kr(e,t),t.set(e,n)}function wr(e,t,n){return e.set(yr(e,t),n),n}function _r(e,t){kr(e,t),t.add(e)}function Ar(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fr(i.key),i)}}function Sr(e,t,n){return t&&Ar(e.prototype,t),n&&Ar(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cr(e,t,n){return(t=Fr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}function Lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nr(e,t)}function Tr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tr=function(){return!!e})()}function xr(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nr(e,t){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nr(e,t)}function Fr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}"undefined"!=typeof window&&(window.__svelte||={v:new Set}).v.add("5");const Ur=Object.freeze({checkbox:function(e,t=void 0){return"object"==typeof t&&Object.hasOwn(t,"checked")&&Object.hasOwn(t,"unchecked")?e.checked?t.checked:t.unchecked:Object.hasOwn(e,"value")&&void 0!==e.value?!!e.checked&&e.value:e.checked}});let Pr=function(){function e(){$r(this,e)}return Sr(e,null,[{key:"inputValuesExtractors",get:function(){return Ur}},{key:"extractValueFromInput",value:function(t,n=void 0){return Object.hasOwn(e.inputValuesExtractors,t.type)?e.inputValuesExtractors[t.type](t,n):t.value}},{key:"onInput",value:function(t,n,i=void 0,r={}){if("function"==typeof n)return function(o){o.preventDefault();const s=e.extractValueFromInput(o.currentTarget,i);return n({field:t,value:s},o,r)}}},{key:"isEnterEvent",value:function(e){return"Enter"===e.key&&!e.altKey&&!e.ctrlKey&&!e.shiftKey}},{key:"onlyOnEnter",value:function(t){return function(n){return!e.isEnterEvent(n)||t(n)}}},{key:"isMobile",value:function(){const e=window.matchMedia||window.msMatchMedia;if(e){let t="(pointer:coarse)";if(arguments.length){t=`only screen and (max-width: ${"boolean"==typeof arguments[0]?this.MOBILE_WIDTH_BREAK_POINT:arguments[0]}px)`}return e(t).matches}return!1}},{key:"removeBodyScroll",value:function(){document.body.classList.add(this.SCROLL_DISABLER_CLASS)}},{key:"restoreBodyScroll",value:function(){document.body.classList.remove(this.SCROLL_DISABLER_CLASS)}},{key:"formatPhone",value:function(e,t=this.FILLER){const n=[1,2,2,2,3,3,3,4,4,5,5];let i=e.replace(/\D/g,"");if(i.length>11){let e=i.length-11;for(;e>0;)e--,n.unshift(1)}let r=["","","","",""];Array.from(i).forEach((function(e,t){let i=n[t];r[i-1]=r[i-1]+e}));const o=n.reduce((function(e,t){return void 0===e[t]?e[t]=1:e[t]+=1,e}),{});for(let e in r){let n=o[parseInt(e)+1]-r[e].length;for(;n>0;)r[e]=r[e]+t,n--}return`+${r[0]} (${r[1]}) ${r[2]}-${r[3]}-${r[4]}`}},{key:"setMoneySign",value:function(e){this.MONEY_SIGN=e}},{key:"formatPrice",value:function(e){let t=Math.floor(e/100),n=e%100;return`${this.MONEY_SIGN}${t.toString()}.${n.toString()}`}},{key:"formatLocaleDatetime",value:function(e,t={date:!0,time:!0}){const n=e.toLocaleDateString(window.navigator.language),i=e.toLocaleTimeString(window.navigator.language);return t.date&&t.time?`${n} ${i}`:t.date&&!t.time?n:i}},{key:"tryFormatLocaleDateTime",value:function(t,n={date:!0,time:!0}){if("string"==typeof t||"number"==typeof t){const i=new Date(t);return e.formatLocaleDatetime(i,n)}return"object"==typeof t?e.formatLocaleDatetime(t,n):""}},{key:"formatTimestamp",value:function(e,t=0){let n=60*((new Date).getTimezoneOffset()-t)*1e3;return new Date(parseInt(e)-n).toLocaleString(window.navigator.language)}},{key:"declOfNum",value:function(e,t){let n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:1==n?t[0]:t[2]}},{key:"humanizedTimeDiff",value:function(e){let t,n=(new Date).getTime(),i=Math.round((n-e)/1e3);if(i<60)return t=this.declOfNum(i,this.TIME.SECONDS),`${i} ${t} назад`;if(i<3600){let e=Math.floor(i/60);return t=this.declOfNum(e,this.TIME.MINUTES),`${e} ${t} назад`}{let e=Math.floor(i/3600);return t=this.declOfNum(e,this.TIME.HOURS),`${e} ${t} назад`}}},{key:"stylesObjectToString",value:function(e={}){if("object"!=typeof e)return"";Object.keys(e).map((function(t){return`${t}: ${e.prop};`})).join("")}},{key:"stringOrNumber",value:function(e){return["string","number"].indexOf(typeof e)>-1}},{key:"stringsOfNumbers",value:function(e){return e.every(this.stringOrNumber)}}])}();Cr(Pr,"CLEAR_MACRO","__CLEAR__"),Cr(Pr,"ERROR_DEFAULT","Что пошло не так."),Cr(Pr,"DEFAULT_REDIRECT_TIMEOUT",3e3),Cr(Pr,"CLASS_OK","is-success"),Cr(Pr,"CLASS_ERR","is-danger"),Cr(Pr,"SCROLL_DISABLER_CLASS","remove-scroll"),Cr(Pr,"FILLER","_"),Cr(Pr,"SCROLL_OPTIONS",{top:0,behavior:"smooth"}),Cr(Pr,"MOBILE_WIDTH_BREAK_POINT",760),Cr(Pr,"MONEY_SIGN","&#8381;"),Cr(Pr,"TIME",{SECONDS:["секунду","секунды","секунд"],MINUTES:["минуту","минуты","минут"],HOURS:["час","часа","часов"]});var Dr=qn("<div><!></div>");function Mr(e,t){let n=dr(t,"class",3,""),i=sr(t,["$$slots","$$events","$$legacy","class","children"]);var r=Dr();let o;vi(qe(r),(()=>t.children??d)),Te(r),lt((()=>o=Oi(r,o,{class:`block ${n()??""}`,...i}))),Kn(e,r)}var Rr=qn("<div><!></div>");function jr(e,t){ce(t,!0);let n=dr(t,"id",3,""),i=dr(t,"class",3,""),r=dr(t,"role",3,"button"),o=dr(t,"tabIndex",3,0),s=dr(t,"onclick",3,(()=>!0));const a=t.onkeyup??(s()?Pr.onlyOnEnter(s()):void 0);var l=Rr();l.__click=function(...e){s()?.apply(this,e)},l.__keyup=a,vi(qe(l),(()=>t.children??d)),Te(l),lt((()=>{Ii(l,"id",n()),Ci(l,`box ${i()??""} `),Ii(l,"role",r()),Ii(l,"tabindex",o())})),Kn(e,l),de()}Vn(["click","keyup"]);var Vr=qn("<div><!></div>");function zr(e,t){ce(t,!0);let n=dr(t,"id",3,""),i=dr(t,"class",3,""),r=dr(t,"role",3,"button"),o=dr(t,"tabIndex",3,0),s=dr(t,"onclick",3,(()=>!0));const a=t.onkeyup??(s()?Pr.onlyOnEnter(s()):void 0);var l=Vr();l.__click=function(...e){s()?.apply(this,e)},l.__keyup=a,vi(qe(l),(()=>t.children??d)),Te(l),lt((()=>{Ii(l,"id",n()),Ci(l,`content ${i()??""}`),Ii(l,"role",r()),Ii(l,"tabindex",o())})),Kn(e,l),de()}Vn(["click","keyup"]);var Wr=qn("<div><!></div>");function Br(e,t){ce(t,!0);let n=dr(t,"class",3,""),i=dr(t,"preventDefault",3,!0),r=dr(t,"click",3,!0),o=dr(t,"enter",3,!0),s=sr(t,["$$slots","$$events","$$legacy","class","preventDefault","click","enter","callback","children"]);const a=e=>{i()&&e.preventDefault(),t.callback(e)},l=e=>{i()&&e.preventDefault(),e&&"Enter"==e.key&&t.callback(e)};var u=Wr();let c;vi(qe(u),(()=>t.children)),Te(u),lt((()=>c=Oi(u,c,{class:n(),role:"button",tabindex:"0",onkeyup:o()?l:void 0,onclick:r()?a:void 0,...s}))),Kn(e,u),de()}var qr=Object.freeze({__proto__:null,UIBlock:Mr,UIBlockInnerVertical:function(e,t){ce(t,!0);let n=dr(t,"id",3,""),i=dr(t,"class",3,""),r=dr(t,"role",3,"button"),o=dr(t,"tabIndex",3,0),s=dr(t,"onclick",3,(()=>!0)),a=me("block-inner-vertical");rt((()=>{Ie(a,`block-inner-vertical ${i()}`)}));const l=t.onkeyup??(s()?Pr.onlyOnEnter(s()):void 0);Mr(e,{get id(){return n()},get class(){return yn(a)},get onclick(){return s()},onkeyup:l,get role(){return r()},get tabIndex(){return o()},children:(e,n)=>{var i=Gn();vi(He(i),(()=>t.children??d)),Kn(e,i)},$$slots:{default:!0}}),de()},UIBox:jr,UIClickableDiv:Br,UIContent:zr});function Hr(e={}){const t={get:function(e,t){return Object.hasOwn(e,t)?Reflect.get(...arguments):t}};return new Proxy(e,t)}const Gr=function(){const{subscribe:e,set:t,update:n}=Xi(Hr());return{subscribe:e,update:n,set:function(e){t(Hr(e))},reset:function(){return t(Hr())}}}();function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jr,Yr={exports:{}};
/*!
	 * EventEmitter v5.2.9 - git.io/ee
	 * Unlicense - http://unlicense.org/
	 * Oliver Caldwell - https://oli.me.uk/
	 * @preserve
	 */var Qr,Zr,Xr,eo,to,no=(Jr||(Jr=1,Qr=Yr,function(e){function t(){}var n=t.prototype,i=e.EventEmitter;function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}function s(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&s(e.listener)}n.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},n.addListener=function(e,t){if(!s(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},n.on=o("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=o("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=r(o[i],t))&&o[i].splice(n,1);return this},n.off=o("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},n.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},n.removeAllListeners=o("removeEvent"),n.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),r=0;r<n.length;r++)!0===(i=n[r]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=o("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=i,t},Qr.exports?Qr.exports=t:e.EventEmitter=t}("undefined"!=typeof window?window:Yr.exports||{})),Yr.exports),io=Kr(no);var ro,oo=(to||(to=1,eo=function(){if(Xr)return Zr;Xr=1;const e=".",t=":",n="::",i="()";return Zr=class{static get SUB_PATH_START(){return"{"}static get SUB_PATH_END(){return"}"}static get PATH_SPLIT(){return e}static get PATH_START_OBJECT(){return t}static get PATH_START_HELPERS(){return n}static get FUNCTION_MARKER(){return i}static get MAX_DEEP(){return 10}static findNextSubPath(e){let t="",n=!1;for(let i=0;i<e.length;i++)if("{"===e[i])n=!0,t="";else{if("}"===e[i]&&n)return t;t+=e[i]}return n?t:null}static replaceSubPath(e,t,n){let i="{"+t+"}",r=0;for(;e.indexOf(i)>-1&&r<10;)e=e.replace(i,n),r++;return e}static parseSubs(e,t,i){let r,o=this.findNextSubPath(e),s=0;for(;o&&(r=this.getValueByPath(o.indexOf(n)>-1?i:t,o,t,i),e=this.replaceSubPath(e,o,r),s++,!(s>10));)o=this.findNextSubPath(e);return e}static get(e,i,r=void 0){switch(e){case t:return i;case n:return r}return e=this.parseSubs(e,i,r),this.getValueByPath(e.indexOf(n)>-1?r:i,e,i,r)}static set(e,t,i,r=void 0){3===arguments.length&&(r=i,i=void 0);let o,s=this.findNextSubPath(e),a=0;for(;s&&(o=this.getValueByPath(s.indexOf(n)>-1?i:t,s,t,i),e=this.replaceSubPath(e,s,o),!(a>10));)s=this.findNextSubPath(e),a++;this.setValueByPath(t,e,r),t.isRecord&&this.normilizePath(e).length>1&&t.__isActive&&t.trigger("change",t,e,r)}static unset(e,t,n){this.set(e,t,n,null)}static parsePathStep(e,r,o){let s=null;if(0===e.indexOf(n)&&o){if(s=e.replace(n,""),s.indexOf(i)!==s.length-2)return o[s];if(s=s.replace(i,""),Object.prototype.hasOwnProperty.call(o,s))return o[s](r,void 0)}else if(0===e.indexOf(t)&&r){if(s=e.replace(t,""),s.indexOf(i)!==s.length-2)return r[s];if(s=s.replace(i,""),Object.prototype.hasOwnProperty.call(r,s))return r[s](r,void 0)}return e}static parsePath(t,n,i){Array.isArray(t)||(t=t.split(e));for(var r=0;r<t.length;r++)t[r]=this.parsePathStep(t[r],n,i);return t}static normilizePath(n){if(Array.isArray(n))return n;for(;n.indexOf(t)>-1;)n=n.replace(t,"");return n.split(e)}static ifFullSubPath(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}static getValueByPath(e,t,n,r){let o=(t=this.normilizePath(t)).shift(),s=o.indexOf(i)>-1;if(s&&(o=o.replace(i,"")),("object"==typeof e||"function"==typeof e)&&null!=e&&void 0!==e[o]&&null!==e[o]){let i=s?e[o]({item:n,helpers:r}):e[o];return t.length>0?this.getValueByPath(i,t,n,r):i}}static setValueByPath(e,t,n){let i=(t=this.normilizePath(t)).shift();t.length>0?(Object.prototype.hasOwnProperty.call(e,i)||(e[i]={}),this.setValueByPath(e[i],t,n)):e[i]=n}static join(){return Array.prototype.slice.call(arguments).join(e)}},Zr}()),eo),so=Kr(oo);let ao=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===lo}(e)}(e)};var lo="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function uo(e,t){return(!t||!1!==t.clone)&&ao(e)?fo((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function co(e,t,n){return e.concat(t).map((function(e){return uo(e,n)}))}function fo(e,t,n){const i=Array.isArray(t);if(i===Array.isArray(e)){if(i){return((n||{arrayMerge:co}).arrayMerge||co)(e,t,n)}return function(e,t,n){const i={};return ao(e)&&Object.keys(e).forEach((function(t){i[t]=uo(e[t],n)})),Object.keys(t).forEach((function(r){ao(t[r])&&e[r]?i[r]=fo(e[r],t[r],n):i[r]=uo(t[r],n)})),i}(e,t,n)}return uo(t,n)}fo.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return fo(e,n,t)}),{})};let ho=function(){function e(){$r(this,e)}return Sr(e,null,[{key:"isError",value:function(e){return e instanceof Error||Object.hasOwn(e,"status")&&"error"===e.status}},{key:"mute",value:function(){e.ENV_TYPE="production"}},{key:"pad",value:function(e){return e<10?"0"+e:e}},{key:"getTodayDate",value:function(){let e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()}},{key:"objHas",value:function(e,t){return Object.hasOwn(e,t)}},{key:"copyObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"partCopyObj",value:function(e,t){let n=Object.keys(e).reduce((function(n,i){return t.includes(i)&&(n[i]=e[i]),n}),{});return JSON.parse(JSON.stringify(n))}},{key:"compareTwoArrays",value:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}},{key:"isFunc",value:function(e){return"function"==typeof e}},{key:"isAsync",value:function(e){return"AsyncFunction"===e.constructor.name}},{key:"executeObjectFunction",value:async function(t,n,i){if(t){const r=so.get(":"+n,t);if(e.isFunc(r))return e.isAsync(r)?await r(...i):r(...i)}}},{key:"mapBind",value:function(e,t,n){n.forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n].bind(e))}))}},{key:"isClass",value:function(e){return/^\s*class/.test(e.toString())}},{key:"detectType",value:function(t){return"function"!=typeof t?typeof t:e.isClass(t)?"class":"function"}},{key:"isArray",value:function(e){return"object"==typeof e&&e instanceof Array}},{key:"localIsoDate",value:function(t){return(t=t||new Date).getFullYear()+"-"+e.pad(t.getMonth()+1)+"-"+e.pad(t.getDate())+"T"+e.pad(t.getHours())+":"+e.pad(t.getMinutes())+":"+e.pad(t.getSeconds())}},{key:"getToday",value:function(){let t=new Date;return t.getFullYear()+"-"+e.pad(t.getMonth()+1)+"-"+e.pad(t.getDate())}},{key:"backlogAdd",value:function(t,n="log"){!0===e.get("backlog")&&e.backlog.push({msg:t,type:n})}},{key:"dumpBacklog",value:function(){for(;e.backlog.length;){let t=e.backlog.shift();window[e.LOG][t.type](...t.msg)}}},{key:"logMsg",value:function(){let t=e.localIsoDate();window[e.LOG].log(`[${t}]: `,...arguments),e.backlogAdd([`[${t}]: `,...arguments],"log")}},{key:"log",value:function(){e.logMsg(...arguments)}},{key:"createLogger",value:function(t){return{log:e.genLogMsg(t),error:e.genLogError(t),debug:e.genLogDebug(t),report:e.report}}},{key:"genLogMsg",value:function(t){return function(){let n=e.localIsoDate();window[e.LOG].log(`[${n}]: ${t}::`,...arguments),e.backlogAdd([`[${n}]: ${t}::`,...arguments],"log")}}},{key:"isDev",value:function(){return e.ENV_TYPE===e.DEV_ENV}},{key:"debug",value:function(){return e.isDev()?e.logMsg(...arguments):e.NOOP}},{key:"genLogDebug",value:function(t){return e.isDev()?e.genLogMsg(t):e.NOOP}},{key:"error",value:function(){e.logError(...arguments)}},{key:"logError",value:function(){let t=e.localIsoDate();window[e.LOG].error(`[${t}]: `,...arguments),e.backlogAdd([`[${t}]: `,...arguments],"error")}},{key:"genLogError",value:function(t){return function(){let n=e.localIsoDate();window[e.LOG].error(`[${n}]: ${t}::`,...arguments),e.backlogAdd([`[${n}]: ${t}::`,...arguments],"error")}}},{key:"report",value:function(t){if(e.getApp()){let n=e.getApp().getService("nsErrorReporter");n&&n.report(t).catch(e.error)}else e.get("production")||e.error(...arguments)}},{key:"trace",value:function(){e.get("production")||e.trace(...arguments)}},{key:"trimBackslash",value:function(e){return 0===e.indexOf("/")&&(e=e.substring(1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),e}},{key:"buildURL",value:function({prefix:t,module:n,model:i,id:r,action:o}={prefix:"",module:"",model:"",id:"",action:""}){let s=["/"];return t&&s.push(encodeURIComponent(e.trimBackslash(t))),n&&s.push(encodeURIComponent(e.trimBackslash(n))),i&&s.push(encodeURIComponent(e.trimBackslash(i))),r&&s.push(encodeURIComponent(e.trimBackslash(r))),o&&s.push(encodeURIComponent(e.trimBackslash(o))),s=s.filter((function(e){return""!==e})),s.join("/").replace(/\/\//g,"/")}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"lowerFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}},{key:"strLengthCap",value:function(e,t=50,n="..."){return"string"==typeof e&&e.length>t?e.substr(0,t)+n:e}},{key:"escapeHtml",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"startApp",value:function(e){document.addEventListener("DOMContentLoaded",e)}},{key:"getApp",value:function(){return e.get("app")}},{key:"extendAppConfig",value:function(t,n){return e.deepMerge(t,n)}},{key:"absorbModule",value:function(){let t,n,i={};1==arguments.length?(i={...arguments[0]},Object.hasOwnProperty.call(arguments[0],"defaultConf")&&(t=arguments[0].defaultConf,delete i.defaultConf),Object.hasOwnProperty.call(arguments[0],"mod")&&(n=arguments[0].mod,delete i.mod)):(e.log("WARNING: absorbModule format obsoleted, use object {defaultConf, mod, services, uis, wsc, etc}"),t=arguments[0],n=arguments[1],arguments.length>2&&(i.services=arguments[2]),arguments.length>3&&(i.uis=arguments[3]),arguments.length>4&&(i.wcs=arguments[4]));for(let r in n)"manifest"!==r?"function"==typeof e.get(`absorb.${r}`)?(Object.hasOwn(i,r)||(i[r]={},e.log(`WARNING: no accamulator object provided for '${r}' collection`)),e.get(`absorb.${r}`)(i[r],n[r])):0===r.indexOf("nc")?(Object.hasOwn(t,"controllers")||(t.controllers={}),t.controllers[r]=n[r]):(Object.hasOwn(window,"notEnv")||(window.notEnv={}),window.notEnv[r]=n[r]):t=e.extendAppConfig(t,n.manifest);return t}},{key:"defineIfNotExists",value:function(e,t,n){Object.hasOwn(e,t)||(e[t]=n)}},{key:"register",value:function(t,n){e.registry[t]=n}},{key:"get",value:function(t){return Object.hasOwn(e.registry,t)?e.registry[t]:null}},{key:"moveItem",value:function(e,t,n){const i=function(t){return t<e.length&&t>-1};i(n)&&i(t)&&e.splice(n,0,e.splice(t,1)[0])}},{key:"stripProxy",value:function(t){if(null!=t&&t.isProxy){t=Array.isArray(t)?Array.from(t):Object.assign({},t);for(let n in t)Object.hasOwn(t,n)&&(t[n]=e.stripProxy(t[n]))}return t}},{key:"pipe",value:function(e,t){let n;for(let i of t)n=i(n||e);return n}},{key:"getAPI",value:function(t){return e.getManager()?.getAPI(t)??null}},{key:"setManager",value:function(t){e.MANAGER=t}},{key:"getManager",value:function(){return e.MANAGER}},{key:"getJSON",value:function(e){return fetch(e).then((function(e){return e.json()}))}},{key:"wait",value:function(e){return new Promise((function(t){setTimeout(t,1e3*e)}))}},{key:"registerWidgetEvents",value:function(t){e.getApp()&&Object.keys(t).forEach((function(n){e.getApp().on(n,t[n])}))}},{key:"navigate",value:function(t){e.getApp()&&e.getApp().getWorking("router").navigate(t)}},{key:"select",value:function(t,n,i){return t&&"object"==typeof t&&e.objHas(t,n)&&void 0!==t[n]&&null!==t[n]?t[n]:i}}])}();function go(e,t,n){Object.hasOwn(e,t)||(e[t]={connection:{},router:{routes:{}},messenger:{}});let i=e[t];if(Object.hasOwn(n,"router")&&Object.hasOwn(n.router,"routes"))for(let e in n.router.routes)Object.hasOwn(i.router.routes,e)||(i.router.routes[e]={}),Object.assign(i.router.routes[e],{...n.router.routes[e]});Object.hasOwn(n,"messenger")&&Object.assign(i.messenger,{...n.messenger}),Object.hasOwn(n,"connection")&&Object.assign(i.connection,{...n.connection});for(let e of["name","getToken","logger","identity","credentials"])Object.hasOwn(n,e)&&(i[e]=n[e])}ro=ho,Cr(ho,"MANAGER",null),Cr(ho,"LOG","console"),Cr(ho,"deepMerge",fo),Cr(ho,"TZ_OFFSET",(new Date).getTimezoneOffset()/60*-1),Cr(ho,"DEV_ENV","production"),Cr(ho,"ENV_TYPE",window.NOT_ENV_TYPE??ro.DEV_ENV),Cr(ho,"NOOP",(function(){})),Cr(ho,"backlog",[]),Cr(ho,"registry",{}),ho.register("absorb.wsc",(function(e,t){if(e)for(let n in t)go(e,n,t[n])})),ho.register("absorb.services",(function(e,t){if(e)for(let n in t)Object.hasOwn(e,n)&&ho.logError(`services property duplication ${n}`),e[n]=t[n]})),ho.register("absorb.uis",(function(e,t){if(e)for(let n in t)Object.hasOwn(e,n)&&ho.logError(`uis property duplication ${n}`),e[n]=t[n]})),ho.register("absorb.uis",(function(e,t){if(e)for(let n in t)Object.hasOwn(e,n)&&ho.logError(`fields property duplication ${n}`),e[n]=t[n]}));let vo=function(e){function t(){var e;$r(this,t),(e=br(this,t)).dict={},e.helpers={};let n=e.restoreFromStorage();return n&&e.set(n),e}return Lr(t,e),Sr(t,[{key:"format",value:function(e,t){return so.parseSubs(e,t,this.helpers)}},{key:"say",value:function(e,t=!1){try{if(ho.objHas(this.dict,e)){let n=this.dict[e],i="";return i=t?this.format(n,t):n,i}throw new Error(`Unknown locale phrase: ${e}`)}catch(t){return ho.debug(t),e}}},{key:"set",value:function(e){Gr.set(e),this.saveToStorage(e),this.dict=Object.assign({},{...e}),this.emit("change")}},{key:"saveToStorage",value:function(e){if(window.localStorage)try{return window.localStorage.setItem("dictionary",JSON.stringify(e))}catch(e){return ho.debug(e),!1}return!1}},{key:"restoreFromStorage",value:function(){if(window.localStorage)try{let e=window.localStorage.getItem("dictionary");if(e){return JSON.parse(e)}return!1}catch(e){return ho.debug(e),!1}return!1}},{key:"vocabulary",value:function(){return Gr}}])}(io);var po=new vo;const mo=po.say.bind(po);var yo=qn("<span> </span>");function bo(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"id",3,"tagId"),o=dr(t,"title",7,"tag"),s=dr(t,"color",3,"info"),a=dr(t,"size",3,"normal"),l=dr(t,"padding",3,"normal"),u=dr(t,"bold",3,!1),c=dr(t,"right",3,!1),d=dr(t,"left",3,!1),f=dr(t,"top",3,!1),h=dr(t,"bottom",3,!1),g=dr(t,"class",3,""),v=dr(t,"events",23,(()=>({}))),p=dr(t,"register",19,(()=>ho.registerWidgetEvents.bind(ho))),m=dr(t,"onUpdate",3,(e=>{Object.hasOwn(e,"title")&&o(e.title)})),y=dr(t,"vars",19,(()=>({}))),b=dr(t,"role",3,"button"),k=dr(t,"tabIndex",3,"0"),$=Je((()=>c()||d()||f()||h())),I=Je((()=>!c()&&!d()&&yn($))),O=Je((()=>!h()&&!f()&&yn($)));function w(){return`tag-${r()}:update`}let _=me("");fr((()=>{Object.hasOwn(v(),w())||(v()[w()]=m()),p()(v())})),rt((()=>{Ie(_,Fe(Object.keys(z(y())).map((e=>`${e}: ${y()[e]};`)).join("")))}));var A=Gn(),S=He(A),C=e=>{var i=yo();i.__keydown=function(...e){(t.action?t.action:void 0)?.apply(this,e)},i.__click=function(...e){(t.action?t.action:void 0)?.apply(this,e)};var v=qe(i,!0);Te(i),lt((()=>{Ii(i,"role",b()),Ii(i,"tabindex",k()),Ii(i,"id",`tag-${r()??""}`),Ci(i,`\n  tag\n  ${("normal"!==l()?`is-padded-${l()}`:"")??""}\n  is-${a()??""}\n  is-${s()??""}  \n  ${g()??""}`),Ii(i,"style",yn(_)),Ei(i,"is-clickable",t.action),Ei(i,"has-text-weight-bold",u()),Ei(i,"is-vertical-centered",yn(O)),Ei(i,"is-horizontal-centered",yn(I)),Ei(i,"is-sided",yn($)),Ei(i,"is-sided-right",c()),Ei(i,"is-sided-left",d()),Ei(i,"is-sided-top",f()),Ei(i,"is-sided-bottom",h()),Qn(v,nr(Gr,"$LOCALE",n)[o()])})),Kn(e,i)};ii(S,(e=>{o()&&e(C)})),Kn(e,A),de(),i()}function ko(e,t){let n=dr(t,"LC_TRUE",3,"not-node:booleans_true"),i=dr(t,"LC_FALSE",3,"not-node:booleans_false"),r=dr(t,"inverted",3,!1);const o={title:i(),color:r()?"success":"danger"},s={title:n(),color:r()?"danger":"success"};let a=Je((()=>t.value?s:o));bo(e,cr((()=>yn(a))))}Vn(["keydown","click"]);var $o=qn('<span class="label"> <!></span>');function Io(e,t){ce(t,!0);let n=dr(t,"values",19,(()=>[])),i=dr(t,"inverted",3,!1),r=dr(t,"componentConstructor",3,ko),o=me(Fe([]));fr((()=>{"boolean"==typeof n()?Ie(o,Fe([{value:n()}])):Array.isArray(n())&&(n().every((e=>"boolean"==typeof e))?Ie(o,Fe(n().map((e=>({value:e}))))):Ie(o,Fe([...n()])))}));var s=Gn(),a=He(s),l=e=>{var n=Gn();ai(He(n),17,(()=>yn(o)),si,((e,n,o)=>{var s=Gn(),a=He(s),l=e=>{var i=Gn();vi(He(i),(()=>t.itemRenderer),(()=>yn(n)),(()=>o)),Kn(e,i)},u=e=>{var t=Gn(),o=He(t);const s=Je((()=>i()||yn(n).inverted));pi(o,r,((e,t)=>{t(e,cr((()=>yn(n)),{get inverted(){return yn(s)}}))})),Kn(e,t)};ii(a,(e=>{t.itemRenderer?e(l):e(u,!1)})),Kn(e,s)})),Kn(e,n)};ii(a,(e=>{yn(o).length&&e(l)})),Kn(e,s),de()}function Oo(e,t){t(!t())}async function wo(e,t,n,i,r,o,s,a){try{await navigator.clipboard.writeText(t()),n()&&(Ie(i,!0),yn(r).dataset.tooltip=o(),setTimeout((()=>{Ie(i,!1),yn(r).removeAttribute("data-tooltip")}),s()))}catch(e){a.onerror&&a.onerror(e)}}var _o=qn('<span role="button" tabindex="0"><i></i></span>'),Ao=qn('<span class="icon is-small is-right is-clickable is-vertical-middle" role="button" tabindex="0"><i></i></span>'),So=qn("<span> </span> <!> <!>",1);Vn(["click","keydown"]);var Co=qn("<span> </span>");function Eo(e,t){ce(t,!0);let n=dr(t,"id",3,"tagId"),i=dr(t,"state",15,"light"),r=dr(t,"size",3,"normal"),o=dr(t,"labels",19,(()=>({black:"black",dark:"dark",light:"light",white:"white",primary:"primary",link:"link",info:"info",success:"success",warning:"warning",danger:"danger"}))),s=dr(t,"class",3,"mx-1"),a=dr(t,"padding",3,"normal"),l=dr(t,"bold",3,!1),u=dr(t,"right",3,!1),c=dr(t,"left",3,!1),d=dr(t,"top",3,!1),f=dr(t,"bottom",3,!1),h=dr(t,"events",31,(()=>Fe({}))),g=dr(t,"register",19,(()=>ho.registerWidgetEvents.bind(ho))),v=dr(t,"onUpdate",3,(e=>{Object.hasOwn(e,"state")&&i(e.state)}));function p(){return`indicator-${n()}:update`}fr((()=>{Object.hasOwn(h(),p())||h(h()[p()]=v(),!0),g()(h())}));let m=Je((()=>u()||c()||d()||f()));var y=Co(),b=qe(y,!0);Te(y),lt((()=>{Ci(y,`tag is-${r()??""} ${("normal"!==a()?`is-padded-${a()}`:"")??""} is-${i()??""} ${s()??""}`),Ei(y,"has-text-weight-bold",l()),Ei(y,"is-sided",yn(m)),Ei(y,"is-sided-right",u()),Ei(y,"is-sided-left",c()),Ei(y,"is-sided-top",d()),Ei(y,"is-sided-bottom",f()),Qn(b,o()[i()])})),Kn(e,y),de()}var Lo=qn('<span class="title"> </span>'),To=qn("<div><!></div>");function xo(e,t){ce(t,!0);const[n,i]=ir();let r,o=dr(t,"loading",7,!1),s=dr(t,"size",3,"container"),a=dr(t,"title",3,"Waiting...");fr((()=>{t.ttl&&(r=setTimeout((()=>{o(!1),t.onreject()}),t.ttl))})),hr((()=>{r&&clearTimeout(r)}));var l=Gn(),u=He(l),c=e=>{var i=To(),r=qe(i),l=e=>{var n=Gn();vi(He(n),(()=>t.children??d)),Kn(e,n)},u=e=>{var t=Lo(),i=qe(t,!0);Te(t),lt((()=>Qn(i,nr(Gr,"$LOCALE",n)[a()]))),Kn(e,t)};ii(r,(e=>{t.children?e(l):e(u,!1)})),Te(i),lt((()=>{Ci(i,bi("page"===s()?"pageloader":"containerloader")),Ei(i,"is-active",o())})),Kn(e,i)};ii(u,(e=>{"hidden"!==s()&&e(c)})),Kn(e,l),de(),i()}var No=qn("<option> </option>");function Fo(e,t){ce(t,!0);const[n,i]=ir();var r=No(),o={},s=qe(r,!0);Te(r),lt((()=>{o!==(o=t.value)&&(r.value=null==(r.__value=t.value)?"":t.value),$i(r,t.selected),Qn(s,nr(Gr,"$LOCALE",n)[t.title])})),Kn(e,r),de(),i()}var Uo=qn('<span class="mr-2"> </span>'),Po=qn('<span class="mr-2"> </span>'),Do=qn("<div><select><!><!></select></div>");function Mo(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"value",15,""),s=dr(t,"variants",19,(()=>[])),a=dr(t,"placeholder",3,""),l=dr(t,"emptyValueTitle",3,""),u=dr(t,"fieldname",3,"select"),c=dr(t,"required",3,!0),d=dr(t,"readonly",3,!1),f=dr(t,"valid",3,!0),h=dr(t,"class",3,""),g=dr(t,"onchange",3,(()=>!0)),v=sr(t,["$$slots","$$events","$$legacy","value","variants","placeholder","emptyValueTitle","fieldname","required","readonly","size","color","valid","class","onchange"]),p=me(Fe([]));function m(e){return!!o()&&o()==e.id}function y(e){const t={field:u(),value:e.currentTarget.value};var n;(function(e){if(Array.isArray(e)&&Array.isArray(o())){if(ho.compareTwoArrays(o(),e))return!0}else if(e===o())return!0;return!1})(t.value)||((n=t.value)===Pr.CLEAR_MACRO?o(""):o(n),g()(t))}rt((()=>{Ie(p,Fe(Array.isArray(s())?s().filter(m):[]))}));let b=Je((()=>!f()));var k=Gn(),$=He(k),I=e=>{var t=Gn(),n=He(t),i=e=>{var t=Gn();ai(He(t),17,(()=>yn(p)),si,((e,t)=>{var n=Uo(),i=qe(n,!0);Te(n),lt((()=>Qn(i,r()[yn(t).title]))),Kn(e,n)})),Kn(e,t)},s=e=>{var t=Po(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()[l()]))),Kn(e,t)};ii(n,(e=>{o()?e(i):e(s,!1)})),Kn(e,t)},O=e=>{var n=Do(),i=qe(n);let r;Wi(i,(()=>r.value));var l=qe(i),f=e=>{const t=Je((()=>!o()));Fo(e,{get value(){return Pr.CLEAR_MACRO},get selected(){return yn(t)},get title(){return a()}})};ii(l,(e=>{a().length>0&&e(f)})),ai(Ge(l),17,s,(e=>e.id),((e,t)=>{const n=Je((()=>o()==yn(t).id));Fo(e,{get value(){return yn(t).id},get selected(){return yn(n)},get title(){return yn(t).title}})})),Te(i),Te(n),lt((()=>{Ci(n,`select ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${h()??""}`),r=Oi(i,r,{id:`form-field-select-${u()??""}`,name:u(),oninput:y,onblur:y,readonly:d(),required:c(),invalid:yn(b),size:t.size,...v}),"value"in r&&zi(i,r.value)})),Kn(e,n)};ii($,(e=>{d()?e(I):e(O,!1)})),Kn(e,k),de(),i()}function Ro(e,t,n,i){return e.stopPropagation(),t()&&t()({event:e,value:n.value}),i()&&i()(e,n.value)}var jo=qn('<span class="icon"><i></i></span>'),Vo=qn("<span> </span>"),zo=qn('<span class="icon"><i></i></span>'),Wo=qn("<!> <!> <!>",1),Bo=qn("<button><!></button>");function qo(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"title",3,""),s=dr(t,"light",3,!1),a=dr(t,"loading",3,!1),l=dr(t,"raised",3,!1),u=dr(t,"outlined",3,!1),c=dr(t,"inverted",3,!1),d=dr(t,"rounded",3,!1),f=dr(t,"disabled",3,!1),h=dr(t,"state",3,""),g=dr(t,"type",3,""),v=dr(t,"color",3,""),p=dr(t,"size",3,""),m=dr(t,"style",3,""),y=dr(t,"class",3,""),b=dr(t,"icon",3,!1),k=dr(t,"iconSide",3,"right"),$=dr(t,"onclick",3,(()=>!0)),I=dr(t,"action",3,(()=>!0));var O=Bo();O.__click=[Ro,$,t,I];var w=qe(O),_=e=>{var n=Gn();vi(He(n),(()=>t.children)),Kn(e,n)},A=e=>{var t=Gn(),n=He(t),i=e=>{var t=Wo(),n=He(t),i=e=>{var t=jo(),n=qe(t);Te(t),lt((()=>Ci(n,`fas fa-${b()??""} ${(p()?`is-${p()}`:"")??""}`))),Kn(e,t)};ii(n,(e=>{"left"===k()&&e(i)}));var s=Ge(n,2),a=e=>{var t=Vo(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()[o()]))),Kn(e,t)};ii(s,(e=>{o()&&e(a)}));var l=Ge(s,2),u=e=>{var t=zo(),n=qe(t);Te(t),lt((()=>Ci(n,`fas fa-${b()??""} ${(p()?`is-${p()}`:"")??""}`))),Kn(e,t)};ii(l,(e=>{"right"===k()&&e(u)})),Kn(e,t)},s=e=>{var t=Hn();lt((()=>Qn(t,r()[o()]))),Kn(e,t)};ii(n,(e=>{b()?e(i):e(s,!1)}),!0),Kn(e,t)};ii(w,(e=>{t.children?e(_):e(A,!1)})),Te(O),lt((()=>{O.disabled=f(),Ii(O,"type",g()?g():""),Ii(O,"style",m()),Ci(O,`\n  button\n  ${y()??""}\n  ${(h()?`is-${h()}`:"")??""}\n  ${(c()?"is-inverted":"")??""}\n  ${(u()?"is-outlined":"")??""}\n  ${(l()?"is-raised":"")??""}\n  ${(d()?"is-rounded":"")??""}\n  ${(s()?"is-light":"")??""}\n  ${(a()?"is-loading":"")??""}\n  ${(v()?`is-${v()}`:"")??""}\n  ${(p()?`is-${p()}`:"")??""}\n  `)})),Kn(e,O),de(),i()}function Ho(e,t,n){e.stopPropagation(),t()&&t()({event:e,value:n.value})}Vn(["click"]);var Go=qn("<button></button>");function Ko(e,t){ce(t,!0);let n=dr(t,"ariaLabel",3,"delete button");dr(t,"light",3,!1),dr(t,"loading",3,!1),dr(t,"raised",3,!1),dr(t,"outlined",3,!1),dr(t,"inverted",3,!1),dr(t,"rounded",3,!1);let i=dr(t,"disabled",3,!1);dr(t,"state",3,""),dr(t,"color",3,"");let r=dr(t,"size",3,""),o=dr(t,"style",3,""),s=dr(t,"class",3,""),a=dr(t,"onclick",3,(()=>!0));var l=Go();l.__click=[Ho,a,t],lt((()=>{Ii(l,"aria-label",n()),l.disabled=i(),Ii(l,"style",o()),Ci(l,`\n  delete\n  ${s()??""}  \n  ${(r()?`is-${r()}`:"")??""}\n  `)})),Kn(e,l),de()}Vn(["click"]);var Jo=qn("<div></div>");function Yo(e,t){ce(t,!0);let n=dr(t,"values",19,(()=>[])),i=dr(t,"centered",3,!1),r=dr(t,"right",3,!1),o=dr(t,"class",3,""),s=dr(t,"buttonComponent",3,qo),a=dr(t,"action",3,(()=>!0)),l=dr(t,"onclick",3,(()=>!0)),u=me(Fe([]));rt((()=>{Ie(u,Fe(n().map((e=>(isNaN(e.id)&&(e.id=Math.round(100*Math.random())),e)))))}));var c=Jo();ai(c,21,(()=>yn(u)),(e=>e.id),((e,t,n)=>{var i=Gn();pi(He(i),s,((e,n)=>{n(e,cr({get action(){return a()},get onclick(){return l()}},(()=>yn(t)),{get value(){return yn(t).value},set value(e){yn(t).value=e}}))})),Kn(e,i)})),Te(c),lt((()=>{Ci(c,`buttons has-addons ${o()??""}`),Ei(c,"is-right",r()),Ei(c,"is-centered",i())})),Kn(e,c),de()}var Qo=qn('<div><div class="column"><!></div> <div class="column"><!></div> <div class="column"><!></div></div>');function Zo(e,t){let n=dr(t,"class",3,""),i=dr(t,"left",19,(()=>[])),r=dr(t,"center",19,(()=>[])),o=dr(t,"right",19,(()=>[]));var s=Qo(),a=qe(s);Yo(qe(a),{get values(){return i()}}),Te(a);var l=Ge(a,2);Yo(qe(l),{get values(){return r()},centered:!0}),Te(l);var u=Ge(l,2);Yo(qe(u),{get values(){return o()},right:!0}),Te(u),Te(s),lt((()=>Ci(s,`columns ${n()??""}`))),Kn(e,s)}function Xo(e,t){ce(t,!0);let n=dr(t,"title",3,""),i=dr(t,"light",3,!1),r=dr(t,"loading",3,!1),o=dr(t,"raised",3,!1),s=dr(t,"outlined",3,!1),a=dr(t,"inverted",3,!1),l=dr(t,"rounded",3,!1),u=dr(t,"disabled",3,!1),c=dr(t,"state",3,""),d=dr(t,"type",3,""),f=dr(t,"color",3,""),h=dr(t,"size",3,""),g=dr(t,"class",3,""),v=dr(t,"icon",3,!1),p=dr(t,"iconSide",3,"right"),m=dr(t,"uiOff",3,(()=>({color:""}))),y=dr(t,"uiOn",3,(()=>({color:"success"}))),b=dr(t,"action",3,(()=>!I())),k=dr(t,"onclick",3,(()=>{})),$=dr(t,"onchange",3,(()=>{})),I=dr(t,"selected",15,!1),O=me(Fe({title:n(),light:i(),loading:r(),raised:o(),outlined:s(),inverted:a(),rounded:l(),disabled:u(),type:d(),color:f(),size:h(),class:g(),icon:v(),iconSide:p(),value:t.value})),w=me(void 0);function _(){if(yn(w)){const e=I()?y()(t.value,I()):m()(t.value,I());Object.keys(e).forEach((t=>{yn(O)[t]=e[t]})),Ie(O,Fe(yn(O)))}}return fr((()=>{_()})),rt((()=>{void 0!==I()&&_()})),Hi(qo(e,cr((()=>yn(O)),{get state(){return c()},onclick:function(e){I(b()(e,t.value,I())),_(),k()({value:t.value,selected:I()}),$()({value:t.value,selected:I()})}})),(e=>Ie(w,Fe(e))),(()=>yn(w))),de({updateUI:_})}var es=qn("<div></div>");function ts(e,t){ce(t,!0);const n={};function i(e){n[e.id].updateUI()}let r=dr(t,"values",23,(()=>[])),o=dr(t,"centered",3,!1),s=dr(t,"right",3,!1),a=dr(t,"class",3,""),l=dr(t,"buttonComponent",3,Xo),u=dr(t,"buttonProps",19,(()=>({}))),c=dr(t,"action",3,((e,t,n)=>{const i=m();if(i===h()&&n)return n;if(i===g()&&!0!==n)return n;const r=v.findIndex((e=>e.value===t));let o=n;if(r>-1){o=!o;const e=m()+(o?1:-1);return h()&&e<h()&&y(e,r),g()&&g()<e&&b(e,r),o}return o})),d=dr(t,"onclick",3,(()=>!0)),f=dr(t,"onchange",3,(()=>!0)),h=dr(t,"min",3,0),g=dr(t,"max",3,100),v=Fe(r());function p(){r(z(v));const e=r().filter((e=>e.selected)),t=e.map((e=>e.id)),n=t.length;f()&&f()({values:r(),selected:e,selectedIds:t,selectedCount:n})}function m(){return v.filter((e=>e.selected)).length}function y(e,t){let n=h()-e;if(n){for(let e in v)if(e!==t&&!v[e].selected&&(v[e].selected=!0,i(v[e]),n--,!n))break;p()}}function b(e,t){let n=e-g();if(n){for(let e in v)if(e!==t&&v[e].selected&&(v[e].selected=!1,i(v[e]),n--,!n))break;p()}}fr((()=>{const e=m();h()&&e<h()&&y(e,-1)}));var k=es();return ai(k,23,(()=>v),(e=>e.id),((e,t,i)=>{var r=Gn();const o=Je(l);pi(He(r),(()=>yn(o)),((e,r)=>{Hi(r(e,cr({get action(){return c()}},(()=>yn(t)),u,{get onclick(){return d()},onchange:p,get selected(){return v[yn(i)].selected},set selected(e){v[yn(i)].selected=e}})),((e,t)=>n[t.id]=e),(e=>n?.[e.id]),(()=>[yn(t)]))})),Kn(e,r)})),Te(k),lt((()=>Ci(k,`buttons has-addons ${(o()?"is-centered":"")??""} ${(s()?"is-right":"")??""} ${a()??""}`))),Kn(e,k),de({selectAll:function(){v.forEach(((e,t)=>{v[t].selected=!0,i(e)})),p()},deselectAll:function(){v.forEach(((e,t)=>{v[t].selected=!1,i(e)})),p()},addToHistory:function(e){},countSelected:m,toggleFirstSuited:function(e){const t=v.findIndex((t=>!e==t.selected));t>-1&&(v[t].selected=e,i(v[t]))},selectUpToMin:y,deselectDownToMin:b,updateUI:function(){Object.keys(n).forEach((e=>{n[e]&&n[e].updateUI&&n[e].updateUI()}))}})}var ns=Object.freeze({__proto__:null,UIButton:qo,UIButtonClose:Ko,UIButtonSwitch:Xo,UIButtons:Yo,UIButtonsRow:Zo,UIButtonsSwitchers:ts}),is=qn("<div><!></div>");function rs(e,t){let n=dr(t,"grouped",3,!1),i=dr(t,"addons",3,!1),r=dr(t,"multiline",3,!1),o=dr(t,"class",3,""),s=sr(t,["$$slots","$$events","$$legacy","grouped","addons","multiline","class","children"]);var a=is();let l;vi(qe(a),(()=>t.children)),Te(a),lt((()=>{l=Oi(a,l,{class:`field ${o()??""}`,...s}),Ei(a,"has-addons",i()),Ei(a,"is-grouped",n()),Ei(a,"is-multiline",r())})),Kn(e,a)}var os=qn("<p><!></p>");function ss(e,t){let n=dr(t,"class",3,""),i=dr(t,"hasIconsLeft",3,!1),r=dr(t,"hasIconsRight",3,!1),o=sr(t,["$$slots","$$events","$$legacy","class","hasIconsLeft","hasIconsRight","children"]);var s=os();let a;vi(qe(s),(()=>t.children??d)),Te(s),lt((()=>{a=Oi(s,a,{class:`control ${n()??""}`,...o}),Ei(s,"has-icons-left",i()),Ei(s,"has-icons-right",r())})),Kn(e,s)}var as=qn("<!> <!>",1);var ls=qn("<progress> </progress>");var us=qn("<div><!> <!></div> <!>",1);function cs(e,t){ce(t,!0);let n=dr(t,"id",3,"taggedValueId"),i=dr(t,"actions",19,(()=>[])),r=dr(t,"class",3,""),o=dr(t,"actionsGroupContructor",3,Yo),s=dr(t,"actionsGroupProps",19,(()=>({}))),a=dr(t,"readonly",3,!1);var l=us(),u=He(l),c=qe(u),d=e=>{bo(e,cr((()=>t.title)))};ii(c,(e=>{t.title&&e(d)}));var f=Ge(c,2),h=e=>{bo(e,cr((()=>t.value)))};ii(f,(e=>{t.value&&e(h)})),Te(u);var g=Ge(u,2),v=e=>{var t=Gn();pi(He(t),o,((e,t)=>{t(e,cr({get values(){return i()}},s))})),Kn(e,t)};ii(g,(e=>{!a()&&i()&&i().length&&e(v)})),lt((()=>{Ci(u,`tags has-addons ${r()??""}`),Ii(u,"id",n())})),Kn(e,l),de()}function ds(e){const t=e-1;return t*t*t+1}function fs(e,{from:t,to:n},i={}){var{delay:r=0,duration:o=e=>120*Math.sqrt(e),easing:s=ds}=i,a=getComputedStyle(e),l="none"===a.transform?"":a.transform,[u,c]=a.transformOrigin.split(" ").map(parseFloat);u/=e.clientWidth,c/=e.clientHeight;var d=function(e){if("currentCSSZoom"in e)return e.currentCSSZoom;var t=e,n=1;for(;null!==t;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}(e),f=e.clientWidth/n.width/d,h=e.clientHeight/n.height/d,g=t.left+t.width*u,v=t.top+t.height*c,p=n.left+n.width*u,m=n.top+n.height*c,y=(g-p)*f,b=(v-m)*h,k=t.width/n.width,$=t.height/n.height;return{delay:r,duration:"function"==typeof o?o(Math.sqrt(y*y+b*b)):o,easing:s,css:(e,t)=>`transform: ${l} translate(${t*y}px, ${t*b}px) scale(${e+t*k}, ${e+t*$});`}}U=!0;const hs=e=>e;function gs(e,{delay:t=0,duration:n=400,easing:i=hs}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:e=>"opacity: "+e*r}}var vs=qn('<option selected class="svelte-75ckfb"> </option>'),ps=qn('<option selected class="svelte-75ckfb"> </option>'),ms=qn('<div class="tags has-addons svelte-75ckfb"><span class="tag svelte-75ckfb"> </span> <span class="tag is-delete svelte-75ckfb"></span></div>'),ys=qn('<div class="svelte-75ckfb"><!></div>'),bs=qn('<span class="autocomplete-clear-button svelte-75ckfb"><!></span>'),ks=qn('<div class="autocomplete-list-item svelte-75ckfb"><!></div>'),$s=qn('<div class="autocomplete-list-item-no-results svelte-75ckfb"> </div>'),Is=qn("<!> <!> <!>",1),Os=qn('<div class="autocomplete-list-item-loading svelte-75ckfb"><!></div>'),ws=qn('<div class="autocomplete-list-item-create svelte-75ckfb"><!></div>'),_s=qn('<div class="autocomplete-list-item-no-results svelte-75ckfb"><!></div>'),As=qn('<div><select class="svelte-75ckfb"><!></select> <div class="input-container svelte-75ckfb"><!> <input> <!></div> <div><!></div></div>');function Ss(e,t){const n=lr(t,["children","$$slots","$$events","$$legacy"]),i=lr(n,["highlightFilter","items","searchFunction","labelFieldName","keywordsFieldName","valueFieldName","labelFunction","keywordsFunction","valueFunction","keywordsCleanFunction","textCleanFunction","beforeChange","onChange","onFocus","onBlur","onCreate","selectFirstIfEmpty","minCharactersToSearch","maxItemsToShowInList","multiple","create","ignoreAccents","matchAllKeywords","sortByMatchedKeywords","itemFilterFunction","itemSortFunction","lock","delay","localFiltering","localSorting","cleanUserText","lowercaseKeywords","closeOnBlur","orderableSelection","hideArrow","showClear","clearText","showLoadingIndicator","noResultsText","loadingText","moreItemsText","createText","placeholder","className","inputClassName","inputId","name","selectName","selectId","title","html5autocomplete","autocompleteOffValue","readonly","dropdownClassName","disabled","noInputStyles","required","debug","tabindex","selectedItem","value","highlightedItem","text"]);ce(t,!1);const r=be(),s=be(),a=be(),l=be();let u=dr(t,"items",28,(()=>[])),c=dr(t,"searchFunction",8,!1),d=dr(t,"labelFieldName",8,void 0),f=dr(t,"keywordsFieldName",24,d),h=dr(t,"valueFieldName",8,void 0),g=dr(t,"labelFunction",8,(function(e){return null==e?"":d()?e[d()]:e})),v=dr(t,"keywordsFunction",8,(function(e){return null==e?"":f()?e[f()]:g()(e)})),p=dr(t,"valueFunction",8,(function(e,t=!1){return null==e?e:!E()||t?h()?e[h()]:e:e.map((e=>h()?e[h()]:e))})),m=dr(t,"keywordsCleanFunction",8,(function(e){return e})),b=dr(t,"textCleanFunction",8,(function(e){return e})),$=dr(t,"beforeChange",8,(function(e,t){return!0})),I=dr(t,"onChange",8,(function(e){})),O=dr(t,"onFocus",8,(function(){})),w=dr(t,"onBlur",8,(function(){})),_=dr(t,"onCreate",8,(function(e){pe()&&console.log("onCreate: "+e)})),A=dr(t,"selectFirstIfEmpty",8,!1),S=dr(t,"minCharactersToSearch",8,1),C=dr(t,"maxItemsToShowInList",8,0),E=dr(t,"multiple",8,!1),L=dr(t,"create",8,!1),T=dr(t,"ignoreAccents",8,!0),x=dr(t,"matchAllKeywords",8,!0),N=dr(t,"sortByMatchedKeywords",8,!1),F=dr(t,"itemFilterFunction",8,void 0),U=dr(t,"itemSortFunction",8,void 0),P=dr(t,"lock",8,!1),D=dr(t,"delay",8,0),M=dr(t,"localFiltering",8,!0),R=dr(t,"localSorting",8,!0),j=dr(t,"cleanUserText",8,!0),V=dr(t,"lowercaseKeywords",8,!0),z=dr(t,"closeOnBlur",8,!1),W=dr(t,"orderableSelection",8,!1),B=dr(t,"hideArrow",8,!1),q=dr(t,"showClear",8,!1),H=dr(t,"clearText",8,"&#10006;"),G=dr(t,"showLoadingIndicator",8,!1),K=dr(t,"noResultsText",8,"No results found"),J=dr(t,"loadingText",8,"Loading results..."),Y=dr(t,"moreItemsText",8,"items not shown"),Q=dr(t,"createText",8,"Not found, add anyway?"),Z=dr(t,"placeholder",8,void 0),X=dr(t,"className",8,void 0),ee=dr(t,"inputClassName",8,void 0),te=dr(t,"inputId",8,void 0),ne=dr(t,"name",8,void 0),ie=dr(t,"selectName",8,void 0),re=dr(t,"selectId",8,void 0),oe=dr(t,"title",8,void 0),ae=dr(t,"html5autocomplete",8,void 0),le=dr(t,"autocompleteOffValue",8,"off"),ue=dr(t,"readonly",8,void 0),fe=dr(t,"dropdownClassName",8,void 0),he=dr(t,"disabled",8,!1),ge=dr(t,"noInputStyles",8,!1),ve=dr(t,"required",8,null),pe=dr(t,"debug",8,!1),me=dr(t,"tabindex",8,0),ye=dr(t,"selectedItem",28,(()=>E()?[]:void 0)),ke=dr(t,"value",12,void 0),Oe=dr(t,"highlightedItem",12,void 0);const _e="sautocomplete-"+Math.floor(1e3*Math.random());let Ae,Se=be(),Ce=be(),Ee=be(),Le=be(!1),xe=be(!1),Ne=be(-1),Fe=dr(t,"text",12,void 0),Ue=be(0),Pe=be(),Me=[],Re=0,je=0,Ve=be(!1);function ze(e,t){let n=function(e,t){if("function"!=typeof e)return void console.error("Not a function: "+e+", argument: "+t);let n;try{n=e(t)}catch(n){console.warn("Error executing Autocomplete function on value: "+t+" function: "+e)}return n}(e,t);return null==n&&(n=""),"string"!=typeof n&&(n=n.toString()),n}function We(e){return ze(g(),e)}function Be(e){const t=ze(v(),e);let n=ze(m(),t);return n=V()?n.toLowerCase().trim():n,T()&&(n=Ot(n)),pe()&&console.log("Extracted keywords: '"+n+"' from item: "+JSON.stringify(e)),n}function Ke(){let e;pe()&&(e="Autocomplete prepare list "+(te()?`(id: ${te()})`:""),console.time(e),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(u()))),Array.isArray(u())||(console.warn("Autocomplete items / search function did not return array but",u()),u([]));const t=u()?u().length:0;Me=new Array(t),t>0&&u().forEach(((e,t)=>{const n=function(e){return{keywords:M()?Be(e):[],label:We(e),item:e}}(e);void 0===n&&console.log("Undefined item for: ",e),Me[t]=n})),Ie(Pe,Me),pe()&&(console.log(Me.length+" items to search"),console.timeEnd(e))}function Qe(e,t){if(!e)return 0;const n=e.keywords;let i=0;return t.forEach((e=>{n.includes(e)&&i++})),i}async function Ze(){let e;pe()&&(e="Autocomplete search "+(te()?`(id: ${te()})`:""),console.time(e),console.log("Searching user entered text: '"+Fe()+"'"));let t=function(e){if(null==e)return"";if(!j())return e;const t=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim(),n=ze(b(),t);return V()?n.toLowerCase().trim():n.trim()}(Fe());if(S()>1&&t.length<S()&&(t=""),Ie(Ue,t.length),pe()&&console.log("Changed user entered text '"+Fe()+"' into '"+t+"'"),""===t&&(c()?(u([]),pe()&&console.log("User entered text is empty clear list of items")):(Ie(Pe,Me),pe()&&console.log("User entered text is empty set the list of items to all items")),kt()))pe()&&console.timeEnd(e);else{if(c()){Re+=1;const e=Re;if(Ie(xe,!0),"AsyncGeneratorFunction"===c().constructor.name){for await(const n of c()(t,C())){if(e<je)return!1;e>je&&u([]),je=e,u([...u(),...n]),Xe(t)}je<e&&(je=e,u([]),Xe(t))}else{let n=await c()(t,C());if(e<je)return!1;je=e,u(n),Xe(t)}Ie(xe,!1)}else Xe(t);pe()&&(console.timeEnd(e),console.log("Search found "+yn(Pe).length+" items"))}}function Xe(e){Ke();const t=(T()?Ot(e):e).split(/\s+/g).filter((e=>""!==e));let n;M()?(n=F()?Me.filter((e=>F()(e.item,t))):Me.filter((e=>function(e,t){const n=Qe(e,t);return x()?n>=t.length:n>0}(e,t))),R()&&(U()?n=n.sort(((e,n)=>U()(e.item,n.item,t))):N()&&(n=n.sort(((e,n)=>function(e,t,n){return Qe(t,n)-Qe(e,n)}(e,n,t)))))):n=Me;const i=It(t,"label");return Ie(Pe,n.map(i)),kt(),!0}function et(e){let t;if(pe()&&console.log("createdItem",e),void 0!==e){Ke(),Ie(Pe,Me);let n=pt(e,yn(Pe));n<=0&&(u([e]),Ke(),Ie(Pe,Me),n=0),n>=0&&(Ie(Ne,n),t=yn(Pe)[yn(Ne)])}return t}function tt(e){if(pe()&&console.log("selectListItem",e),void 0===e&&L()){const t=_()(Fe());if(void 0!==t){if("function"==typeof t.then)return t.then((e=>{if(void 0!==e){const t=et(e);void 0!==t&&tt(t)}})),!0;e=et(t)}}if(void 0===e)return pe()&&console.log("listItem is undefined. Can not select."),!1;if(yn(l))return!0;const t=e.item;return $()(ye(),t)&&(E()?ye()?ye().includes(t)?ye(ye().filter((e=>e!==t))):ye([...ye(),t]):ye([t]):(ye(void 0),ye(t))),!0}function nt(){pe()&&console.log("selectItem",yn(Ne));tt(yn(Pe)[yn(Ne)])?(pe()&&console.log("selectListItem true, closing"),yt(),E()&&(Fe(""),yn(Se).focus())):pe()&&console.log("selectListItem false, not closing")}function rt(){pe()&&console.log("up"),mt(),yn(Ne)>0&&we(Ne,-1),ut()}function ot(){pe()&&console.log("down"),mt(),yn(Ne)<yn(Pe).length-1&&we(Ne),ut()}function ut(){pe()&&console.log("highlight");const e=".selected";pe()&&console.log("Seaching DOM element: "+e+" in "+yn(Ce));const t=yn(Ce)&&yn(Ce).querySelector(e);t?"function"==typeof t.scrollIntoViewIfNeeded?(pe()&&console.log("Scrolling selected item into view"),t.scrollIntoViewIfNeeded()):"function"===t.scrollIntoView?(pe()&&console.log("Scrolling selected item into view"),t.scrollIntoView()):pe()&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):pe()&&console.warn("Selected item not found to scroll into view")}function ct(e){pe()&&console.log("onListItemClick"),tt(e)&&(yt(),E()&&(Fe(""),yn(Se).focus()))}function dt(e){pe()&&console.log("unselectItem",e),ye(ye().filter((t=>t!==e))),yn(Se).focus()}function ft(){Ze()&&(Ie(Ne,0),mt())}function ht(e){pe()&&console.log("onEsc"),e.stopPropagation(),yn(Le)&&(yn(Se).focus(),yt())}function gt(e){pe()&&console.log("onBackspace"),dt(ye()[ye().length-1])}function vt(){if(pe()&&console.log("resetListToAllItemsAndOpen"),c()&&!Me.length?Ze():Fe()||Ie(Pe,Me),mt(),ye()){pe()&&console.log("Searching currently selected item: "+JSON.stringify(ye()));const e=pt(ye(),yn(Pe));e>=0&&(Ie(Ne,e),ut())}}function pt(e,t){pe()&&console.log("Finding index for item",e);let n=-1;for(let i=0;i<t.length;i++){const r=t[i];if(void 0!==r){if(pe()&&console.log("Item "+i+": "+JSON.stringify(r)),e===r.item){n=i;break}}else pe()&&console.log(`listItem ${i} is undefined. Skipping.`)}return pe()&&(n>=0?console.log("Found index for item: "+n):console.warn("Not found index for item: "+e)),n}function mt(){pe()&&console.log("open"),yn(l)||bt()||(Ie(Ve,!0),Ie(Le,!0))}function yt(){pe()&&console.log("close"),Ie(Le,!1),Ie(xe,!1),!Fe()&&A()&&(Ie(Ne,0),nt())}function bt(){return S()>0&&yn(Ue)<S()&&(c()||yn(Ue)>0)}function kt(){return!!bt()&&(yt(),!0)}function $t(){pe()&&console.log("clear"),Fe(""),ye(E()?[]:void 0),setTimeout((()=>{yn(Se).focus()}))}function It(e,t){return n=>{let i=n[t];const r=Object.assign({highlighted:void 0},n);r.highlighted=i;const o=i.toLowerCase(),s=T()?Ot(o):o;if(e&&e.length){const t=[];for(let n=0;n<e.length;n++){let i=e[n];T()&&(i=Ot(i));const r=i.length;let o=0;do{if(o=s.indexOf(i,o),o>=0){let e=o+r;t.push([o,e]),o=e}}while(-1!==o)}if(t.length>0){const e=new Set;for(let n=0;n<t.length;n++){const i=t[n],r=i[0],s=i[1],a=o.substring(r,s);e.add(a)}for(let t of e){if("b"===t)continue;const e=new RegExp("("+t+")","ig"),n=r.highlighted.replace(e,"<b>$1</b>");r.highlighted=n}}}return r}}function Ot(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}vr((()=>{yn(Ve)&&function(){const{height:e}=window.visualViewport,{bottom:t,height:n}=yn(Ee).getBoundingClientRect(),{height:i}=yn(Ce).getBoundingClientRect();$e(Ce,yn(Ce).style.top=t+i>e?`-${n+i}px`:"0px")}(),Ie(Ve,!1)}));let wt=be(!1);function _t(e,t){W()&&(e.preventDefault(),Ie(wt,t))}function At(e,t){if(W()){e.preventDefault(),Ie(wt,!1);let n=parseInt(e.dataTransfer.getData("source"));n!=t&&function(e,t){let n=[...ye()];e<t?(n.splice(t+1,0,n[e]),n.splice(e,1)):(n.splice(t,0,n[e]),n.splice(e+1,1));ye(n)}(n,t)}}var St;st((()=>(In(u()),In(c()))),(()=>{u(),c()||Ke()})),st((()=>In(ye())),(()=>{ye(),ke(p()(ye())),ye()&&!E()&&Fe(We(ye())),Ie(Pe,Me),I()(ye())})),st((()=>(yn(Pe),yn(Ne))),(()=>{Oe(yn(Pe)&&yn(Ne)&&yn(Ne)>=0&&yn(Ne)<yn(Pe).length?yn(Pe)[yn(Ne)].item:null)})),st((()=>(yn(Le),In(u()),yn(Ue))),(()=>{Ie(r,yn(Le)&&(u()&&u().length>0||yn(Ue)>0))})),st((()=>(In(E()),In(ye()))),(()=>{Ie(s,E()&&ye()&&ye().length>0||!E()&&ye())})),st((()=>(In(q()),In(P()),In(E()),yn(s))),(()=>{Ie(a,q()||(P()||E())&&yn(s))})),st((()=>(In(P()),yn(s))),(()=>{Ie(l,P()&&yn(s))})),St=se,at((()=>{if(yn(St.l.r2)){for(var e of St.l.r1){var t=e.effect;t.f&y&&$n(t,k),en(t)&&un(t),e.ran=!1}St.l.r2.v=!1}})),Ki();var Ct=As();jn("click",De,(function(e){pe()&&console.log("onDocumentClick"),e.composedPath().some((e=>e.classList&&e.classList.contains(_e)))?(pe()&&console.log("onDocumentClick inside"),ut()):(pe()&&console.log("onDocumentClick outside"),yt())})),jn("scroll",De,(()=>Ie(Ve,!0)));var Et=qe(Ct),Lt=qe(Et),Tt=e=>{var t=vs(),n={},i=qe(t,!0);Te(t),lt(((e,r)=>{n!==(n=e)&&(t.value=null==(t.__value=e)?"":e),Qn(i,r)}),[()=>p()(ye(),!0),()=>We(ye())],Ye),Kn(e,t)},xt=e=>{var t=Gn(),n=He(t),i=e=>{var t=Gn();ai(He(t),1,ye,si,((e,t)=>{var n=ps(),i={},r=qe(n,!0);Te(n),lt(((e,t)=>{i!==(i=e)&&(n.value=null==(n.__value=e)?"":e),Qn(r,t)}),[()=>p()(yn(t),!0),()=>We(yn(t))],Ye),Kn(e,n)})),Kn(e,t)};ii(n,(e=>{E()&&yn(s)&&e(i)}),!0),Kn(e,t)};ii(Lt,(e=>{!E()&&yn(s)?e(Tt):e(xt,!1)})),Te(Et);var Nt=Ge(Et,2),Ft=qe(Nt),Ut=e=>{var n=Gn();ai(He(n),11,ye,(e=>p()(e,!0)),((e,n,i)=>{var r=ys();Ii(r,"draggable",!0);var o=qe(r);const s=Ye((()=>We(yn(n))));gi(o,t,"tag",{get label(){return yn(s)},get item(){return yn(n)},unselectItem:dt},(e=>{var t=ms(),i=qe(t),r=qe(i,!0);Te(i);var o=Ge(i,2),s=Je((()=>dt(yn(n))));Te(t),lt((e=>Qn(r,e)),[()=>We(yn(n))],Ye),jn("click",o,Gi((function(...e){yn(s)?.apply(this,e)}))),jn("keypress",o,Gi((e=>{"Enter"==e.key&&dt(yn(n))}))),Kn(e,t)})),Te(r),lt((()=>Ei(r,"is-active",yn(wt)===yn(i)))),function(e,t,n){var i,r,o,s=ri,a=null;s.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(o?.abort(),r=this.element.getBoundingClientRect(),i.left!==r.left||i.right!==r.right||i.top!==r.top||i.bottom!==r.bottom){const e=t()(this.element,{from:i,to:r},n?.());o=Di(this.element,e,void 0,1,(()=>{o?.abort(),o=void 0}))}},fix(){if(!e.getAnimations().length){var{position:t,width:n,height:r}=getComputedStyle(e);if("absolute"!==t&&"fixed"!==t){var o=e.style;a={position:o.position,width:o.width,height:o.height,transform:o.transform},o.position="absolute",o.width=n,o.height=r;var s=e.getBoundingClientRect();if(i.left!==s.left||i.top!==s.top){var l=`translate(${i.left-s.left}px, ${i.top-s.top}px)`;o.transform=o.transform?`${o.transform} ${l}`:l}}}},unfix(){if(a){var t=e.style;t.position=a.position,t.width=a.width,t.height=a.height,t.transform=a.transform}}},s.a.element=e}(r,(()=>fs),(()=>({duration:200}))),Pi(3,r,(()=>gs),(()=>({duration:200}))),jn("dragstart",r,(e=>function(e,t){W()&&e.dataTransfer.setData("source",t)}(e,yn(i)))),jn("dragover",r,(e=>_t(e,yn(i)))),jn("dragleave",r,(e=>(yn(i),void(W()&&Ie(wt,!1))))),jn("drop",r,(e=>At(e,yn(i)))),Kn(e,r)})),Kn(e,n)};ii(Ft,(e=>{E()&&yn(s)&&e(Ut)}));var Pt=Ge(Ft,2);let Dt;ki(Pt),Hi(Pt,(e=>Ie(Se,e)),(()=>yn(Se)));var Mt=Ge(Pt,2),Rt=e=>{var t=bs();hi(qe(t),H),Te(t),jn("click",t,$t),jn("keypress",t,(e=>{"Enter"==e.key&&$t()})),Kn(e,t)};ii(Mt,(e=>{yn(a)&&e(Rt)})),Te(Nt),Hi(Nt,(e=>Ie(Ee,e)),(()=>yn(Ee)));var jt=Ge(Nt,2),Vt=qe(jt),zt=e=>{var n=Is(),i=He(n);gi(i,t,"dropdown-header",{get nbItems(){return yn(Pe).length},get maxItemsToShowInList(){return C()}},null);var r=Ge(i,2);ai(r,1,(()=>yn(Pe)),si,((e,n,i)=>{var r=Gn(),o=He(r),s=e=>{var r=ks();gi(qe(r),t,"item",{get item(){return yn(n).item},get label(){return yn(n).highlighted?yn(n).highlighted:yn(n).label}},(e=>{var t=Gn(),i=He(t),r=e=>{var t=Gn();hi(He(t),(()=>yn(n).highlighted)),Kn(e,t)},o=e=>{var t=Gn();hi(He(t),(()=>yn(n).label)),Kn(e,t)};ii(i,(e=>{yn(n).highlighted?e(r):e(o,!1)})),Kn(e,t)})),Te(r),lt((e=>{Ei(r,"selected",i===yn(Ne)),Ei(r,"confirmed",e)}),[()=>function(e){return!!ye()&&(E()?ye().includes(e):e===ye())}(yn(n).item)],Ye),jn("click",r,(()=>ct(yn(n)))),jn("keypress",r,(e=>{"Enter"==e.key&&ct(yn(n))})),jn("pointerenter",r,(()=>{Ie(Ne,i)})),Kn(e,r)};ii(o,(e=>{yn(n)&&(C()<=0||i<C())&&e(s)})),Kn(e,r)})),gi(Ge(r,2),t,"dropdown-footer",{get nbItems(){return yn(Pe).length},get maxItemsToShowInList(){return C()}},(e=>{var t=Gn(),n=He(t),i=e=>{var t=Gn(),n=He(t),i=e=>{var t=$s(),n=qe(t);Te(t),lt((()=>Qn(n,`...${yn(Pe).length-C()??""}\n              ${Y()??""}`))),Kn(e,t)};ii(n,(e=>{Y()&&e(i)})),Kn(e,t)};ii(n,(e=>{C()>0&&yn(Pe).length>C()&&e(i)})),Kn(e,t)})),Kn(e,n)},Wt=e=>{var n=Gn(),i=He(n),r=e=>{var n=Os();gi(qe(n),t,"loading",{get loadingText(){return J()}},(e=>{var t=Hn();lt((()=>Qn(t,J()))),Kn(e,t)})),Te(n),Kn(e,n)},o=e=>{var n=Gn(),i=He(n),r=e=>{var n=ws();gi(qe(n),t,"create",{get createText(){return Q()}},(e=>{var t=Hn();lt((()=>Qn(t,Q()))),Kn(e,t)})),Te(n),jn("click",n,nt),jn("keypress",n,(e=>{"Enter"==e.key&&nt()})),Kn(e,n)},o=e=>{var n=Gn(),i=He(n),r=e=>{var n=_s();gi(qe(n),t,"no-results",{get noResultsText(){return K()}},(e=>{var t=Hn();lt((()=>Qn(t,K()))),Kn(e,t)})),Te(n),Kn(e,n)};ii(i,(e=>{K()&&e(r)}),!0),Kn(e,n)};ii(i,(e=>{L()?e(r):e(o,!1)}),!0),Kn(e,n)};ii(i,(e=>{yn(xe)&&J()?e(r):e(o,!1)}),!0),Kn(e,n)};return ii(Vt,(e=>{yn(Pe)&&yn(Pe).length>0?e(zt):e(Wt,!1)})),Te(jt),Hi(jt,(e=>Ie(Ce,e)),(()=>yn(Ce))),Te(Ct),lt((()=>{Ci(Ct,`${(X()?X():"")??""} autocomplete select is-fullwidth ${_e??""} svelte-75ckfb`),Ei(Ct,"hide-arrow",B()||!u().length),Ei(Ct,"is-multiple",E()),Ei(Ct,"show-clear",yn(a)),Ei(Ct,"is-loading",G()&&yn(xe)),Ii(Et,"name",ie()),Ii(Et,"id",re()),Et.multiple=E(),Dt=Oi(Pt,Dt,{type:"text",class:`${(ee()?ee():"")??""} ${(ge()?"":"input autocomplete-input")??""}`,id:te()?te():"",autocomplete:ae()?"on":le(),placeholder:Z(),name:ne(),disabled:he(),required:ve(),title:oe(),readonly:ue()||yn(l),tabindex:me(),...i},"svelte-75ckfb"),Ci(jt,`${(fe()?fe():"")??""} autocomplete-list ${(yn(r)?"":"hidden")??""}\n    is-fullwidth svelte-75ckfb`)})),Mi(Pt,Fe),jn("input",Pt,(function(e){pe()&&console.log("onInput"),Fe(e.target.value),Ae&&clearTimeout(Ae),D()?Ae=setTimeout(ft,D()):ft()})),jn("focus",Pt,(function(){pe()&&console.log("onFocus"),O()(),vt()})),jn("blur",Pt,(function(){pe()&&console.log("onBlur"),z()&&yt(),w()()})),jn("keydown",Pt,(function(e){pe()&&console.log("onKeyDown");let t=e.key;"Tab"===t&&e.shiftKey&&(t="ShiftTab");const n={Tab:yn(Le)?yt:null,ShiftTab:yn(Le)?yt:null,ArrowDown:ot.bind(this),ArrowUp:rt.bind(this),Escape:ht.bind(this),Backspace:E()&&yn(s)&&!Fe()?gt.bind(this):null}[t];"function"==typeof n&&n(e)})),jn("click",Pt,(function(){pe()&&console.log("onInputClick"),vt()})),jn("keypress",Pt,(function(e){pe()&&console.log("onKeyPress"),"Enter"===e.key&&function(e){yn(Le)&&(e.preventDefault(),nt())}(e)})),jn("dragover",Pt,(e=>_t(e,ye().length-1))),jn("drop",Pt,(e=>At(e,ye().length-1))),Kn(e,Ct),function(e,t,n){var i=o(e,t);i&&i.set&&(e[t]=n,it((()=>{e[t]=null})))}(t,"highlightFilter",It),de({highlightFilter:It})}var Cs=qn("<p> </p>"),Es=qn("<input>");function Ls(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,""),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"textfield"),a=dr(t,"required",3,!0),l=dr(t,"disabled",3,!1),u=dr(t,"size",3,"normal"),c=dr(t,"readonly",3,!1),d=dr(t,"valid",3,!0),f=dr(t,"class",3,""),h=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","required","disabled","size","readonly","valid","class"]),g=Je((()=>!d()));const v={};if("function"==typeof t.onchange){const e=Pr.onInput(s(),t.onchange);v.onchange=e,v.oninput=e}var p=Gn(),m=He(p),y=e=>{var t=Cs(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()))),Kn(e,t)},b=e=>{var t=Es();let i;ki(t),lt((()=>i=Oi(t,i,{id:`form-field-textfield-${s()??""}`,class:`input ${(u()?`is-${u()}`:"")??""} ${(color?`is-${color}`:"")??""} ${f()??""}`,type:"text",name:s(),invalid:yn(g),disabled:l(),required:a(),readonly:c(),placeholder:nr(Gr,"$LOCALE",n)[o()],autocomplete:s(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...v,...h}))),Mi(t,r),Kn(e,t)};ii(m,(e=>{c()?e(y):e(b,!1)})),Kn(e,p),de(),i()}var Ts=qn("<p> </p>");var xs=qn("<input>");var Ns=qn("<label><!></label>");function Fs(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"label",3,"label"),o=dr(t,"class",3,"");var s=Ns(),a=qe(s),l=e=>{var n=Gn();vi(He(n),(()=>t.children)),Kn(e,n)},u=e=>{var t=Hn();lt((()=>Qn(t,r()?nr(Gr,"$LOCALE",n)[r()]:""))),Kn(e,t)};ii(a,(e=>{t.children?e(l):e(u,!1)})),Te(s),lt((()=>{Ci(s,`label ${o()??""}`),Ii(s,"for",t.for)})),Kn(e,s),de(),i()}var Us=qn("<input> ",1);function Ps(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,!1),o=dr(t,"label",3,"checkbox"),s=dr(t,"fieldname",3,"checkbox"),a=dr(t,"required",3,!0),l=dr(t,"readonly",3,!1),u=dr(t,"disabled",3,!1),c=dr(t,"valid",3,!0),d=dr(t,"class",3,""),f=dr(t,"labelClass",3,"checkbox"),h=dr(t,"reactOn",19,(()=>["onchange","oninput"])),g=sr(t,["$$slots","$$events","$$legacy","value","label","fieldname","required","readonly","disabled","valid","class","labelClass","reactOn"]),v=Je((()=>!c()));const p=`form-field-checkbox-${s()}`,m={};if("function"==typeof t.onchange){const e=Pr.onInput(s(),t.onchange,void 0,{id:t?.id});h().forEach((t=>m[t]=e))}Fs(e,{get class(){return f()},get disabled(){return u()},for:p,children:(e,t)=>{var i=Gn(),c=He(i),f=e=>{ko(e,{get LC_TRUE(){return o()},get LC_FALSE(){return o()},get value(){return r()}})},h=e=>{var t=Us(),i=He(t);let c;ki(i);var f=Ge(i);lt((()=>{c=Oi(i,c,{id:p,class:d(),type:"checkbox",name:s(),required:a(),readonly:l(),invalid:yn(v),disabled:u(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...m,...g}),Qn(f,` ${nr(Gr,"$LOCALE",n)[o()]??""}`)})),Ri(i,r),Kn(e,t)};ii(c,(e=>{l()?e(f):e(h,!1)})),Kn(e,i)},$$slots:{default:!0}}),de(),i()}var Ds=qn("<p><time> </time></p>"),Ms=qn("<input>");var Rs=qn("<p> </p>"),js=qn("<input>");var Vs=qn("<p> </p>"),zs=qn("<input>");var Ws=qn('<input type="hidden">');var Bs=qn("<p> </p>"),qs=qn("<textarea></textarea>");function Hs(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,""),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"textarea"),a=dr(t,"rows",3,10),l=dr(t,"required",3,!0),u=dr(t,"readonly",3,!1),c=dr(t,"disabled",3,!1),d=dr(t,"reactOn",19,(()=>["onblur"])),f=dr(t,"valid",3,!0),h=dr(t,"class",3,""),g=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","rows","size","color","required","readonly","disabled","reactOn","valid","class"]),v=Je((()=>!f()));const p={};if("function"==typeof t.onchange){const e=Pr.onInput(s(),t.onchange);d().forEach((t=>p[t]=e))}var m=Gn(),y=He(m),b=e=>{var t=Bs(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()))),Kn(e,t)},k=e=>{var i,d=qs();let f;i=d,Se&&null!==We(i)&&Ke(i),lt((()=>f=Oi(d,f,{id:`form-field-textarea-${s()??""}`,class:`textarea ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${h()??""}`,name:s(),invalid:yn(v),disabled:c(),required:l(),readonly:u(),placeholder:nr(Gr,"$LOCALE",n)[o()],rows:a(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...p,...g}))),Mi(d,r),Kn(e,d)};ii(y,(e=>{u()?e(b):e(k,!1)})),Kn(e,m),de(),i()}var Gs=new WeakMap;let Ks=function(){return Sr((function e(t){$r(this,e),Or(this,Gs,{}),t instanceof e&&this.import(t.getContent())}),[{key:"add",value:function(e,t,n="replace"){this.contains(e)?"replace"===n?Ir(Gs,this)[e]=t:"add"===n&&(Ir(Gs,this)[e]=Object.assign(Ir(Gs,this)[e],t)):Ir(Gs,this)[e]=t}},{key:"get",value:function(e){return Ir(Gs,this)[e]}},{key:"contains",value:function(e){return Object.hasOwn(Ir(Gs,this),e)}},{key:"import",value:function(e,t="replace"){for(let n in e)this.add(n,e[n],t)}},{key:"isEmpty",value:function(){return 0===Object.keys(Ir(Gs,this)).length}},{key:"getContent",value:function(){return{...Ir(Gs,this)}}}])}();const Js=new Ks,Ys=new Ks,Qs=new Ks;var Zs=qn("<!> <!>",1);function Xs(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"id",19,(()=>`title-${Math.random()}`)),s=dr(t,"title",3,""),a=dr(t,"size",3,1),l=dr(t,"spaced",3,!1),u=dr(t,"align",3,"left");let c=Je((()=>t.subsize?t.subsize:parseInt(a())<6?parseInt(a())+1:a())),d=Je((()=>l()?"has-text-justified":"")),f=Je((()=>`<h${a()} id="${o()}" style="text-align: ${u()};" class="title ${yn(d)} is-${a()}">${r()[s()]}</h${a()}>`)),h=Je((()=>`<h${yn(c)} id="${o()}" style="text-align: ${u()};" class="subtitle is-${yn(c)}">${r()[t.subtitle]}</h${yn(c)}>`));var g=Zs(),v=He(g),p=e=>{var t=Gn();hi(He(t),(()=>yn(f))),Kn(e,t)};ii(v,(e=>{s()&&e(p)}));var m=Ge(v,2),y=e=>{var t=Gn();hi(He(t),(()=>yn(h))),Kn(e,t)};ii(m,(e=>{t.subtitle&&e(y)})),Kn(e,g);var b=de({scrollToTop:(e=Pr.SCROLL_OPTIONS)=>{setTimeout((()=>{document.getElementById(o()).scrollIntoView(e)}),100)}});return i(),b}function ea(e,t){let n=dr(t,"title",3,"not-node:empty_list_placeholder"),i=dr(t,"size",3,4),r=dr(t,"align",3,"center"),o=sr(t,["$$slots","$$events","$$legacy","title","size","align"]);Xs(e,cr({get title(){return n()},get size(){return i()},get align(){return r()}},(()=>o)))}var ta=qn('<span class="icon"><i></i></span>'),na=qn("<span> </span>"),ia=qn("<!> <!> <!> <!>",1),ra=qn(" <!>",1),oa=qn("<a><!></a>");function sa(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n),o=e=>{var n=ta(),i=qe(n);Te(n),lt((()=>Ci(i,`fas fa-${t.icon??""} ${(k()?`is-${k()}`:"")??""}`))),Kn(e,n)};let s=dr(t,"title",3,""),a=dr(t,"url",3,""),l=dr(t,"target",3,"_blank"),u=dr(t,"light",3,!1),c=dr(t,"loading",3,!1),f=dr(t,"raised",3,!1),h=dr(t,"outlined",3,!1),g=dr(t,"inverted",3,!1),v=dr(t,"rounded",3,!1),p=dr(t,"button",3,!0),m=dr(t,"state",3,""),y=dr(t,"type",3,""),b=dr(t,"color",3,""),k=dr(t,"size",3,""),$=dr(t,"class",3,""),I=dr(t,"iconSide",3,"right");var O=oa();O.__click=function(...e){(t.action||t.onclick)?.apply(this,e)};var w=qe(O),_=e=>{var n=ia(),i=He(n),a=e=>{o(e)};ii(i,(e=>{"left"===I()&&e(a)}));var l=Ge(i,2),u=e=>{var t=na(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()[s()]))),Kn(e,t)};ii(l,(e=>{s()&&e(u)}));var c=Ge(l,2);vi(c,(()=>t.children??d));var f=Ge(c,2),h=e=>{o(e)};ii(f,(e=>{"right"===I()&&e(h)})),Kn(e,n)},A=e=>{var n=ra(),i=He(n,!0);vi(Ge(i),(()=>t.children??d)),lt((()=>Qn(i,r()[s()]))),Kn(e,n)};ii(w,(e=>{t.icon?e(_):e(A,!1)})),Te(O),lt((()=>{Ii(O,"href",a()),Ii(O,"target",l()),Ii(O,"download",t.download),Ii(O,"rel",t.rel),Ci(O,`${$()??""} ${(m()?`is-${m()}`:"")??""} ${(b()?`is-${b()}`:"")??""} ${(y()?`is-${y()}`:"")??""} ${(k()?`is-${k()}`:"")??""}`),Ei(O,"button",p()),Ei(O,"is-light",u()),Ei(O,"is-inverted",g()),Ei(O,"is-outlined",h()),Ei(O,"is-raised",f()),Ei(O,"is-rounded",v()),Ei(O,"is-loading",c())})),Kn(e,O),de(),i()}Vn(["click"]);var aa=qn('<div><p class="control"><!></p></div>'),la=qn("<div><!></div>");function ua(e,t){const n=e=>{var t=Gn();ai(He(t),17,i,(e=>e.id),((e,t)=>{sa(e,cr((()=>yn(t)),l))})),Kn(e,t)};let i=dr(t,"values",19,(()=>[])),r=dr(t,"class",3,""),o=dr(t,"centered",3,!1),s=dr(t,"right",3,!1),a=dr(t,"joined",3,!0),l=dr(t,"itemsProps",19,(()=>({})));var u=Gn(),c=He(u),d=e=>{var t=aa(),i=qe(t),a=qe(i);n(a),Te(i),Te(t),lt((()=>{Ci(t,`field has-addons ${r()??""}`),Ei(t,"is-centered",o()),Ei(t,"is-right",s())})),Kn(e,t)},f=e=>{var t=la(),i=qe(t);n(i),Te(t),lt((()=>{Ci(t,`buttons ${r()??""}`),Ei(t,"is-centered",o()),Ei(t,"is-right",s())})),Kn(e,t)};ii(c,(e=>{a()?e(d):e(f,!1)})),Kn(e,u)}var ca=qn("<!> <!>",1),da=qn('<figure class="image is-64x64"><img class="is-rounded"></figure>'),fa=qn('<div class="list-item-controls"><!> <!></div>'),ha=qn("<div><!> <!> <!></div>");function ga(e,t){ce(t,!0);const n=e=>{var n=ca(),i=He(n),r=e=>{var n=Gn();vi(He(n),(()=>t.titleRenderer),(()=>$)),Kn(e,n)},o=e=>{var n=Gn(),i=He(n),r=e=>{const n=Je((()=>k(t.onclickTitle)));Br(e,{class:"list-item-title",get callback(){return yn(n)},children:(e,n)=>{var i=Gn(),r=He(i),o=e=>{var t=Gn();pi(He(t),g,((e,t)=>{t(e,cr((()=>yn(_)),v,{onchange:onchange}))})),Kn(e,t)},s=e=>{var n=Hn();lt((()=>Qn(n,t.title))),Kn(e,n)};ii(r,(e=>{g()?e(o):e(s,!1)})),Kn(e,i)},$$slots:{default:!0}})};ii(i,(e=>{t.title&&e(r)}),!0),Kn(e,n)};ii(i,(e=>{t.titleRenderer?e(r):e(o,!1)}));var s=Ge(i,2),a=e=>{var n=Gn();vi(He(n),(()=>t.descriptionRenderer),(()=>$)),Kn(e,n)},l=e=>{var n=Gn(),i=He(n),r=e=>{const n=Je((()=>k(t.onclickDescription)));Br(e,{class:"list-item-description",get callback(){return yn(n)},children:(e,n)=>{var i=Gn(),r=He(i),o=e=>{var n=Gn();pi(He(n),(()=>t.descriptionComponent),((e,n)=>{n(e,cr((()=>yn(A)),p,{onchange:onchange,get onclick(){return t.onclick}}))})),Kn(e,n)},s=e=>{var n=Hn();lt((()=>Qn(n,t.description))),Kn(e,n)};ii(r,(e=>{t.descriptionComponent?e(o):e(s,!1)})),Kn(e,i)},$$slots:{default:!0}})};ii(i,(e=>{t.description&&e(r)}),!0),Kn(e,n)};ii(s,(e=>{t.descriptionRenderer?e(a):e(l,!1)})),Kn(e,n)};let i=dr(t,"actions",19,(()=>[])),r=dr(t,"links",19,(()=>[])),o=dr(t,"listActions",19,(()=>[])),s=dr(t,"listLinks",19,(()=>[])),a=dr(t,"class",3,""),l=dr(t,"commonClass",3,""),u=dr(t,"image",3,""),c=dr(t,"index",19,(()=>-1)),d=dr(t,"first",3,!1),f=dr(t,"last",3,!1),h=dr(t,"listItemContentComponentProps",19,(()=>({}))),g=dr(t,"titleComponent",3,Xs),v=dr(t,"titleComponentProps",19,(()=>({size:6}))),p=dr(t,"descriptionComponentProps",19,(()=>({})));function m(){t.onclick&&t.onclick(t.value)}dr(t,"imageComponentProps",19,(()=>({})));let y=me(Fe([])),b=me(Fe([]));const k=e=>()=>{e&&(m(),e&&e(t.value))};rt((()=>{Ie(y,Fe([...i(),...o()].map(((e,n)=>({...e,id:n,action:e.action?()=>e.action(t.value):void 0}))))),Ie(b,Fe([...r(),...s()].map(((e,t)=>(e.id=t,e)))))}));const $={title:t.title,description:t.description,image:u(),value:t.value,index:c()},I={role:"button",tabindex:"0",onclick:m,onkeyup:e=>{e&&"Enter"==e.key&&m()}},O=t.onclick?I:{};let w=me(Fe({})),_=me(Fe({})),A=me(Fe({}));rt((()=>{"object"==typeof u()?Ie(w,Fe({...u()})):Ie(w,Fe({image:u()}))})),rt((()=>{"object"==typeof t.title?Ie(_,Fe({...t.title})):Ie(_,Fe({title:t.title}))})),rt((()=>{"object"==typeof t.description?Ie(A,Fe({...t.description})):Ie(A,Fe({description:t.description}))}));var S=ha();let C;var E=qe(S),L=e=>{var n=Gn(),i=He(n),r=e=>{var n=Gn();vi(He(n),(()=>t.imageRenderer),(()=>$)),Kn(e,n)},o=e=>{const n=Je((()=>k(t.onclickImage)));Br(e,{class:"list-item-image",get callback(){return yn(n)},children:(e,n)=>{var i=Gn(),r=He(i),o=e=>{var n=Gn();pi(He(n),(()=>t.imageComponent),((e,t)=>{t(e,cr((()=>yn(w))))})),Kn(e,n)},s=e=>{var n=da(),i=qe(n);Te(n),lt((()=>{Ii(i,"src",u()),Ii(i,"alt",t.title?t.title?.title||t.title:u())})),Kn(e,n)};ii(r,(e=>{t.imageComponent?e(o):e(s,!1)})),Kn(e,i)},$$slots:{default:!0}})};ii(i,(e=>{t.imageRenderer?e(r):e(o,!1)})),Kn(e,n)};ii(E,(e=>{u()&&e(L)}));var T=Ge(E,2),x=e=>{var i=Gn();pi(He(i),(()=>t.listItemContentComponent),((e,t)=>{t(e,cr(h,{children:(e,t)=>{n(e)},$$slots:{default:!0}}))})),Kn(e,i)},N=e=>{const i=Je((()=>k(t.onclickContent)));Br(e,{class:"list-item-content",get callback(){return yn(i)},children:(e,t)=>{n(e)},$$slots:{default:!0}})};ii(T,(e=>{t.listItemContentComponent?e(x):e(N,!1)}));var F=Ge(T,2),U=e=>{var t=fa(),n=qe(t),i=e=>{Yo(e,{get values(){return yn(y)},right:!0})};ii(n,(e=>{yn(y)&&yn(y).length&&e(i)}));var r=Ge(n,2),o=e=>{ua(e,{get values(){return yn(b)},right:!0})};ii(r,(e=>{yn(b)&&yn(b).length&&e(o)})),Te(t),Kn(e,t)};ii(F,(e=>{(yn(y)&&yn(y).length||yn(b)&&yn(b).length)&&e(U)})),Te(S),lt((()=>{C=Oi(S,C,{...O,class:`list-item ${a()??""} ${l()??""} ${`list-item-at-${c()}`??""}`}),Ei(S,"is-clickable",t.onclick),Ei(S,"list-item-last",f()),Ei(S,"list-item-first",d()),Ei(S,"list-item-odd",c()%2==1),Ei(S,"list-item-even",c()%2==0)})),Kn(e,S),de()}function va(e,t){ce(t,!0);let n=dr(t,"idFieldName",3,"id"),i=dr(t,"items",19,(()=>[])),r=dr(t,"actions",19,(()=>[])),o=dr(t,"links",19,(()=>[])),s=dr(t,"itemClass",3,""),a=dr(t,"listItemContentComponentProps",19,(()=>({}))),l=dr(t,"listItemComponent",3,ga),u=dr(t,"listItemComponentProps",19,(()=>({}))),c=dr(t,"titleComponent",3,Xs),d=dr(t,"titleComponentProps",19,(()=>({size:6}))),f=dr(t,"descriptionComponentProps",19,(()=>({}))),h=dr(t,"imageComponentProps",19,(()=>({})));var g=Gn(),v=He(g),p=e=>{var g=Gn();ai(He(g),19,i,(e=>e[n()]),((e,n,g)=>{var v=Gn(),p=He(v),m=e=>{var i=Gn();vi(He(i),(()=>t.listItemRenderer),(()=>yn(n)),(()=>yn(g))),Kn(e,i)},y=e=>{var n=Gn(),v=He(n);const p=Je((()=>0===yn(g))),m=Je((()=>yn(g)===i().length-1));pi(v,l,((e,n)=>{n(e,cr(u,{get listItemContentComponent(){return t.listItemContentComponent},get listItemContentComponentProps(){return a()},get titleRenderer(){return t.titleRenderer},get titleComponent(){return c()},get titleComponentProps(){return d()},get descriptionRenderer(){return t.descriptionRenderer},get descriptionComponent(){return t.descriptionComponent},get descriptionComponentProps(){return f()},get imageRenderer(){return t.imageRenderer},get imageComponent(){return t.imageComponent},get imageComponentProps(){return h()}},(()=>i()[yn(g)]),{get listActions(){return r()},get listLinks(){return o()},get value(){return i()[yn(g)].value},get commonClass(){return s()},get index(){return yn(g)},get first(){return yn(p)},get last(){return yn(m)},get onclick(){return t.onclick},get onclickContent(){return t.onclickContent},get onclickDescription(){return t.onclickDescription},get onclickImage(){return t.onclickImage},get onclickTitle(){return t.onclickTitle}}))})),Kn(e,n)};ii(p,(e=>{t.listItemRenderer?e(m):e(y,!1)})),Kn(e,v)})),Kn(e,g)};ii(v,(e=>{i()&&e(p)})),Kn(e,g),de()}var pa=qn("<div><!></div>");function ma(e,t){ce(t,!0);let n=dr(t,"class",3,""),i=dr(t,"items",19,(()=>[])),r=dr(t,"actions",19,(()=>[])),o=dr(t,"links",19,(()=>[])),s=dr(t,"actionsVisible",3,!1),a=dr(t,"itemsHoverable",3,!1),l=dr(t,"overflowEllipsis",3,!1),u=dr(t,"hiddenImages",3,!1),c=dr(t,"itemClass",3,""),d=dr(t,"idFieldName",3,"id"),f=dr(t,"emptyListPlaceholderComponent",3,ea),h=dr(t,"emptyListPlaceholderComponentProps",19,(()=>({}))),g=dr(t,"listItemContentComponentProps",19,(()=>({}))),v=dr(t,"listItemComponent",3,ga),p=dr(t,"listItemComponentProps",19,(()=>({}))),m=dr(t,"titleComponent",3,Xs),y=dr(t,"titleComponentProps",19,(()=>({size:6}))),b=dr(t,"descriptionComponentProps",19,(()=>({}))),k=dr(t,"imageComponentProps",19,(()=>({})));var $=Gn(),I=He($),O=e=>{var f=pa();va(qe(f),{get items(){return i()},get itemClass(){return c()},get listItemContentComponent(){return t.listItemContentComponent},get listItemContentComponentProps(){return g()},get listItemRenderer(){return t.listItemRenderer},get listItemComponent(){return v()},get listItemComponentProps(){return p()},get idFieldName(){return d()},get titleRenderer(){return t.titleRenderer},get titleComponent(){return m()},get titleComponentProps(){return y()},get descriptionRenderer(){return t.descriptionRenderer},get descriptionComponent(){return t.descriptionComponent},get descriptionComponentProps(){return b()},get imageRenderer(){return t.imageRenderer},get imageComponent(){return t.imageComponent},get imageComponentProps(){return k()},get actions(){return r()},get links(){return o()},get onchange(){return t.onchange},get onclick(){return t.onclick},get onclickContent(){return t.onclickContent},get onclickDescription(){return t.onclickDescription},get onclickImage(){return t.onclickImage},get onclickTitle(){return t.onclickTitle}}),Te(f),lt((()=>{Ii(f,"style",t.itemLength?`--length: ${t.itemLength};`:""),Ci(f,`list ${n()??""}`),Ei(f,"has-visible-pointer-controls",s()),Ei(f,"has-hoverable-list-items",a()),Ei(f,"has-overflow-ellipsis",l()),Ei(f,"has-hidden-images",u())})),Kn(e,f)},w=e=>{var n=Gn(),i=He(n),r=e=>{var n=Gn();vi(He(n),(()=>t.emptyListRenderer),h),Kn(e,n)},o=e=>{var t=Gn();pi(He(t),f,((e,t)=>{t(e,cr(h))})),Kn(e,t)};ii(i,(e=>{t.emptyListRenderer?e(r):e(o,!1)}),!0),Kn(e,n)};ii(I,(e=>{i().length?e(O):e(w,!1)})),Kn(e,$),de()}var ya=qn("<!> <!>",1);var ba=qn("<div><!></div>");function ka(e,t){let n=dr(t,"class",3,""),i=dr(t,"narrow",3,!1),r=sr(t,["$$slots","$$events","$$legacy","class","size","narrow","children"]);var o=ba();let s;vi(qe(o),(()=>t.children??d)),Te(o),lt((()=>{s=Oi(o,s,{class:`column ${n()??""} ${(t.size?`is-${t.size}`:"")??""}`,...r}),Ei(o,"is-narrow",i())})),Kn(e,o)}var $a=qn("<div><!></div>");function Ia(e,t){let n=dr(t,"class",3,""),i=sr(t,["$$slots","$$events","$$legacy","class","children"]);var r=$a();let o;vi(qe(r),(()=>t.children??d)),Te(r),lt((()=>o=Oi(r,o,{class:`columns ${n()??""}`,...i}))),Kn(e,r)}var Oa=qn("<div><!></div>");function wa(e,t){let n=dr(t,"id",3,""),i=dr(t,"title",3,""),r=dr(t,"class",3,""),o=dr(t,"role",3,"button"),s=dr(t,"tabIndex",3,"0"),a=dr(t,"widescreen",3,!1),l=dr(t,"fullhd",3,!1),u=dr(t,"maxDesktop",3,!1),c=dr(t,"maxWidescreen",3,!1),f=dr(t,"fluid",3,!1);var h=Oa();h.__click=function(...e){t.onclick?.apply(this,e)},h.__keyup=function(...e){t.onkeyup?.apply(this,e)},vi(qe(h),(()=>t.children??d)),Te(h),lt((()=>{Ii(h,"id",n()),Ii(h,"title",i()),Ci(h,`container ${r()??""}`),Ii(h,"role",o()),Ii(h,"tabindex",s()),Ei(h,"is-widescreen",a()),Ei(h,"is-fullhd",l()),Ei(h,"is-max-desktop",u()),Ei(h,"is-max-widescreen",c()),Ei(h,"is-fluid",f())})),Kn(e,h)}Vn(["click","keyup"]);var _a=qn("<footer><!></footer>");var Aa=qn("<section><!></section>");Vn(["click","keyup"]);var Sa=qn('<nav class="level"><div class="level-left"><!></div> <div class="level-right"><!></div></nav>');var Ca=Object.freeze({__proto__:null,UIColumn:ka,UIColumns:Ia,UIContainer:wa,UIFooter:function(e,t){let n=dr(t,"id",3,""),i=dr(t,"class",3,"");var r=_a();vi(qe(r),(()=>t.children??d)),Te(r),lt((()=>{Ii(r,"id",n()),Ci(r,`footer ${i()??""} `)})),Kn(e,r)},UILevel:function(e,t){var n=Sa(),i=qe(n);vi(qe(i),(()=>t.left??d)),Te(i);var r=Ge(i,2);vi(qe(r),(()=>t.right??d)),Te(r),Te(n),Kn(e,n)},UILevelItem:function(e,t){let n=dr(t,"tag",3,"div");var i=Gn();mi(He(i),n,0,((e,n)=>{var i=Gn(),r=He(i),o=e=>{var n=Gn();vi(He(n),(()=>t.children??d)),Kn(e,n)},s=e=>{};ii(r,(e=>{t.children?e(o):e(s,!1)})),Kn(n,i)})),Kn(e,i)},UISection:function(e,t){let n=dr(t,"id",3,""),i=dr(t,"class",3,""),r=dr(t,"role",3,"button"),o=dr(t,"tabIndex",3,"0");var s=Aa();s.__click=function(...e){t.onclick?.apply(this,e)},s.__keyup=function(...e){t.onkeyup?.apply(this,e)},vi(qe(s),(()=>t.children??d)),Te(s),lt((()=>{Ii(s,"id",n()),Ci(s,`section ${i()??""}`),Ii(s,"role",r()),Ii(s,"tabindex",o())})),Kn(e,s)}}),Ea=qn("<p> </p>"),La=qn("<input>");function Ta(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,0),o=dr(t,"placeholder",3,"0.0"),s=dr(t,"min",3,0),a=dr(t,"max",3,100),l=dr(t,"step",3,1),u=dr(t,"fieldname",3,"number"),c=dr(t,"required",3,!0),d=dr(t,"disabled",3,!1),f=dr(t,"readonly",3,!1),h=dr(t,"valid",3,!0),g=dr(t,"class",3,""),v=sr(t,["$$slots","$$events","$$legacy","value","placeholder","min","max","step","fieldname","color","size","required","disabled","readonly","valid","class"]),p=Je((()=>!h()));const m={};if("function"==typeof t.onchange){const e=Pr.onInput(u(),t.onchange);m.onchange=e,m.oninput=e}var y=Gn(),b=He(y),k=e=>{var t=Ea(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()))),Kn(e,t)},$=e=>{var i=La();let h;ki(i),lt((()=>h=Oi(i,h,{id:`form-field-number-${u()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${g()??""}`,type:"number",name:u(),invalid:yn(p),disabled:d(),required:c(),readonly:f(),min:s(),max:a(),step:l(),placeholder:nr(Gr,"$LOCALE",n)[o()],autocomplete:u(),"aria-controls":`input-field-helper-${u()??""}`,"aria-describedby":`input-field-helper-${u()??""}`,...m,...v}))),Mi(i,r),Kn(e,i)};ii(b,(e=>{f()?e(k):e($,!1)})),Kn(e,y),de(),i()}var xa=qn("<!> <!> <!>",1),Na=qn("<!> <!> <!>",1),Fa=qn("<!> <!> <!>",1);var Ua=qn("<input>");var Pa=qn("<figure><img></figure>"),Da=qn("<a><!></a>");function Ma(e,t){const n=e=>{var n=Pa(),c=qe(n);c.__click=function(...e){l()?.apply(this,e)},c.__keyup=function(...e){u()?.apply(this,e)},Te(n),lt((e=>{Ci(n,`image ${a()??""} ${e??""}`),Ii(n,"style",(t.width?`width: ${t.width};`:"")+(t.height?`height: ${t.height};`:"")),Ei(n,"is-contained",o()),Ei(n,"is-covered",s()),Ei(n,"is-clickable",l()&&!1!==t.pointable||t.pointable),Ii(c,"alt",t.alt||t.title),Ii(c,"title",t.title),Ii(c,"src",t.url||t.image),Ii(c,"crossorigin",i())}),[()=>t.width||t.height?"":isNaN(r())?`is-${r()}`:`is-${r()}x${r()}`]),Kn(e,n)};let i=dr(t,"cors",3,"anonymous"),r=dr(t,"size",3,64),o=dr(t,"contained",3,!1),s=dr(t,"covered",3,!1),a=dr(t,"class",3,""),l=dr(t,"onclick",3,void 0),u=dr(t,"onkeyup",3,void 0);var c=Gn(),d=He(c),f=e=>{var i=Da();i.__click=function(...e){l()?.apply(this,e)};var r=qe(i);n(r),Te(i),lt((()=>{Ii(i,"href",t.urlFull),Ii(i,"title",t.title||t.alt)})),Kn(e,i)},h=e=>{n(e)};ii(d,(e=>{t.urlFull?e(f):e(h,!1)})),Kn(e,c)}Vn(["click","keyup"]);var Ra=qn("<p> </p>"),ja=qn("<option></option>"),Va=qn("<datalist></datalist>"),za=qn("<input> <output> </output> <!>",1);var Wa=qn('<span class="mr-2"> </span>'),Ba=qn('<span class="mr-2"> </span>'),qa=qn("<div><select><!><!></select></div>");const Ha="ok",Ga={SHORT:500,NORMAL:1500,LONG:5e3},Ka=1500;var Ja=qn('<!> <input> <label class="label"><!></label>',1);var Ya=qn('<div class="switch-list-item"><input> <!></div>');function Qa(e,t,n){e&&e.preventDefault();let i=e.currentTarget.dataset.id;return t().includes(i)&&(t().splice(t().indexOf(i),1),t(t()),n()),!1}var Za=qn('<button aria-label="delete button" class="delete is-small"></button>'),Xa=qn("<span> <!></span>"),el=qn('<div class="select is-small"><select><!><!></select></div> <!>',1),tl=qn("<!> <!>",1);Vn(["click"]);var nl=qn("<p> </p>"),il=qn("<input>");var rl=Object.freeze({__proto__:null,UIAutocomplete:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"checkbox-list"),a=dr(t,"disabled",3,!1),l=dr(t,"readonly",3,!1),u=dr(t,"required",3,!1),c=dr(t,"valid",3,!0),d=dr(t,"onchange",3,(()=>!0)),f=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","disabled","readonly","required","valid","onchange"]),h=Je((()=>!c()));const g=Pr.onInput(s(),d());var v=Gn(),p=He(v),m=e=>{const t=Je((()=>r()?r().title:""));Ls(e,cr({get value(){return yn(t)},get fieldname(){return s()},get placeholder(){return o()}},(()=>f)))},y=e=>{var t=Gn(),i=He(t),s=e=>{var t=Ts(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()?r().title:""))),Kn(e,t)},a=e=>{Ss(e,cr({onChange:g,get valid(){return c()},get invalid(){return yn(h)},get required(){return u()},get placeholder(){return nr(Gr,"$LOCALE",n)[o()]}},(()=>f),{get selectedItem(){return r()},set selectedItem(e){r(e)}}))};ii(i,(e=>{l()?e(s):e(a,!1)}),!0),Kn(e,t)};ii(p,(e=>{a()?e(m):e(y,!1)})),Kn(e,v),de(),i()},UICheckbox:Ps,UICheckboxList:function(e,t){ce(t,!0);let n=dr(t,"value",27,(()=>Fe([]))),i=dr(t,"variants",19,(()=>[])),r=dr(t,"fieldname",3,"checkbox-list"),o=sr(t,["$$slots","$$events","$$legacy","value","variants","fieldname"]);function s(e,i,o){o&&(console.log(e,o.id),e.value?n().includes(o.id)||n().push(o.id):n().includes(o.id)&&n().splice(n().indexOf(o.id),1),t?.onchange({field:r(),value:z(n())},i,o))}var a=Gn();ai(He(a),17,i,(e=>e.id),((e,t)=>{const i=Je((()=>`${r()}-${yn(t).id}`)),a=Je((()=>n().includes(yn(t).id)));Ps(e,cr((()=>o),(()=>yn(t)),{get fieldname(){return yn(i)},get value(){return yn(a)},onchange:s}))})),Kn(e,a),de()},UIColor:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,""),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"color"),a=dr(t,"disabled",3,!1),l=dr(t,"required",3,!0),u=dr(t,"readonly",3,!1),c=dr(t,"valid",3,!0),d=dr(t,"class",3,""),f=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","size","color","disabled","required","readonly","valid","class"]),h=Je((()=>!c()));const g={};if("function"==typeof t.onchange){const e=Nh.onInput(s(),t.onchange);g.onchange=e,g.oninput=e}var v=xs();let p;ki(v),lt((()=>p=Oi(v,p,{id:`form-field-color-${s()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${d()??""}`,type:"color",name:s(),invalid:yn(h),required:l(),readonly:u(),disabled:a(),placeholder:nr(Gr,"$LOCALE",n)[o()],autocomplete:s(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...g,...f}))),Mi(v,r),Kn(e,v),de(),i()},UIControl:ss,UIDate:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",31,(()=>Fe(new Date))),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"datetime"),a=dr(t,"pattern",3,"d{4}-d{2}-d{2}"),l=dr(t,"required",3,!0),u=dr(t,"disabled",3,!1),c=dr(t,"readonly",3,!1),d=dr(t,"valid",3,!0),f=dr(t,"class",3,""),h=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","color","size","pattern","required","disabled","readonly","valid","class"]);fr((()=>{r()instanceof Date?r(r().toISOString().split("T")[0]):r().indexOf("T")>0&&r(r().split("T")[0])}));let g=Je((()=>!d()));const v={};if("function"==typeof t.onchange){const e=Pr.onInput(s(),t.onchange);v.onchange=e,v.oninput=e}var p=Gn(),m=He(p),y=e=>{var t=Ds(),n=qe(t),i=qe(n,!0);Te(n),Te(t),lt((e=>{Ii(n,"datetime",r()),Qn(i,e)}),[()=>Pr.tryFormatLocaleDateTime(r())]),Kn(e,t)},b=e=>{var i=Ms();let d;ki(i),lt((()=>d=Oi(i,d,{id:`form-field-date-${s()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${f()??""}`,type:"date",name:s(),invalid:yn(g),required:l(),readonly:c(),disabled:u(),placeholder:nr(Gr,"$LOCALE",n)[o()],pattern:a(),autocomplete:s(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...v,...h}))),Mi(i,r),Kn(e,i)};ii(m,(e=>{c()?e(y):e(b,!1)})),Kn(e,p),de(),i()},UIDatetimeInTZ:function(e,t){function n(e,t=!1){return e.split(".")[0]+(t?"":"Z")}function i(e,t=!1){return e.slice(0,e.lastIndexOf(":"))+(t?"":"Z")}function r(e,t){try{const r=new Date(o(e)).getTime(),s=-6e4*t;if(b(r+s)){const e=new Date(r+s);return i(n(e.toISOString(),!0),!0)}}catch{return}}function o(e){return e&&"Z"!==e.at(-1)?e+"Z":e}ce(t,!0);let s=dr(t,"fieldname",3,"datetimeInTZ"),a=dr(t,"value",31,(()=>Fe(i(n((new Date).toISOString()))))),l=dr(t,"timezoneOffset",3,0);dr(t,"human",3,!0);let u,c=dr(t,"required",3,!1),d=dr(t,"disabled",3,!1),f=dr(t,"readonly",3,!1),h=dr(t,"valid",3,!0),g=dr(t,"class",3,""),v=dr(t,"onchange",3,(()=>!0)),p=sr(t,["$$slots","$$events","$$legacy","fieldname","value","timezoneOffset","human","color","size","required","disabled","readonly","valid","class","onchange"]),m=me(void 0);const y=e=>{b(e)&&(u=yn(m),Ie(m,Fe(e)))};fr((()=>{y(r(a(),l()))}));const b=e=>{try{return new Date(e),!0}catch{return!1}};function k(e){return e.currentTarget.value&&yn(m)&&b(yn(m))?(a()!==r(yn(m),-l())&&(y(yn(m)),a(o(r(yn(m),-l()))),v()({field:s(),value:z(a())})),!0):(Ie(m,Fe(u)),!1)}let $=Je((()=>!h()));var I=Gn(),O=He(I),w=e=>{var n=Gn(),i=He(n),r=e=>{var t=Rs(),n=qe(t,!0);Te(t),lt((e=>Qn(n,e)),[()=>{return e=yn(m),Pr.tryFormatLocaleDateTime(e);var e}]),Kn(e,t)},o=e=>{var n=js();let i;ki(n),lt((()=>i=Oi(n,i,{id:`form-field-datetime-in-timezone-${s()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${g()??""}`,type:"datetime-local",name:s(),invalid:yn($),disabled:d(),required:c(),readonly:f(),autocomplete:s(),onchange:k,onblur:k,oninput:k,"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...p}))),Mi(n,(()=>yn(m)),(e=>Ie(m,e))),Kn(e,n)};ii(i,(e=>{f()?e(r):e(o,!1)})),Kn(e,n)};ii(O,(e=>{yn(m)&&e(w)})),Kn(e,I),de()},UIEmail:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,""),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"email"),a=dr(t,"required",3,!0),l=dr(t,"readonly",3,!1),u=dr(t,"disabled",3,!1),c=dr(t,"valid",3,!0),d=dr(t,"class",3,""),f=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","color","size","required","readonly","disabled","valid","class"]),h=Je((()=>!c()));const g={};if("function"==typeof t.onchange){const e=Pr.onInput(s(),t.onchange);g.onchange=e,g.oninput=e}var v=Gn(),p=He(v),m=e=>{var t=Vs(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()))),Kn(e,t)},y=e=>{var i=zs();let c;ki(i),lt((()=>c=Oi(i,c,{id:`form-field-email-${s()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${d()??""}`,type:"email",name:s(),invalid:yn(h),required:a(),readonly:l(),disabled:u(),placeholder:nr(Gr,"$LOCALE",n)[o()],autocomplete:s(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...g,...f}))),Mi(i,r),Kn(e,i)};ii(p,(e=>{l()?e(m):e(y,!1)})),Kn(e,v),de(),i()},UIField:rs,UIHidden:function(e,t){let n=dr(t,"value",15,""),i=dr(t,"fieldname",3,"hidden"),r=dr(t,"required",3,!0),o=dr(t,"readonly",3,!1),s=sr(t,["$$slots","$$events","$$legacy","value","fieldname","required","readonly"]);var a=Ws();ki(a),lt((()=>{Ii(a,"id",`form-field-hidden-${i()??""}`),a.required=r(),a.readOnly=o(),Ii(a,"name",i()),Ii(a,"others",s)})),Mi(a,n),Kn(e,a)},UIJSONArea:function(e,t){ce(t,!0);let n=dr(t,"value",31,(()=>Fe({}))),i=dr(t,"fieldname",3,"jsonarea"),r=dr(t,"valid",15,!0),o=dr(t,"onchange",3,(()=>!0)),s=dr(t,"onerror",3,(()=>{})),a=sr(t,["$$slots","$$events","$$legacy","value","fieldname","valid","onchange","onerror"]),l=me("{}");fr((()=>{try{Ie(l,Fe(JSON.stringify(n(),null,4)))}catch{Ie(l,"{}")}})),Hs(e,cr({onchange:function({value:e}){try{n(JSON.parse(e)),r(!0),o()({field:i(),value:n()})}catch(e){s()(e.message)}return!0},get valid(){return r()}},(()=>a),{get value(){return yn(l)},set value(e){Ie(l,Fe(e))}})),de()},UILabel:Fs,UIListOfModels:function(e,t){ce(t,!0);let n=dr(t,"value",31,(()=>Fe([]))),i=dr(t,"placeholder",15,""),r=dr(t,"fieldname",15,"selectFromModel"),o=dr(t,"required",15,!0),s=dr(t,"readonly",3,!1),a=dr(t,"multiple",15,!1),l=dr(t,"size",15,8),u=dr(t,"valid",15,!0),c=dr(t,"modelName",3,""),d=dr(t,"actionName",3,""),f=dr(t,"actionFilter",19,(()=>({}))),h=dr(t,"actionSorter",19,(()=>({}))),g=dr(t,"actionPager",19,(()=>({}))),v=dr(t,"actionSearch",3,void 0),p=dr(t,"optionId",3,":_id"),m=dr(t,"optionTitle",3,":title"),y=dr(t,"selectorUI",3,"UISelectFromModelOnDemandInline"),b=dr(t,"selectorUIProps",19,(()=>({}))),k=dr(t,"itemUI",3,"UIListItem"),$=dr(t,"itemUIProps",19,(()=>({}))),I=dr(t,"transformValueItemToListItem",3,(e=>e?{id:e._id,title:e.title,description:e.description,value:e}:void 0)),O=Je((()=>n().map?n().map(I()):[]));const w=[{action(e){const t=e.value,i=n().findIndex((e=>e===t));if(i>-1){const e=[...n()];ho.moveItem(e,i,i-1),n(e)}},title:"",icon:"arrow-up",color:"normal"},{action:e=>{const t=e.value,i=n().findIndex((e=>e===t));if(i>-1){const e=[...n()];ho.moveItem(e,i,i+1),n(e)}},title:"",icon:"arrow-down",color:"normal"},{action:e=>{const t=e.value,i=n().findIndex((e=>e===t));i>-1&&(n().splice(i,1),n(n()))},title:"",icon:"trash",color:"danger"}];var _=ya(),A=He(_);const S=Je((()=>Js.get(k())));ma(A,cr({get listItemComponent(){return yn(S)}},$,{get items(){return yn(O)},actions:w}));var C=Ge(A,2),E=e=>{var t=Gn();const s=Je((()=>Js.get(y())));pi(He(t),(()=>yn(s)),((e,t)=>{t(e,cr(b,{get modelName(){return c()},get actionName(){return d()},get actionFilter(){return f()},get actionSorter(){return h()},get actionPager(){return g()},get actionSearch(){return v()},get optionId(){return p()},get optionTitle(){return m()},get placeholder(){return i()},set placeholder(e){i(e)},get fieldname(){return r()},set fieldname(e){r(e)},get required(){return o()},set required(e){o(e)},get multiple(){return a()},set multiple(e){a(e)},get size(){return l()},set size(e){l(e)},get valid(){return u()},set valid(e){u(e)},$$events:{resolve:e=>{return t=e.detail,Array.isArray(n())||n([]),n().push(t),void n(n());var t}}}))})),Kn(e,t)};ii(C,(e=>{s()||e(E)})),Kn(e,_),de()},UINamedNumbersList:function(e,t){ce(t,!0);let n=dr(t,"fieldname",3,"numbers_list"),i=dr(t,"value",31,(()=>Fe({}))),r=dr(t,"label",3,"named numbers list"),o=dr(t,"placeholder",15,"new item"),s=dr(t,"readonly",3,!1),a=dr(t,"onchange",3,(()=>!0)),l=Je((()=>Object.keys(i()).map((e=>({id:e,title:e,number:i()[e]}))))),u=Fe({id:"",number:0});var c=Fa(),d=He(c);Xs(d,{get title(){return r()},size:5});var f=Ge(d,2);ai(f,17,(()=>yn(l)),(e=>e.id),((e,t)=>{Ia(e,{children:(e,r)=>{var o=xa(),l=He(o);ka(l,{classes:"is-6",children:(e,n)=>{xe();var i=Hn();lt((()=>Qn(i,yn(t).title))),Kn(e,i)},$$slots:{default:!0}});var u=Ge(l,2);ka(u,{classes:"is-4",children:(e,n)=>{xe();var i=Hn();lt((()=>Qn(i,yn(t).number))),Kn(e,i)},$$slots:{default:!0}});var c=Ge(u,2),d=e=>{ka(e,{classes:"is-2",children:(e,r)=>{qo(e,{icon:"minus",action:()=>{return e=yn(t).id,void(ho.objHas(i(),e)&&(delete i()[e],i(i()),a()({value:i(),field:n()})));var e}})},$$slots:{default:!0}})};ii(c,(e=>{s()||e(d)})),Kn(e,o)},$$slots:{default:!0}})}));var h=Ge(f,2),g=e=>{Ia(e,{children:(e,t)=>{var r=Na(),s=He(r);ka(s,{classes:"is-6",children:(e,t)=>{Ls(e,{get value(){return u.id},set value(e){u.id=e},get placeholder(){return o()},set placeholder(e){o(e)}})},$$slots:{default:!0}});var l=Ge(s,2);ka(l,{classes:"is-4",children:(e,t)=>{Ta(e,{get value(){return u.number},set value(e){u.number=e}})},$$slots:{default:!0}}),ka(Ge(l,2),{classes:"is-2",children:(e,t)=>{qo(e,{icon:"plus",action:()=>function(){const e=u.id.trim(),t=parseInt(u.number);!e||""===e||isNaN(t)||ho.objHas(i(),e)||i(i()[e]=t,!0),a()({value:i(),field:n()})}()})},$$slots:{default:!0}}),Kn(e,r)},$$slots:{default:!0}})};ii(h,(e=>{s()||e(g)})),Kn(e,c),de()},UINumber:Ta,UIPassword:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,""),o=dr(t,"placeholder",3,""),s=dr(t,"fieldname",3,"password"),a=dr(t,"required",3,!0),l=dr(t,"readonly",3,!1),u=dr(t,"disabled",3,!1),c=dr(t,"valid",3,!0),d=dr(t,"class",3,""),f=sr(t,["$$slots","$$events","$$legacy","value","placeholder","fieldname","color","size","required","readonly","disabled","valid","class"]),h=Je((()=>!c()));const g={};if("function"==typeof t.onchange){const e=Pr.onInput(s(),t.onchange);g.onchange=e,g.oninput=e}var v=Ua();let p;ki(v),lt((()=>p=Oi(v,p,{id:`form-field-password-${s()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${d()??""}`,type:"password",name:s(),invalid:yn(h),required:a(),readonly:l(),disabled:u(),placeholder:nr(Gr,"$LOCALE",n)[o()],autocomplete:s(),"aria-controls":`input-field-helper-${s()??""}`,"aria-describedby":`input-field-helper-${s()??""}`,...g,...f}))),Mi(v,r),Kn(e,v),de(),i()},UIRadioButtons:function(e,t){ce(t,!0);let n=dr(t,"fieldname",3,"radio-buttons"),i=dr(t,"variants",19,(()=>[])),r=dr(t,"value",15),o=dr(t,"buttonProps",19,(()=>({}))),s=dr(t,"titleComponent",3,Xs),a=dr(t,"titleComponentProps",19,(()=>({size:5}))),l=dr(t,"imageComponent",3,Ma),u=dr(t,"imageComponentProps",19,(()=>({covered:!0}))),c=dr(t,"descriptionComponent",3,Yo),d=dr(t,"descriptionComponentProps",19,(()=>({}))),f=dr(t,"listComponent",3,ma),h=dr(t,"listComponentProps",19,(()=>({}))),g=dr(t,"getUIItem",3,(e=>b.find((t=>t.value===e)))),v=dr(t,"getDefaultItemSublime",3,(()=>i()[0].value)),p=dr(t,"uiOn",3,(e=>{e.color="success",e.outlined=!1})),m=dr(t,"uiOff",3,(e=>{e.color=!1,e.outlined=!0})),y=dr(t,"onchange",3,(()=>!0));fr((()=>{b=i().map((e=>({...o(),...e}))),Ie(k,Fe([{id:0,title:t.title,image:t.image,description:{values:b}}])),function(){if(i().length>0)if(void 0!==r())I({on:r()});else{$(v()())}}()}));let b=[],k=me(Fe([]));function $(e){let t={on:void 0,off:void 0};r()&&(t.off=r(),t.on=e),r(e),I(t),y()({field:n(),value:r()})}function I(e){e.off&&m()(g()(e.off)),e.on&&p()(g()(e.on)),Ie(k,Fe(yn(k)))}const O=Je(f);var w=Gn(),_=He(w);const A=Je((()=>({...d(),action(e,t){$(t)}})));pi(_,(()=>yn(O)),((e,t)=>{t(e,cr(h,{get titleComponent(){return s()},get titleComponentProps(){return a()},get descriptionComponent(){return c()},get descriptionComponentProps(){return yn(A)},get imageComponent(){return l()},get imageComponentProps(){return u()},get items(){return yn(k)},set items(e){Ie(k,Fe(e))}}))})),Kn(e,w),de()},UIRange:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,10),o=dr(t,"min",3,0),s=dr(t,"max",3,100),a=dr(t,"step",3,1),l=dr(t,"tickmarks",3,!1),u=dr(t,"placeholder",3,""),c=dr(t,"fieldname",3,"range"),d=dr(t,"required",3,!0),f=dr(t,"disabled",3,!1),h=dr(t,"readonly",3,!1),g=dr(t,"valid",3,!0),v=dr(t,"class",3,""),p=sr(t,["$$slots","$$events","$$legacy","value","min","max","step","tickmarks","placeholder","fieldname","color","size","required","disabled","readonly","valid","class"]),m=Je((()=>!g()));const y={};if("function"==typeof t.onchange){const e=Pr.onInput(c(),t.onchange);y.onchange=e,y.oninput=e}var b=Gn(),k=He(b),$=e=>{var t=Ra(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()))),Kn(e,t)},I=e=>{var i=za(),g=He(i);let b;ki(g);var k=Ge(g,2),$=qe(k,!0);Te(k);var I=Ge(k,2),O=e=>{var t=Va();ai(t,21,l,si,((e,t)=>{var n=ja(),i={};lt((()=>{i!==(i=yn(t).value)&&(n.value=null==(n.__value=yn(t).value)?"":yn(t).value),Ii(n,"label",yn(t).label)})),Kn(e,n)})),Te(t),lt((()=>Ii(t,"id",`form-field-range-${c()??""}-tickmarks`))),Kn(e,t)};ii(I,(e=>{Array.isArray(l())&&l().length&&e(O)})),lt((()=>{b=Oi(g,b,{id:`form-field-range-${c()??""}`,class:`input big-number slider has-output ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""}  ${v()??""}`,type:"range",name:c(),min:o(),max:s(),step:a(),list:`form-field-range-${c()??""}-tickmarks`,invalid:yn(m),disabled:f(),required:d(),readonly:h(),placeholder:nr(Gr,"$LOCALE",n)[u()],autocomplete:c(),"aria-controls":`input-field-helper-${c()??""}`,"aria-describedby":`input-field-helper-${c()??""}`,...y,...p}),Ii(k,"for",`form-field-range-${c()??""}`),Qn($,r())})),Mi(g,r),Kn(e,i)};ii(k,(e=>{h()?e($):e(I,!1)})),Kn(e,b),de(),i()},UISelect:Mo,UISelectFromModel:function(e,t){ce(t,!0);let n=dr(t,"placeholder",3,""),i=dr(t,"emptyValueTitle",3,""),r=dr(t,"fieldname",3,"selectFromModel"),o=dr(t,"modelName",3,""),s=dr(t,"actionName",3,""),a=dr(t,"actionFilter",19,(()=>({}))),l=dr(t,"actionSorter",19,(()=>({}))),u=dr(t,"actionPager",19,(()=>({}))),c=dr(t,"actionSearch",3,void 0),d=dr(t,"optionId",3,":_id"),f=dr(t,"optionTitle",3,":title"),h=dr(t,"required",3,!0),g=dr(t,"readonly",3,!1),v=dr(t,"multiple",3,!1),p=dr(t,"size",3,8),m=dr(t,"valid",3,!0),y=dr(t,"returnVariant",3,!1),b=dr(t,"class",3,""),k=dr(t,"onchange",3,(()=>!0)),$=dr(t,"onerror",3,(()=>{})),I=sr(t,["$$slots","$$events","$$legacy","value","placeholder","emptyValueTitle","fieldname","modelName","actionName","actionFilter","actionSorter","actionPager","actionSearch","optionId","optionTitle","required","readonly","multiple","size","valid","returnVariant","class","onchange","onerror"]),O=me(Fe([])),w=Je((()=>!0));fr((async()=>{if(o()&&s()&&a()){const e=ho.getApp().getModel(o()).setFilter(a()).setSorter(l()).setPager(u()).setSearch(c()),t=await e["$"+s()]();if(t.status===Ha){const e=t.result;Ie(O,Fe(e.map((e=>({id:so.get(d(),e),title:so.get(f(),e)})))))}else $()(t.errors||t.message)}})),Mo(e,cr({get value(){return t.value},get class(){return b()},get placeholder(){return n()},get emptyValueTitle(){return i()},get fieldname(){return r()},get required(){return h()},get readonly(){return g()},get disabled(){return yn(w)},get multiple(){return v()},get size(){return p()},get valid(){return m()},onchange:function(e){y()?k()({...e,value:yn(O).find((t=>t.id===e.value))}):k()(e)}},(()=>I),{get variants(){return yn(O)},set variants(e){Ie(O,Fe(e))}})),de()},UISelectMultiple:function(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"value",23,(()=>[])),s=dr(t,"variants",19,(()=>[]));dr(t,"placeholder",3,"");let a=dr(t,"emptyValueTitle",3,"no-selection"),l=dr(t,"emptyValueEnabled",3,!0),u=dr(t,"fieldname",3,"select-multiple"),c=dr(t,"required",3,!0),d=dr(t,"readonly",3,!1),f=dr(t,"rows",3,8),h=dr(t,"valid",3,!0),g=dr(t,"class",3,""),v=dr(t,"onchange",3,(()=>!0)),p=sr(t,["$$slots","$$events","$$legacy","value","variants","placeholder","emptyValueTitle","emptyValueEnabled","emptyValue","fieldname","required","readonly","rows","color","size","valid","class","onchange"]),m=z(o());function y(e){return s().find((t=>t.id==e))}function b(){const e=void 0===t.emptyValue?Pr.CLEAR_MACRO:t.emptyValue;return o().filter((t=>t!==e)).map(y)}function k(e){let t=function(e){return Array.from(e.selectedOptions).map((e=>void 0!==e.__value?e.__value:e.value))}(e.currentTarget);t.includes(Pr.CLEAR_MACRO)&&(t=[]);const n=t;o(t),ho.compareTwoArrays(n,m)||(m=n,v()({value:n,field:u(),variants:b()}))}let $=Je((()=>o()&&Array.isArray(o())?b(o()):[])),I=Je((()=>!h())),O=Je((()=>[t.size,t.color].filter((e=>e)).map((e=>`is-${e}`)).join(" ")));var w=Gn(),_=He(w),A=e=>{var t=Gn(),n=He(t),i=e=>{var t=Gn();ai(He(t),17,(()=>yn($)),si,((e,t)=>{var n=Wa(),i=qe(n,!0);Te(n),lt((()=>Qn(i,r()[yn(t).title]))),Kn(e,n)})),Kn(e,t)},s=e=>{var t=Gn(),n=He(t),i=e=>{var t=Ba(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()[a()]))),Kn(e,t)};ii(n,(e=>{l()&&e(i)}),!0),Kn(e,t)};ii(n,(e=>{o()&&Array.isArray(o())&&o().length?e(i):e(s,!1)})),Kn(e,t)},S=e=>{var n=qa(),i=qe(n);let r;Wi(i,(()=>r.value));var h=qe(i),v=e=>{const n=Je((()=>void 0===t.emptyValue?Pr.CLEAR_MACRO:t.emptyValue));Fo(e,{get value(){return yn(n)},get title(){return a()}})};ii(h,(e=>{l()&&e(v)})),ai(Ge(h),17,s,(e=>e.id),((e,t)=>{Fo(e,{get value(){return yn(t).id},get title(){return yn(t).title}})})),Te(i),Te(n),lt((()=>{Ci(n,`select is-multiple ${yn(O)??""} ${g()??""} `),r=Oi(i,r,{multiple:"true",id:`form-field-select-${u()??""}`,name:u(),oninput:k,onchange:k,onblur:k,value:o(),readonly:d(),required:c(),invalid:yn(I),size:f(),...p}),"value"in r&&zi(i,r.value)})),Kn(e,n)};ii(_,(e=>{d()?e(A):e(S,!1)})),Kn(e,w),de(),i()},UISelectOption:Fo,UISwitch:function(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"value",15,!1),s=dr(t,"label",3,""),a=dr(t,"hideLabel",3,!1),l=dr(t,"placeholder",3,""),u=dr(t,"fieldname",3,"switch"),c=dr(t,"required",3,!0),d=dr(t,"readonly",3,!1),f=dr(t,"disabled",3,!1),h=dr(t,"reactOn",19,(()=>["onblur","oninput"])),g=dr(t,"valid",3,!0),v=dr(t,"class",3,""),p=sr(t,["$$slots","$$events","$$legacy","value","label","hideLabel","placeholder","fieldname","size","color","required","readonly","disabled","reactOn","valid","class"]),m=Je((()=>!g()));const y={};if("function"==typeof t.onchange){const e=Pr.onInput(u(),t.onchange);h().forEach((t=>y[t]=e))}var b=Gn(),k=He(b),$=e=>{ko(e,{get LC_TRUE(){return s()},get LC_FALSE(){return s()},get value(){return o()}})},I=e=>{var n=Ja(),i=He(n),h=e=>{ko(e,{value:!1})};ii(i,(e=>{s()||a()||e(h)}));var g=Ge(i,2);let b;ki(g);var k=Ge(g,2),$=qe(k),I=e=>{var t=Gn(),n=He(t),i=e=>{var t=Hn();lt((()=>Qn(t,r()[s()]))),Kn(e,t)},o=e=>{ko(e,{value:!1})};ii(n,(e=>{s()?e(i):e(o,!1)})),Kn(e,t)};ii($,(e=>{a()||e(I)})),Te(k),lt((()=>{b=Oi(g,b,{id:`form-field-switch-${u()??""}`,class:`switch ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${v()??""}`,type:"checkbox",name:u(),placeholder:r()[l()],disabled:f(),required:c(),readonly:d(),invalid:yn(m),"aria-controls":`input-field-helper-${u()??""}`,"aria-describedby":`input-field-helper-${u()??""}`,...y,...p}),Ii(k,"for",`form-field-switch-${u()??""}`)})),Ri(g,o),Kn(e,n)};ii(k,(e=>{d()?e($):e(I,!1)})),Kn(e,b),de(),i()},UISwitchList:function(e,t){ce(t,!0);let n=dr(t,"value",31,(()=>Fe([]))),i=dr(t,"variants",19,(()=>[])),r=dr(t,"fieldname",3,"switch"),o=dr(t,"required",3,!0),s=dr(t,"readonly",3,!1),a=dr(t,"disabled",3,!1),l=dr(t,"reactOn",19,(()=>["onblur","oninput"])),u=dr(t,"valid",3,!0),c=dr(t,"class",3," is-rounded "),d=dr(t,"onchange",3,(()=>!0)),f=sr(t,["$$slots","$$events","$$legacy","value","variants","fieldname","required","readonly","disabled","reactOn","valid","class","onchange"]),h=Je((()=>!u()));const g={};if("function"==typeof t.onchange){const e=Pr.onInput(r(),(function(e,t){const i=t.target.id.split("-variant-").at(-1);t.target.checked?function(e){n().includes(e)||(n().push(e),n(n()))}(i):function(e){n().includes(e)&&(n().splice(n().indexOf(e),1),n(n()))}(i);let o={field:r(),value:z(n())};return d()(o),!0}));l().forEach((t=>g[t]=e))}var v=Gn(),p=He(v),m=e=>{var t=Gn(),r=He(t),o=e=>{var t=Hn();lt((e=>Qn(t,e)),[()=>i().filter((e=>n().includes(e.id))).map((e=>e.title)).join(", ")]),Kn(e,t)};ii(r,(e=>{n()&&e(o)})),Kn(e,t)},y=e=>{var t=Gn();ai(He(t),17,i,(e=>e.id),((e,t)=>{var i=Ya(),l=qe(i);let u;ki(l),Fs(Ge(l,2),{class:"label",get for(){return`form-field-switch-${r()??""}-variant-${yn(t).id??""}`},get label(){return yn(t).title}}),Te(i),lt((e=>u=Oi(l,u,{type:"checkbox",class:`switch ${c()??""} ${(yn(t).type?`is-${yn(t).type}`:"")??""}`,id:`form-field-switch-${r()??""}-variant-${yn(t).id??""}`,checked:e,name:r(),disabled:a(),required:o(),readonly:s(),invalid:yn(h),"aria-controls":`input-field-helper-${r()??""}-variant-${yn(t).id??""}`,"aria-describedby":`input-field-helper-${r()??""}-variant-${yn(t).id??""}`,...g,...f})),[()=>n().includes(yn(t).id)]),Kn(e,i)})),Kn(e,t)};ii(p,(e=>{s()?e(m):e(y,!1)})),Kn(e,v),de()},UITagSelect:function(e,t){ce(t,!0);const[n,i]=ir();fr((()=>{s(s().filter(p)),s()}));let r=dr(t,"LC_ADD",3,"not-node:add_label"),o=dr(t,"LC_SELECT_FROM_LIST",3,"not-node:select_from_list_label"),s=dr(t,"value",31,(()=>Fe([]))),a=dr(t,"variants",19,(()=>[])),l=dr(t,"fieldname",3,"tag"),u=dr(t,"readonly",3,!1);dr(t,"valid",3,!0);let c=dr(t,"beforeAdd",3,(()=>!0)),d=dr(t,"getItemId",3,(e=>e.id)),f=dr(t,"getItemTitle",3,(e=>e.title)),h=dr(t,"getItemType",3,(e=>e?.type??"info")),g=dr(t,"buildItem",3,(e=>({id:d()(e),title:f()(e),type:h()(e)}))),v=dr(t,"class",3,"");function p(e){return a().find((t=>d()(t)==e))}function m(){t.onchange({field:l(),value:s()})}function y(e){e&&e.preventDefault();let t=e.currentTarget.parentNode.querySelector("select").value;const n=p(t);return!!n&&(!!c()(n,a())&&(t&&-1===s().indexOf(t)&&(s().push(t),s(s()),m()),!1))}let b=Je((()=>s().map(p).filter((e=>e)).map(g())));Ia(e,{get class(){return v()},children:(e,t)=>{var i=tl(),l=He(i);ka(l,{children:(e,t)=>{var i=Gn();ai(He(i),17,(()=>yn(b)),(e=>e.id),((e,t)=>{var i=Xa(),r=qe(i),o=Ge(r),a=e=>{var n=Za();n.__click=[Qa,s,m],lt((()=>Ii(n,"data-id",yn(t).id))),Kn(e,n)};ii(o,(e=>{u()||e(a)})),Te(i),lt((()=>{Ci(i,`mx-1 tag is-${yn(t).type??""}`),Qn(r,`${nr(Gr,"$LOCALE",n)[yn(t).title]??""} `)})),Kn(e,i)})),Kn(e,i)},$$slots:{default:!0}});var c=Ge(l,2),d=e=>{ka(e,{children:(e,t)=>{var n=el(),i=He(n),s=qe(i),l=qe(s);Fo(l,{value:-1,selected:!0,get title(){return o()}}),ai(Ge(l),17,a,si,((e,t)=>{Fo(e,{get value(){return yn(t).id},get title(){return yn(t).title}})})),Te(s),Te(i),qo(Ge(i,2),{color:"primary",size:"small",action:y,get title(){return r()}}),Kn(e,n)},$$slots:{default:!0}})};ii(c,(e=>{u()||e(d)})),Kn(e,i)},$$slots:{default:!0}}),de(),i()},UITelephone:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"value",15,""),o=dr(t,"placeholder",3,"+7 987 654-32-10"),s=dr(t,"pattern",3,"\\+[0-9]{1,3}\\s+[0-9]{3}\\s+[0-9]{3}-[0-9]{2}-[0-9]{2}"),a=dr(t,"fieldname",3,"telephone"),l=dr(t,"required",3,!0),u=dr(t,"disabled",3,!1),c=dr(t,"readonly",3,!1),d=dr(t,"valid",3,!0),f=dr(t,"class",3,""),h=sr(t,["$$slots","$$events","$$legacy","value","placeholder","pattern","fieldname","required","disabled","readonly","color","size","valid","class"]),g=Je((()=>!d()));const v={};if("function"==typeof t.onchange){const e=Pr.onInput(a(),t.onchange);v.onchange=e,v.oninput=e}var p=Gn(),m=He(p),y=e=>{var t=nl(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()))),Kn(e,t)},b=e=>{var i=il();let d;ki(i),lt((()=>d=Oi(i,d,{id:`form-field-telephone-${a()??""}`,class:`input ${(t.size?`is-${t.size}`:"")??""} ${(t.color?`is-${t.color}`:"")??""} ${f()??""}`,type:"tel",name:a(),pattern:s(),invalid:yn(g),required:l(),readonly:c(),disabled:u(),placeholder:nr(Gr,"$LOCALE",n)[o()],autocomplete:a(),"aria-controls":`input-field-helper-${a()??""}`,"aria-describedby":`input-field-helper-${a()??""}`,...v,...h}))),Mi(i,r),Kn(e,i)};ii(m,(e=>{c()?e(y):e(b,!1)})),Kn(e,p),de(),i()},UITextarea:Hs,UITextfield:Ls});var ol=qn("<span> </span> ",1),sl=qn("<p><!></p>");function al(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"errors",19,(()=>[])),o=dr(t,"show",3,!1),s=dr(t,"class",3,""),a=dr(t,"id",3,"errors-list");var l=Gn(),u=He(l),c=e=>{var t=sl(),i=qe(t),l=e=>{var t=Gn();ai(He(t),17,r,si,((e,t,i)=>{var o=ol(),s=He(o),a=qe(s,!0);Te(s);var l=Ge(s,1,!0);lt((()=>{Qn(a,nr(Gr,"$LOCALE",n)[yn(t)]),Qn(l,i<r().length-1?", ":"")})),Kn(e,o)})),Kn(e,t)},u=e=>{Kn(e,Hn(" "))};ii(i,(e=>{o()?e(l):e(u,!1)})),Te(t),lt((()=>{Ci(t,`help ${s()??""}`),Ii(t,"id",a())})),Kn(e,t)};ii(u,(e=>{Array.isArray(r())&&r().length&&e(c)})),Kn(e,l),de(),i()}var ll=qn("<p><strong> </strong> <small>@</small> <strong> </strong></p>"),ul=qn('<article class="media"><figure class="media-left"><p class="image is-32x32"><img></p></figure> <div class="media-content"><!></div></article>');var cl=qn("<span><span><i></i> <span> </span></span></span>"),dl=qn("<span><i></i></span>");function fl(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"title",3,""),o=dr(t,"font",3,""),s=dr(t,"side",3,""),a=dr(t,"size",3,""),l=dr(t,"pointable",3,!1);var u=Gn(),c=He(u),d=e=>{var t=cl(),i=qe(t),s=qe(i),u=Ge(s,2),c=qe(u,!0);Te(u),Te(i),Te(t),lt((()=>{Ci(t,`icon-text ${(l()?"is-clickable":"")??""}`),Ci(i,`icon ${(a()?`is-${a()}`:"")??""}`),Ci(s,`is-title-icon fas\n      fa-${o()??""}\n      ${("medium"==a()?"fa-lg":"")??""}\n      ${("large"==a()?"fa-2x":"")??""}\n      `),Qn(c,nr(Gr,"$LOCALE",n)[r()])})),Kn(e,t)},f=e=>{var t=dl(),n=qe(t);Te(t),lt((()=>{Ci(t,`\n        ${(l()?"is-clickable":"")??""}\n        ${(s()?`is-${s()}`:"")??""}\n        icon ${(a()?`is-${a()}`:"")??""} ${("medium"==a()?"fa-lg":"")??""}\n${("large"==a()?"fa-2x":"")??""}`),Ci(n,`fas fa-${o()??""}`)})),Kn(e,t)};ii(c,(e=>{r()?e(d):e(f,!1)})),Kn(e,u),de(),i()}var hl=qn("<!> <!>",1);function gl(e,t){let n=dr(t,"placeholder",3,"not-node:field_search_placeholder"),i=dr(t,"term",15,""),r=dr(t,"fieldname",3,"searchTermInput"),o=dr(t,"icon",3,"search"),s=dr(t,"iconSide",3,"left"),a=dr(t,"size",3,"normal"),l=dr(t,"required",3,!1),u=sr(t,["$$slots","$$events","$$legacy","placeholder","term","fieldname","icon","iconSide","size","required"]),c=Je((()=>o()&&"left"===s())),d=Je((()=>o()&&"right"===s()));Ia(e,{role:"none",children:(e,t)=>{ka(e,{role:"none",children:(e,t)=>{rs(e,{children:(e,t)=>{ss(e,{get hasIconsLeft(){return yn(c)},get hasIconsRight(){return yn(d)},children:(e,t)=>{var c=hl(),d=He(c);Ls(d,cr({get placeholder(){return n()},get fieldname(){return r()},get required(){return l()},get size(){return a()},role:"searchbox"},(()=>u),{get value(){return i()},set value(e){i(e)}}));var f=Ge(d,2),h=e=>{fl(e,{get font(){return o()},get side(){return s()}})};ii(f,(e=>{o()&&e(h)})),Kn(e,c)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}var vl=Object.freeze({__proto__:null,UIBoolean:ko,UIBooleanLabeled:function(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"inverted",3,!1);var o=$o(),s=qe(o);ko(Ge(s),{get value(){return t.value},get inverted(){return r()}}),Te(o),lt((()=>Qn(s,`${nr(Gr,"$LOCALE",n)[t.label]??""}: `))),Kn(e,o),de(),i()},UIBooleans:Io,UICensored:function(e,t){ce(t,!0);let n=dr(t,"hidden",15,!0),i=dr(t,"showable",3,!0),r=dr(t,"copiable",3,!0),o=dr(t,"copyIcon",3,"copy"),s=dr(t,"showIcon",3,"eye"),a=dr(t,"hideIcon",3,"eye-slash"),l=dr(t,"maxLength",3,20),u=dr(t,"shadowClass",3,"has-background-primary-90"),c=dr(t,"tooltip",3,!0),d=dr(t,"tooltipTTL",3,2e3),f=dr(t,"tooltipText",3,"Скопировано в буфер"),h=dr(t,"tooltipClass",3,"has-tooltip-info"),g=dr(t,"value",3,""),v=me(!1),p=Je((()=>c()&&yn(v))),m=me(void 0);var y=So(),b=He(y),k=qe(b,!0);Te(b);var $=Ge(b,2),I=e=>{var n=_o();n.__click=[wo,g,c,v,m,f,d,t],n.__keydown=[wo,g,c,v,m,f,d,t];var i=qe(n);Te(n),Hi(n,(e=>Ie(m,e)),(()=>yn(m))),lt((()=>{Ci(n,"icon is-small is-right is-clickable "+(yn(p)?` ${h()} `:"")+" is-vertical-middle"),Ci(i,`fas fa-${o()??""}`)})),Kn(e,n)};ii($,(e=>{r()&&e(I)}));var O=Ge($,2),w=e=>{var t=Ao();t.__click=[Oo,n],t.__keydown=[Oo,n];var i=qe(t);Te(t),lt((()=>Ci(i,`fas fa-${(n()?s():a())??""}`))),Kn(e,t)};ii(O,(e=>{i()&&e(w)})),lt((()=>{Ci(b,(n()?"is-censored "+u():"")+" is-vertical-middle "),Ii(b,"style",`display:inline-block; width: ${l()}rem; height: var(--bulma-size-medium); overflow-x:hidden;`),Qn(k,n()?"":g())})),Kn(e,y),de()},UIErrorsList:al,UIIndicator:Eo,UILoader:xo,UIProgress:function(e,t){let n=dr(t,"max",3,100),i=dr(t,"color",3,""),r=dr(t,"size",3,""),o=dr(t,"class",3,"");var s=ls(),a=qe(s);Te(s),lt((()=>{Ci(s,`\n  progress\n  ${o()??""}\n  ${(i()?`is-${i()}`:"")??""}\n  ${(r()?`is-${r()}`:"")??""}`),function(e,t){var n=e.__attributes??={};n.value!==(n.value=t??void 0)&&(e.value!==t||0===t&&"PROGRESS"===e.nodeName)&&(e.value=t??"")}(s,t.value),Ii(s,"max",n()),Qn(a,`${t.value??""}%`)})),Kn(e,s)},UISelectFromModelOnDemandInline:function(e,t){ce(t,!0);let n,i=dr(t,"variants",31,(()=>Fe([]))),r=dr(t,"loaded",7,!1),o=dr(t,"placeholder",3,"empty select item"),s=dr(t,"fieldname",3,"selectFromModel"),a=dr(t,"modelName",3,""),l=dr(t,"actionName",3,""),u=dr(t,"actionFilter",19,(()=>({}))),c=dr(t,"actionSorter",19,(()=>({}))),d=dr(t,"actionPager",19,(()=>({}))),f=dr(t,"actionSearch",3,void 0),h=dr(t,"apiModelGetter",3,((e,t,n,i,r)=>ho.getApp().getModel(e).setFilter(t).setSorter(n).setPager(i).setSearch(r))),g=dr(t,"apiRequest",3,((e,t)=>e["$"+t]())),v=dr(t,"optionId",3,":_id"),p=dr(t,"optionTitle",3,":title"),m=dr(t,"required",3,!0),y=dr(t,"readonly",3,!1),b=dr(t,"valid",3,!0),k=dr(t,"onreject",3,(()=>!1)),$=dr(t,"onresolve",3,(()=>!0)),I=dr(t,"onerror",3,(()=>!0)),O=Je((()=>!r())),w=me("hidden"),_=[];function A({value:e}){n=_.length>i().length?_.find((t=>so.get(v(),t)==e)):i().find((t=>t.id==e))}fr((async()=>{if(a()&&l()&&u()){const e=await g()(h()(a(),u(),c(),d(),f()),l());ho.isError(e)?(r(!1),I()(e.errors||[e.message])):(_=e.result,i(_.map((e=>({id:so.get(v(),e),title:so.get(p(),e)})))),r(!0))}}));const S={add:{color:"primary",icon:"plus",action(){Ie(w,"show")}},resolve:{icon:"check",color:"primary",action(){Ie(w,"hidden"),$()({field:s(),value:n})}},reject:{icon:"xmark",color:"danger",action(){Ie(w,"hidden"),k()()}}};var C=Gn(),E=He(C),L=e=>{qo(e,cr((()=>S.add)))},T=e=>{var n=Gn(),r=He(n),a=e=>{rs(e,{addons:!0,children:(e,n)=>{var r=as(),a=He(r);ss(a,{children:(e,n)=>{Mo(e,{get value(){return t.value},get variants(){return i()},get placeholder(){return o()},get fieldname(){return s()},get required(){return m()},get readonly(){return y()},get disabled(){return yn(O)},get size(){return t.size},get valid(){return b()},onchange:A})},$$slots:{default:!0}}),ss(Ge(a,2),{children:(e,t)=>{const n=Je((()=>[S.resolve,S.reject]));Yo(e,{get values(){return yn(n)}})},$$slots:{default:!0}}),Kn(e,r)},$$slots:{default:!0}})};ii(r,(e=>{"show"==yn(w)&&e(a)}),!0),Kn(e,n)};ii(E,(e=>{"hidden"===yn(w)?e(L):e(T,!1)})),Kn(e,C),de()},UISelectFromModelWithSearchModal:function(e,t){ce(t,!0);let n=dr(t,"value",15),i=dr(t,"icon",3,"search"),r=dr(t,"fieldname",3,""),o=dr(t,"readonly",3,!1),s=dr(t,"serviceName",3,""),a=dr(t,"serviceOpenSelectorMethod",3,"openSelector"),l=dr(t,"serviceLoadDataMethod",3,"loadData"),u=dr(t,"modelData",15,null),c=dr(t,"loading",15,!1),d=dr(t,"selectedModelTitleFormatter",3,(e=>`${e._id}`)),f=dr(t,"serviceGetter",3,(e=>{if(!e)throw new Error("serviceName is not set");return ho.getApp().getService(e)})),h=dr(t,"loadingLabel",3,"not-node:loading_label"),g=dr(t,"isEmptyLabel",3,"not-node:field_value_is_empty_placeholder"),v=dr(t,"onchange",3,(()=>!0)),p=dr(t,"openSelectorButtonProps",19,(()=>({}))),m=dr(t,"resetButtonProps",19,(()=>({}))),y=dr(t,"emptyButtonProps",19,(()=>({}))),b=dr(t,"valueButtonProps",19,(()=>({})));function k(){if(!a())throw new Error("serviceOpenSelectorMethod is not set");f()(s())[a()]().then((e=>(n(e._id),u(e),n()))).then((e=>{v()({field:r(),value:e,data:u()})})).catch((e=>{ho.report(e)}))}fr((()=>{!async function(){try{!u()&&n()&&(c(!0),u(await getService()[l()](n())))}catch(e){ho.report(e)}finally{c(!1)}}()}));const $=[{id:1,action:k,icon:i(),color:"warning",...p()},{id:2,action:function(){n(void 0),u(null),v()({field:r(),value:n()})},icon:"times",color:"danger",...m()}];function I(){return c()?{disabled:!0,loading:c(),title:h()}:u()?{disabled:o(),action:k,title:d()(u()),...b()}:{disabled:!0,title:g(),...y()}}let O=me(Fe([]));rt((()=>{n()?Ie(O,Fe([I(),...o()?[]:$])):Ie(O,Fe([I(),...o()?[]:[$[0]]]))})),ss(e,{children:(e,t)=>{Yo(e,{get values(){return yn(O)},class:"is-no-flex-wrap"})},$$slots:{default:!0}}),de()},UIShowOneFromList:function(e,t){ce(t,!0);const n=e=>e[o()]===t.id;let i=dr(t,"values",19,(()=>[])),r=dr(t,"active",31,(()=>Fe({}))),o=dr(t,"idFieldName",3,"_id"),s=dr(t,"filter",3,n);rt((()=>{r(Array.isArray(i())&&i().length&&void 0!==t.id?i().find(s()||n):void 0)}));var a=Gn(),l=He(a),u=e=>{var n=Gn(),i=He(n),o=e=>{var n=Gn();vi(He(n),(()=>t.component),r),Kn(e,n)},s=e=>{var n=Gn(),i=He(n),o=e=>{var n=Gn();pi(He(n),(()=>t.UIComponent),((e,t)=>{t(e,cr(r))})),Kn(e,n)};ii(i,(e=>{t.UIComponent&&e(o)}),!0),Kn(e,n)};ii(i,(e=>{t.component?e(o):e(s,!1)})),Kn(e,n)},c=e=>{var n=Gn(),i=He(n),r=e=>{var n=Gn(),i=He(n),r=e=>{var n=Gn();vi(He(n),(()=>t.placeholder),(()=>t.placeholderProps)),Kn(e,n)},o=e=>{var n=Gn(),i=He(n),r=e=>{var n=Gn();pi(He(n),(()=>t.UIPlaceholder),((e,n)=>{n(e,cr((()=>t.placeholderProps)))})),Kn(e,n)};ii(i,(e=>{t.UIPlaceholder&&e(r)}),!0),Kn(e,n)};ii(i,(e=>{t.placeholder?e(r):e(o,!1)})),Kn(e,n)};ii(i,(e=>{t.UIPlaceholder&&e(r)}),!0),Kn(e,n)};ii(l,(e=>{r()?e(u):e(c,!1)})),Kn(e,a),de()},UISimpleSearchInput:gl,UITag:bo,UITagValue:cs,UITagValueList:function(e,t){ce(t,!0);let n=dr(t,"values",19,(()=>[])),i=dr(t,"grouped",3,!0),r=dr(t,"multiline",3,!0);var o=Gn(),s=He(o),a=e=>{rs(e,{get grouped(){return i()},get multiline(){return r()},children:(e,t)=>{var i=Gn();ai(He(i),17,n,si,((e,t)=>{ss(e,{children:(e,n)=>{cs(e,cr((()=>yn(t))))},$$slots:{default:!0}})})),Kn(e,i)},$$slots:{default:!0}})};ii(s,(e=>{n().length&&e(a)})),Kn(e,o),de()},UITitle:Xs,UIUserCard:function(e,t){ce(t,!0);let n=dr(t,"id",3,"userCard"),i=dr(t,"image",3,"https://bulma.io/images/placeholders/32x32.png"),r=dr(t,"username",7,"John Doe"),o=dr(t,"role",7,"admin"),s=dr(t,"events",23,(()=>({}))),a=dr(t,"register",19,(()=>ho.registerWidgetEvents.bind(ho))),l=dr(t,"onUpdate",3,(e=>{Object.hasOwn(e,"username")&&r(e.username),Object.hasOwn(e,"role")&&o(e.role)}));function u(){return`usercard-${n()}`}function c(){return`${u()}:update`}fr((()=>{Object.hasOwn(s(),c())||(s()[c()]=l()),a()(s())}));var d=ul(),f=qe(d),h=qe(f),g=qe(h);Te(h),Te(f);var v=Ge(f,2);return zr(qe(v),{children:(e,t)=>{var n=ll(),i=qe(n),s=qe(i,!0);Te(i);var a=Ge(i,4),l=qe(a,!0);Te(a),Te(n),lt((()=>{Qn(s,r()),Qn(l,o())})),Kn(e,n)},$$slots:{default:!0}}),Te(v),Te(d),lt((e=>{Ii(d,"id",e),Ii(g,"src",i()),Ii(g,"alt",r())}),[u]),Kn(e,d),de({getCompId:u,getStandartUpdateEventName:c})}});function pl(e,t){ce(t,!0);let n=dr(t,"id",3,"generic-field"),i=dr(t,"class",3,""),r=me(Fe([])),o=me(!0);rt((()=>{Ie(r,Fe([...Array.isArray(t.errors)?t.errors:[],...Array.isArray(t.formErrors)?t.formErrors:[]])),Ie(o,Fe(t.inputStarted&&t.validated&&!t.valid))})),al(e,{get show(){return yn(o)},get errors(){return yn(r)},get class(){return i()},get id(){return n()}}),de()}var ml=qn('<span class="is-tag-container"><!> <!></span>');var yl=qn("<div><!></div>");var bl=qn('<span class="icon"><!></span>'),kl=qn("<figure><img></figure>");function $l(e,t){let n=dr(t,"title",3,""),i=dr(t,"size",3,""),r=dr(t,"font",3,""),o=dr(t,"svg",3,""),s=dr(t,"src",3,"");var a=Gn(),l=He(a),u=e=>{fl(e,{get font(){return r()},get size(){return i()},get title(){return n()}})},c=e=>{var i=Gn(),r=He(i),a=e=>{var t=bl();hi(qe(t),o),Te(t),Kn(e,t)},l=e=>{var i=Gn(),r=He(i),o=e=>{var i=kl(),r=qe(i);Te(i),lt((()=>{Ci(i,`image ${(t.width&&t.height?`is-${t.width}x${t.height}`:"")??""} `),Ii(r,"src",s()),Ii(r,"title",n()),Ii(r,"alt",n()),Ii(r,"width",t.width),Ii(r,"height",t.height)})),Kn(e,i)};ii(r,(e=>{s()&&e(o)}),!0),Kn(e,i)};ii(r,(e=>{o()?e(a):e(l,!1)}),!0),Kn(e,i)};ii(l,(e=>{r()?e(u):e(c,!1)})),Kn(e,a)}var Il=Object.freeze({__proto__:null,UIIcon:$l,UIIconButtonWithTag:function(e,t){ce(t,!0);let n=dr(t,"button",19,(()=>({}))),i=dr(t,"tag",19,(()=>({}))),r=me(Fe({})),o={left:!!t.left,right:!!t.right,top:!!t.top,bottom:!!t.bottom};fr((()=>{t.left&&(yn(r)["--siding-left-size"]=t.left),t.right&&(yn(r)["--siding-right-size"]=t.right),t.top&&(yn(r)["--siding-top-size"]=t.top),t.bottom&&(yn(r)["--siding-bottom-size"]=t.bottom),Ie(r,Fe(yn(r)))}));var s=ml(),a=qe(s);qo(a,cr(n)),bo(Ge(a,2),cr(i,{get vars(){return yn(r)}},o)),Te(s),Kn(e,s),de()},UIIconFloating:function(e,t){ce(t,!0);let n=dr(t,"trigger",19,(()=>({title:"Click me!",icon:"plus",color:"primary",size:"medium",onclick:()=>!0}))),i=dr(t,"top",3,"2em"),r=dr(t,"left",3,"2em"),o=dr(t,"class",3,""),s=me("");fr((()=>{Ie(s,""),i()&&Ie(s,yn(s)+`top: ${i()};`),r()&&Ie(s,yn(s)+`left: ${r()};`),t.right&&Ie(s,yn(s)+`right: ${t.right};`),t.bottom&&Ie(s,yn(s)+`bottom: ${t.bottom};`)}));var a=yl();qo(qe(a),cr(n)),Te(a),lt((()=>{Ci(a,`is-absolute ${o()??""}`),Ii(a,"style",yn(s))})),Kn(e,a),de()},UIIconFont:fl});function Ol(e,t){let n=dr(t,"side",3,"right"),i=dr(t,"size",3,"small");var r=Gn(),o=He(r),s=e=>{const r=Je((()=>t.valid?"check":"exclamation-triangle"));fl(e,{get font(){return yn(r)},get side(){return n()},get size(){return i()}})};ii(o,(e=>{!0===t.validated&&e(s)})),Kn(e,r)}var wl=qn("<!> <!> <!>",1);function _l(e,t){let n=dr(t,"value",15,"");dr(t,"fieldnamePrefix",3,"form-field-");let i=dr(t,"valid",3,!0),r=dr(t,"validated",3,!1),o=sr(t,["$$slots","$$events","$$legacy","value","readonly","UIInput","label","fieldtype","fieldname","fieldnamePrefix","icon","valid","validated"]);var s=wl(),a=He(s);pi(a,(()=>t.UIInput),((e,r)=>{r(e,cr({get fieldtype(){return t.fieldtype},get fieldname(){return t.fieldname},get valid(){return i()},get readonly(){return t.readonly}},(()=>o),{get value(){return n()},set value(e){n(e)}}))}));var l=Ge(a,2),u=e=>{fl(e,{get font(){return t.icon},side:iconSide,size:iconSize})};ii(l,(e=>{t.icon&&e(u)}));var c=Ge(l,2),d=e=>{Ol(e,{get validated(){return r()},get valid(){return i()}})};ii(c,(e=>{t.readonly||e(d)})),Kn(e,s)}var Al=qn("<!> <!>",1),Sl=qn(" <!>",1),Cl=qn("<!> <!>",1);var El=Object.freeze({__proto__:null,UIFormControl:function(e,t){const n=e=>{ss(e,{get class(){return yn($)},children:(e,n)=>{_l(e,cr({get UIInput(){return t.UIInput},get placeholder(){return s()},get fieldtype(){return t.fieldtype},get fieldname(){return t.fieldname},get fieldnamePrefix(){return a()},get icon(){return l()},get iconSide(){return u()},get iconSize(){return c()},get required(){return d()},get readonly(){return f()},get disabled(){return h()},get inputStarted(){return r()},get validated(){return v()},get valid(){return g()},get onchange(){return p()},get onerror(){return m()}},(()=>k),{get value(){return i()},set value(e){i(e)}}))},$$slots:{default:!0}})};let i=dr(t,"value",15,""),r=dr(t,"inputStarted",3,!1),o=dr(t,"labelVertical",3,!0),s=dr(t,"placeholder",3,""),a=dr(t,"fieldnamePrefix",3,"form-field-"),l=dr(t,"icon",3,""),u=dr(t,"iconSide",3,"left"),c=dr(t,"iconSize",3,"small"),d=dr(t,"required",3,!1),f=dr(t,"readonly",3,!1),h=dr(t,"disabled",3,!1),g=dr(t,"valid",3,!0),v=dr(t,"validated",3,!1),p=dr(t,"onchange",3,(()=>!0)),m=dr(t,"onerror",3,(()=>!0)),y=dr(t,"formErrors",19,(()=>[])),b=dr(t,"errors",19,(()=>[])),k=sr(t,["$$slots","$$events","$$legacy","value","UIInput","inputStarted","label","labelVertical","placeholder","fieldtype","fieldname","fieldnamePrefix","icon","iconSide","iconSize","required","readonly","disabled","valid","validated","onchange","onerror","formErrors","errors"]),$=Je((()=>(l()?" has-icons-left ":"")+" has-icons-right "));var I=Cl(),O=He(I),w=e=>{var i=Gn(),r=He(i),s=e=>{var i=Al(),r=He(i);Fs(r,{get class(){return t.fieldtype},get for(){return`${a()??""}${t.fieldtype??""}-${t.fieldname??""}`},get label(){return t.label}});var o=Ge(r,2);n(o),Kn(e,i)},l=e=>{Fs(e,{get class(){return t.fieldtype},get for(){return`${a()??""}${t.fieldtype??""}-${t.fieldname??""}`},children:(e,i)=>{xe();var r=Sl(),o=He(r),s=Ge(o);n(s),lt((()=>Qn(o,`${t.label??""}: `))),Kn(e,r)},$$slots:{default:!0}})};ii(r,(e=>{o()?e(s):e(l,!1)})),Kn(e,i)},_=e=>{n(e)};ii(O,(e=>{t.label?e(w):e(_,!1)})),pl(Ge(O,2),{get inputStarted(){return r()},get validated(){return v()},get valid(){return g()},get errors(){return b()},get formErrors(){return y()},get id(){return`input-field-helper-${t.fieldname??""}`}}),Kn(e,I)},UIFormInput:_l,UIFormInputErrors:pl,UIFormInputValidatedIcon:Ol});function Ll(e,t){let n=dr(t,"values",19,(()=>[])),i=sr(t,["$$slots","$$events","$$legacy","values"]);var r=Gn();ai(He(r),17,n,(e=>e.url),((e,t)=>{Ma(e,cr((()=>yn(t)),(()=>i)))})),Kn(e,r)}var Tl=Object.freeze({__proto__:null,UIImage:Ma,UIImages:Ll}),xl=Object.freeze({__proto__:null,UILink:sa,UILinks:ua});function Nl(e,t){let n=dr(t,"page",7,0),i=dr(t,"pages",3,0),r=dr(t,"buttonsRowComponent",3,Zo),o=dr(t,"buttonsRowComponentProps",19,(()=>({}))),s=dr(t,"buttonPrevProps",19,(()=>({title:"not-node:list_navigation_prev_button_label"}))),a=dr(t,"buttonProgressProps",19,(()=>({}))),l=dr(t,"buttonNextProps",19,(()=>({title:"not-node:list_navigation_next_button_label"}))),u=dr(t,"onprev",3,(()=>{n()>0&&rr(n,-1)})),c=dr(t,"onnext",3,(()=>{n()<i()-1&&rr(n)})),d=dr(t,"progressTitleStart",3,""),f=dr(t,"progressTitleDelimiter",3," / "),h=dr(t,"progressTitleEnd",3,""),g=Je((()=>n()+1));var v=Gn(),p=He(v),m=e=>{var t=Gn(),n=He(t);const v=Je((()=>yn(g)>1?[{...s(),action:u()}]:[])),p=Je((()=>i()>1?[{...a(),title:`${d()}${yn(g)}${f()}${i()}${h()}`,disabled:!0}]:[])),m=Je((()=>yn(g)<i()?[{...l(),action:c()}]:[]));pi(n,r,((e,t)=>{t(e,cr(o,{get left(){return yn(v)},get center(){return yn(p)},get right(){return yn(m)}}))})),Kn(e,t)};ii(p,(e=>{i()>0&&e(m)})),Kn(e,v)}var Fl=qn("<span> </span>");function Ul(e,t){function n(e){return e.preventDefault(),t.onclick({_id:t._id,id:t.id,title:t.title}),!1}ce(t,!0),jr(e,{onclick:n,onkeyup:n,class:"list-item-selectable",children:(e,n)=>{var i=Fl(),r=qe(i,!0);Te(i),lt((()=>Qn(r,t.title))),Kn(e,i)},$$slots:{default:!0}}),de()}var Pl=qn("<!> <!>",1);function Dl(e,t){ce(t,!0);let n=dr(t,"class",3,""),i=dr(t,"data",31,(()=>Fe({list:[],skip:0,count:0,page:0,pages:0}))),r=dr(t,"itemComponent",3,Ul),o=dr(t,"itemComponentProps",19,(()=>({}))),s=dr(t,"emptyListPlaceholderComponent",3,ea),a=dr(t,"emptyListPlaceholderComponentProps",19,(()=>({}))),l=dr(t,"listNavigationComponent",3,Nl),u=dr(t,"listNavigationComponentProps",19,(()=>({})));var c=Pl(),d=He(c);Mr(d,{get class(){return n()},children:(e,n)=>{var l=Gn(),u=He(l),c=e=>{var n=Gn();ai(He(n),19,(()=>i().list),(e=>e.id),((e,n,i)=>{var s=Gn(),a=He(s),l=e=>{var r=Gn();vi(He(r),(()=>t.itemRenderer),(()=>yn(n)),(()=>yn(i))),Kn(e,r)},u=e=>{var i=Gn();pi(He(i),r,((e,i)=>{i(e,cr({get onclick(){return t.onselect}},o,(()=>yn(n))))})),Kn(e,i)};ii(a,(e=>{t.itemRenderer?e(l):e(u,!1)})),Kn(e,s)})),Kn(e,n)},d=e=>{var t=Gn();pi(He(t),s,((e,t)=>{t(e,cr(a))})),Kn(e,t)};ii(u,(e=>{i()?.list?.length?e(c):e(d,!1)})),Kn(e,l)},$$slots:{default:!0}}),pi(Ge(d,2),l,((e,n)=>{n(e,cr(u,{get onprev(){return t.onprev},get onnext(){return t.onnext},get page(){return i().page},set page(e){i(i().page=e,!0)},get pages(){return i().pages},set pages(e){i(i().pages=e,!0)},get skip(){return i().skip},set skip(e){i(i().skip=e,!0)},get count(){return i().count},set count(e){i(i().count=e,!0)}}))})),Kn(e,c),de()}let Ml=function(){return Sr((function e(){$r(this,e)}),null,[{key:"convertGroupTitle",value:function({title:e}){return e}},{key:"convertGroupImage",value:function({image:e}){return e}},{key:"convertVariant",value:function(e,t){return{id:e.id,title:e.title,value:{valueId:e.id,groupId:t}}}},{key:"convertVariantsGroup",value:function(e){var t=this;return{id:e.id,title:this.convertGroupTitle(e),image:this.convertGroupImage(e),description:{values:e.variants.map((function(n){return t.convertVariant(n,e.id)}))}}}},{key:"buildSelectorItemsFromVariants",value:function(e){var t=this;return e.map((function(e){return t.convertVariantsGroup(e)}))}},{key:"sublimeValue",value:function(e){return{groupId:e.group||e.groupId,valueId:e.id||e.valueId}}},{key:"getSelectorGroupIndex",value:function(e,t){const n=e.findIndex((function(e){return e.id===t}));return n>-1?n:void 0}},{key:"getSelectorGroup",value:function(e,t){return e[t]}},{key:"selectorGroupHasVariants",value:function(e){return e&&e.description&&Array.isArray(e.description.values)}},{key:"getSelectorGroupVariants",value:function(e){return e.description.values}},{key:"compareSelectorGroupValueIdWith",value:function(e){return function(t){return t?.value?.valueId===e}}},{key:"getSelectorItemIndex",value:function(e,t,n){const i=this.getSelectorGroup(e,t);if(!this.selectorGroupHasVariants(i))return;const r=this.getSelectorGroupVariants(i).findIndex(this.compareSelectorGroupValueIdWith(n));return r>-1?r:void 0}},{key:"getSelectorItemIndexes",value:function(e,t,n){const i=this.getSelectorGroupIndex(e,t);if(-1===i||void 0===i)return;const r=this.getSelectorItemIndex(e,i,n);return-1!==r&&void 0!==r?{groupIndex:i,itemIndex:r}:void 0}},{key:"getSelectorItem",value:function(e,t){const n=this.getSelectorItemIndexes(e,t.groupId,t.valueId);if(n){const t=this.getSelectorGroup(e,n.groupIndex);if(!this.selectorGroupHasVariants(t))return;return this.getSelectorGroupVariants(t)[n.itemIndex]}}},{key:"getDefaultSelectorItemSublime",value:function(e){if(e&&e.length&&this.selectorGroupHasVariants(e[0])){const t=e[0].id,n=e[0].description.values[0]?.value?.valueId;if(Pr.stringsOfNumbers([t,n]))return{groupId:t,valueId:n}}}},{key:"updateSelectorItem",value:function(e,t,n,i){const r=this.getSelectorItemIndexes(e,t.groupId,t.valueId);void 0!==r&&(Object.keys(n).forEach((function(t){e[r.groupIndex].description.values[r.itemIndex][t]=n[t]})),Array.isArray(e[r.groupIndex].description.values[r.itemIndex].actions)&&e[r.groupIndex].description.values[r.itemIndex].actions.length&&Object.keys(uiProps).forEach((function(t){e[r.groupIndex].description.values[r.itemIndex][0][t]=i[t]})))}},{key:"uiOn",value:function(e,t){this.updateSelectorItem(e,t,{...this.UI_PROPS_DELTA_ON},{...this.UI_PROPS_DELTA_ON_ACTION})}},{key:"uiOff",value:function(e,t){this.updateSelectorItem(e,t,{...this.UI_PROPS_DELTA_OFF},{...this.UI_PROPS_DELTA_OFF_ACTION})}},{key:"syncUIWithValue",value:function(e,t){for(const n of e){const i=this.getSelectorGroupVariants(n);for(const r of i){const i={groupId:n.id,valueId:r.id};t(i)?this.uiOn(e,i):this.uiOff(e,i)}}return e}}])}();Cr(Ml,"UI_PROPS_DELTA_ON",{class:"has-background-success"}),Cr(Ml,"UI_PROPS_DELTA_OFF",{class:""}),Cr(Ml,"UI_PROPS_DELTA_ON_ACTION",{title:"not-node:booleans_true",color:"success"}),Cr(Ml,"UI_PROPS_DELTA_OFF_ACTION",{title:"not-node:booleans_false",color:"danger"});let Rl=function(){return Sr((function e(){$r(this,e)}),null,[{key:"countItemsInValue",value:function(e){return e?Object.values(e).reduce((function(e,t){return e+t.length}),0):0}},{key:"initValue",value:function(e){return"object"==typeof e&&Object.values(e).every(this.groupItemsIsValid)?e:{}}},{key:"groupItemsIsValid",value:function(e){return!!Array.isArray(e)&&e.every((function(e){return Pr.stringOrNumber(e)}))}},{key:"itemInValue",value:function(e,t){return Object.hasOwn(e,t.groupId)&&e[t.groupId].includes(t.valueId)}},{key:"clearFromEmptyGroups",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.groupIsEmpty(e[n])&&delete e[n]}))}},{key:"groupIsEmpty",value:function(e){return!e||!Array.isArray(e)||0===e.length}},{key:"groupIsFull",value:function(e,t){return e.length===t?.variants?.length}},{key:"removeItemFromValue",value:function(e,t,n){n.atLeastOne&&1===this.countItemsInValue(e)||(e[t.groupId].splice(e[t.groupId].indexOf(t.valueId),1),this.clearFromEmptyGroups(e,n))}},{key:"addItemToValue",value:function(e,t,n){n.onlyOnePerGroup?e[t.groupId]=[t.valueId]:e[t.groupId]&&Array.isArray(e[t.groupId])?e[t.groupId].includes(t.valueId)||e[t.groupId].push(t.valueId):e[t.groupId]=[t.valueId]}},{key:"selectAll",value:function(e,t,n){var i=this;e.forEach((function(e){e.variants.forEach((function(r){i.addItemToValue(t,{valueId:r.id,groupId:e.id},n)}))}))}},{key:"selectNone",value:function(e,t,n){Object.keys(t).forEach((function(e){delete t[e]}))}},{key:"selectAllInGroup",value:function(e,t,n,i){var r=this;if(!Pr.stringOrNumber(n))return;const o=e.find((function(e){return e.id==n}));o&&o.variants&&Array.isArray(o.variants)&&o.variants.forEach((function(e){r.addItemToValue(t,{groupId:n,valueId:e.id})}))}},{key:"selectNoneInGroup",value:function(e,t,n,i){t[n]&&delete t[n]}},{key:"valueAsVariants",value:function(e,t){var n=this;const i={};return t.forEach((function(t){n.groupIsEmpty(t.id)||t.variants.forEach((function(r){n.itemInValue(e,{groupId:t.id,valueId:r.id})&&(Array.isArray(i[t.id])?i[t.id].push(r):i[t.id]=[r])}))})),i}}])}(),jl=function(){return Sr((function e(){$r(this,e)}),null,[{key:"countItemsInValue",value:function(e){return e&&Pr.stringsOfNumbers([e.valueId,e.groupId])?1:0}},{key:"initValue",value:function(e){return e&&Pr.stringsOfNumbers([e.valueId,e.groupId])?e:{valueId:void 0,groupId:void 0}}},{key:"itemInValue",value:function(e,t){return Object.hasOwn(e,"groupId")&&Object.hasOwn(e,"valueId")&&Pr.stringsOfNumbers([e.valueId,e.groupId])&&e.groupId==t.groupId&&e.valueId==t.valueId}},{key:"removeItemFromValue",value:function(e,t,n){n.atLeastOne||e[t.groupId].splice(e[t.groupId].indexOf(t.valueId),1)}},{key:"addItemToValue",value:function(e,t){void 0===e&&(e=this.initValue()),e.valueId=t.valueId,e.groupId=t.groupId}},{key:"valueAsVariants",value:function(e,t){return this.countItemsInValue(e)?t.find((function(t){return t.id===e.groupId})).variants.find((function(t){return t.id===e.valueId})):{}}}])}(),Vl=function(){return Sr((function e(){$r(this,e)}),null,[{key:"behaviour",value:function(e){return e.multiple?Rl:jl}},{key:"initValue",value:function(e,t){return this.behaviour(t).initValue(e)}},{key:"itemInValue",value:function(e,t,n){return this.behaviour(n).itemInValue(e,t,n)}},{key:"toggle",value:function(e,t,n){this.itemInValue(e,t,n)?this.removeItemFromValue(e,t,n):this.addItemToValue(e,t,n)}},{key:"removeItemFromValue",value:function(e,t,n){this.behaviour(n).removeItemFromValue(e,t,n)}},{key:"addItemToValue",value:function(e,t,n){this.behaviour(n).addItemToValue(e,t,n)}},{key:"selectAll",value:function(e,t,n){console.log("selectAll"),this.behaviour(n).selectAll(e,t,n)}},{key:"selectNone",value:function(e,t,n){console.log("selectNone"),this.behaviour(n).selectNone(e,t,n)}},{key:"selectAllInGroup",value:function(e,t,n,i){console.log("selectAllInGroup"),this.behaviour(i).selectAllInGroup(e,t,n,i)}},{key:"selectNoneInGroup",value:function(e,t,n,i){console.log("selectNoneInGroup"),this.behaviour(i).selectNoneInGroup(e,t,n,i)}},{key:"valueAsVariants",value:function(e,t){return this.behaviour(options).valueAsVariants(e,t)}}])}();var zl=qn("<!> <!>",1);var Wl=Object.freeze({__proto__:null,UIEndlessList:Dl,UIEndlessListNavigation:Nl,UIEndlessListSimpleItem:Ul,UIList:ma,UIListBlock:va,UIListEmptyPlaceholder:ea,UIListItem:ga,UIListSelect:function(e,t){ce(t,!0);let n=me(Fe([])),i=dr(t,"fieldname",3,"list-select"),r=dr(t,"multiple",3,!1),o=dr(t,"atLeastOne",3,!0),s=dr(t,"variants",19,(()=>[])),a=dr(t,"value",23,(()=>[])),l=dr(t,"selectedVariantsIds",23,(()=>[])),u=dr(t,"titleComponentProps",19,(()=>({size:5}))),c=dr(t,"imageComponent",3,Ma),d=dr(t,"imageComponentProps",19,(()=>({covered:!0}))),f=dr(t,"listComponent",3,ma),h=dr(t,"listComponentProps",19,(()=>({actionsVisible:!0}))),g=dr(t,"sublimeValue",3,(e=>e.id)),v=dr(t,"getItemIndex",3,((e,t)=>e.findIndex((e=>e.value.id===t)))),p=dr(t,"getItem",3,((e,{valueId:t})=>v()(e,t)>-1?e.find((e=>e.value.id===t)):void 0)),m=dr(t,"getItemValue",3,((e,{valueId:t})=>{const n=p()(e,{valueId:t});return n?n.value:void 0})),y=dr(t,"getDefaultItemSublime",3,(e=>e&&e.length?e[0].id:void 0)),b=dr(t,"updateVariant",3,((e,t,n,i)=>{const r=v()(e,t);-1!==r&&(Object.keys(n).forEach((t=>{e[r][t]=n[t]})),Array.isArray(e[r].actions)&&e[r].actions.length&&Object.keys(i).forEach((t=>{e[r].actions[0][t]=i[t]})))})),k=dr(t,"uiOn",3,((e,{valueId:t})=>{b()(e,t,{class:"has-background-success"},{title:"not-node:booleans_true",color:"success"})})),$=dr(t,"uiOff",3,((e,{valueId:t})=>{b()(e,t,{class:""},{title:"not-node:booleans_false",color:"danger"})})),I=dr(t,"extendVariantToItemList",3,(e=>{const t={...e};return t.actions=[{title:"not-node:booleans_false",color:"danger",light:!0,action:S}],t})),O=sr(t,["$$slots","$$events","$$legacy","fieldname","multiple","atLeastOne","variants","value","selectedVariantsIds","titleComponentProps","imageComponent","imageComponentProps","listComponent","listComponentProps","sublimeValue","getItemIndex","getItem","getItemValue","getDefaultItemSublime","updateVariant","uiOn","uiOff","extendVariantToItemList","onchange"]);function w(){return Array.isArray(a())?l().length:0}fr((()=>{Ie(n,Fe(s().map(I()))),a()&&Array.isArray(a())?o()&&a().length&&a().forEach((e=>{C(A(e))})):function(){if(o()&&yn(n).length>0){const e=y()(yn(n));e&&S({id:e})}}()}));const _=()=>!(o()&&1===w());function A(e){const t=g()(e);let n={on:void 0,off:void 0};return Array.isArray(l())||l([]),r()?l().includes(t)?_()&&(l().splice(l().indexOf(t),1),n.off={valueId:t}):(l().push(t),n.on={valueId:t}):o()?l().includes(t)||(w()>0&&(n.off={valueId:l().pop()}),n.on={valueId:t},l([t])):l().includes(t)?(n.off={valueId:t},l().splice(l().indexOf(t),1)):(n.on={valueId:t},l().push(t)),n}function S(e){C(A(e)),function(){let e=[];void 0!==l()&&Array.isArray(l())&&(e=l().filter((e=>void 0!==e)).map((e=>m()(yn(n),{valueId:e}))));a(e)}(),t.onchange({field:i(),value:z(a()),ids:z(l())})}function C(e){e.off&&$()(yn(n),e.off),e.on&&k()(yn(n),e.on)}var E=Gn();pi(He(E),f,((e,t)=>{t(e,cr({get titleComponentProps(){return u()},get imageComponent(){return c()},get imageComponentProps(){return d()}},(()=>O),h,{get items(){return yn(n)}}))})),Kn(e,E),de()},UIListSelectButtonsWithGroups:function(e,t){ce(t,!0);let n=dr(t,"onchange",3,(()=>!0)),i=dr(t,"fieldname",3,"list-select-tags"),r=dr(t,"variants",19,(()=>[])),o=dr(t,"variantsSelected",23,(()=>({}))),s=dr(t,"value",7),a=dr(t,"behaviourUI",3,Ml),l=dr(t,"behaviourValue",3,Vl),u=dr(t,"multiple",3,!0),c=dr(t,"onlyOnePerGroup",3,!0),d=dr(t,"atLeastOne",3,!0),f=dr(t,"titleComponent",3,Xs),h=dr(t,"titleComponentProps",19,(()=>({size:5}))),g=dr(t,"imageComponent",3,Ma),v=dr(t,"imageComponentProps",19,(()=>({covered:!0}))),p=dr(t,"descriptionComponent",3,ts),m=dr(t,"descriptionComponentProps",19,(()=>({}))),y=dr(t,"listComponent",3,ma),b=dr(t,"listComponentProps",19,(()=>({}))),k=dr(t,"actionsList",19,(()=>["selectAll","selectNone"]));const $={selectAll:{title:"Выбрать все",color:"success",action(){S()}},selectNone:{title:"Снять выделение со всех",color:"",action(){C()}}};let I=me(Fe([])),O=me(Fe([]));function w(){Ie(O,Fe(a().syncUIWithValue(yn(O),(e=>l().itemInValue(s(),e,{multiple:u(),onlyOnePerGroup:c(),atLeastOne:d()}))))),console.log("selectorGroups",yn(O))}const _=()=>l().valueAsVariants(s(),r());function A(){o(_()),n()({field:i(),value:s()})}fr((()=>{k().forEach((e=>{Object.hasOwn($,e)&&yn(I).push($[e])})),Ie(I,Fe(yn(I))),Ie(O,Fe(a().buildSelectorItemsFromVariants(r()))),s(l().initValue(s(),{multiple:u()})),w()}));const S=()=>{l().selectAll(r(),s(),{multiple:u(),onlyOnePerGroup:c(),atLeastOne:d()}),w(),A()},C=()=>{l().selectNone(r(),s(),{multiple:u(),onlyOnePerGroup:c(),atLeastOne:d()}),w(),A()},E=e=>{l().toggle(s(),e,{multiple:u(),onlyOnePerGroup:c(),atLeastOne:d()}),console.log("value",s()),w(),A()};var L=zl(),T=He(L);Yo(T,{get values(){return yn(I)},centered:!0});var x=Ge(T,2);const N=Je((()=>({action(e,t){E(t)},...m()})));return pi(x,y,((e,t)=>{t(e,cr(b,{get titleComponent(){return f()},get titleComponentProps(){return h()},get descriptionComponent(){return p()},get descriptionComponentProps(){return yn(N)},get imageComponent(){return g()},get imageComponentProps(){return v()},get items(){return yn(O)}}))})),Kn(e,L),de({valueAsVariants:_,selectAll:S,selectNone:C,selectAllInGroup:e=>{l().selectAllInGroup(r(),s(),e,{multiple:u(),onlyOnePerGroup:c(),atLeastOne:d()}),w(),A()},selectNoneInGroup:e=>{behaviour.selectNoneInGroup(r(),s(),e,{multiple:u(),onlyOnePerGroup:c(),atLeastOne:d()}),w(),A()},toggleItem:E})},UIListSelectWithGroups:function(e,t){ce(t,!0);let n=me(Fe([])),i=dr(t,"onchange",3,(()=>!0)),r=dr(t,"fieldname",3,"list-select-tags"),o=dr(t,"variants",19,(()=>[])),s=dr(t,"variantsSelected",23,(()=>({}))),a=dr(t,"value",7),l=dr(t,"behaviourUI",3,Ml),u=dr(t,"behaviourValue",3,Vl),c=dr(t,"multiple",3,!1),d=dr(t,"onlyOnePerGroup",3,!0),f=dr(t,"atLeastOne",3,!0),h=dr(t,"titleComponent",3,Xs),g=dr(t,"titleComponentProps",19,(()=>({size:5}))),v=dr(t,"imageComponent",3,Ma),p=dr(t,"imageComponentProps",19,(()=>({covered:!0}))),m=dr(t,"descriptionComponent",3,Yo),y=dr(t,"descriptionComponentProps",19,(()=>({}))),b=dr(t,"listComponent",3,ma),k=dr(t,"listComponentProps",19,(()=>({})));function $(){Ie(n,Fe(l().syncUIWithValue(yn(n),(e=>u().itemInValue(a(),e,{multiple:c(),onlyOnePerGroup:d(),atLeastOne:f()}))))),console.log("selectorGroups",yn(n))}fr((()=>{Ie(n,Fe(l().buildSelectorItemsFromVariants(o()))),a(u().initValue(a(),{multiple:c(),onlyOnePerGroup:d(),atLeastOne:f()})),$()}));const I=()=>u().valueAsVariants(a(),o()),O=e=>{u().toggle(a(),e,{multiple:c(),onlyOnePerGroup:d(),atLeastOne:f()}),console.log("value",a()),$(),console.log("selectorGroups",yn(n)),s(I()),i()({field:r(),value:a()})};var w=Gn(),_=He(w);const A=Je((()=>({action(e,t){O(t)},...y()})));return pi(_,b,((e,t)=>{t(e,cr(k,{get titleComponent(){return h()},get titleComponentProps(){return g()},get descriptionComponent(){return m()},get descriptionComponentProps(){return yn(A)},get imageComponent(){return v()},get imageComponentProps(){return p()},get items(){return yn(n)}}))})),Kn(e,w),de({valueAsVariants:I,toggleItem:O})}});function Bl(e,t,n){t()&&n(e)}var ql=qn("<div><!> <!></div>");function Hl(e,t){ce(t,!0);let n=me("");let i=dr(t,"closeButton",3,!1),r=dr(t,"closeButtonProps",3,{class:"is-absolute is-sided-right is-sided-top",style:"--siding-right-size: 2rem; --siding-top-size: 2rem",size:"normal"}),o=dr(t,"show",7,!0),s=dr(t,"closeOnClick",3,!0),a=dr(t,"layer",3,1),l=dr(t,"class",3,""),u=dr(t,"onreject",3,(()=>!1)),c=dr(t,"zIndexStep",3,1e3),f=dr(t,"role",3,"button"),h=dr(t,"tabIndex",3,"0");function g(){p()}function v(e){try{if(e&&e.originalTarget){const t=e.originalTarget;t.classList&&t.classList.contains("is-overlay")&&p()}}catch{}}function p(e={}){o(!1),u()(e)}fr((()=>{Ie(n,Fe(document.body.style.overflow)),o()?document.body.style.overflow="hidden":document.body.style.overflow=yn(n)})),hr((()=>{document.body.style.overflow=yn(n)}));var m=Gn(),y=He(m),b=e=>{var n=ql();n.__click=[Bl,s,v],n.__keyup=[Bl,s,v];var o=qe(n),u=e=>{Ko(e,cr(r,{onclick:g}))};ii(o,(e=>{i()&&e(u)})),vi(Ge(o,2),(()=>t.children??d)),Te(n),lt((()=>{Ci(n,`is-overlay not-overlay ${l()??""}`),Ii(n,"role",f()),Ii(n,"tabindex",h()),Ii(n,"style",`z-index: ${c()*a()??""};`)})),Pi(3,n,(()=>gs)),Kn(e,n)};ii(y,(e=>{o()&&e(b)})),Kn(e,m),de()}Vn(["click","keyup"]);var Gl=qn("<!> <!> <!> <!>",1),Kl=qn("<!> <!> <!>",1);var Jl=qn("<!> <!> <!>",1);function Yl(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"show",3,!0),o=dr(t,"showSearch",3,!0),s=dr(t,"term",15,""),a=dr(t,"size",3,"narrow"),l=dr(t,"inputComponent",3,gl),u=dr(t,"inputComponentProps",19,(()=>({}))),c=dr(t,"outputComponent",3,Dl),d=dr(t,"outputComponentProps",19,(()=>({}))),f=dr(t,"buttonsProps",19,(()=>({centered:!0,class:"mt-5"}))),h=dr(t,"rejectButtonProps",19,(()=>({}))),g=dr(t,"results",31,(()=>Fe({list:[],page:0,pages:0,skip:0,count:0})));const v=[{title:nr(Gr,"$LOCALE",n)["not-node:button_cancel_label"],action:t.onreject,...h()}];Hl(e,{get onreject(){return t.onreject},get show(){return r()},closeOnClick:!0,closeButton:!1,children:(e,n)=>{jr(e,{get class(){return`modal-selector ${a()??""}`},children:(e,n)=>{var i=Jl(),r=He(i),a=e=>{var n=Gn();pi(He(n),l,((e,n)=>{n(e,cr({get onchange(){return t.onchange}},u,{get term(){return s()},set term(e){s(e)}}))})),Kn(e,n)};ii(r,(e=>{o()&&e(a)}));var h=Ge(r,2);pi(h,c,((e,n)=>{n(e,cr({get onprev(){return t.onprev},get onnext(){return t.onnext},get onselect(){return t.onresolve},class:"has-height-up-to-60 overflow-scroll"},d,{get itemRenderer(){return t.itemRenderer},get data(){return g()},set data(e){g(e)}}))})),Yo(Ge(h,2),cr(f,{values:v})),Kn(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}}),de(),i()}var Ql=Object.freeze({__proto__:null,UIGenericSelector:Yl,UIModal:function(e,t){const n=(e,t)=>{let n=Ye((()=>function(e,t,n=!1){return void 0===e?n?t():t:e}(t?.(),"")));const i=Je((()=>v()||yn(n))),r=Je((()=>o()?[o()]:[])),a=Je((()=>s()?[s()]:[]));Zo(e,{get class(){return yn(i)},get left(){return yn(r)},get right(){return yn(a)}})};let i=dr(t,"buttonsPosition",3,"bottom"),r=dr(t,"fullscreen",3,!1),o=dr(t,"closeButton",3,!1),s=dr(t,"applyButton",3,!1),a=dr(t,"titleSize",3,2),l=dr(t,"show",3,!1),u=dr(t,"loading",3,!1),c=dr(t,"title",3,"Modal window"),f=dr(t,"subtitle",3,""),h=dr(t,"class",3,""),g=dr(t,"overlayClass",3,""),v=dr(t,"buttonsClass",3,""),p=dr(t,"WAITING_TEXT",3,"Обработка");Hl(e,{get show(){return l()},closeOnClick:!1,closeButton:!1,get class(){return g()},children:(e,o)=>{const s=Je((()=>`${h()} ${r()?"is-fullscreen":""}`));jr(e,{get class(){return yn(s)},children:(e,o)=>{var s=Kl(),l=He(s),h=e=>{n(e,(()=>""))};ii(l,(e=>{"top"===i()&&e(h)}));var g=Ge(l,2);Xs(g,{get size(){return a()},get title(){return c()},get subtitle(){return f()}}),zr(Ge(g,2),{children:(e,o)=>{var s=Gl(),a=He(s);xo(a,{size:"page",get loading(){return u()},get title(){return p()}});var l=Ge(a,2),c=e=>{n(e,(()=>""))};ii(l,(e=>{"topOfContent"===i()&&e(c)}));var f=Ge(l,2);vi(f,(()=>t.children??d));var h=Ge(f,2),g=e=>{n(e,(()=>"is-mobile "+(r()?"is-footer":"")))};ii(h,(e=>{"bottom"===i()&&e(g)})),Kn(e,s)},$$slots:{default:!0}}),Kn(e,s)},$$slots:{default:!0}})},$$slots:{default:!0}})},UIOverlay:Hl}),Zl=qn("<p> </p>"),Xl=qn("<p> </p>"),eu=qn('<article><div class="message-header"><!></div> <div class="message-body"><!></div></article>');function tu(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"class",3,"");var s=eu(),a=qe(s),l=qe(a),u=e=>{var n=Gn();vi(He(n),(()=>t.titleSnip),(()=>t.title)),Kn(e,n)},c=e=>{var n=Zl(),i=qe(n,!0);Te(n),lt((()=>Qn(i,r()[t.title]))),Kn(e,n)};ii(l,(e=>{t.titleSnip?e(u):e(c,!1)})),Te(a);var d=Ge(a,2),f=qe(d),h=e=>{var n=Gn();vi(He(n),(()=>t.messageSnip),(()=>t.message)),Kn(e,n)},g=e=>{var n=Xl(),i=qe(n,!0);Te(n),lt((()=>Qn(i,r()[t.message]))),Kn(e,n)};ii(f,(e=>{t.messageSnip?e(h):e(g,!1)})),Te(d),Te(s),lt((()=>Ci(s,`message ${o()??""} ${(t.color?`is-${t.color}`:"")??""}`))),Kn(e,s),de(),i()}function nu(e,t){ce(t,!0);let n=dr(t,"class",19,(()=>Pr.CLASS_ERR)),i=sr(t,["$$slots","$$events","$$legacy","class"]);tu(e,cr((()=>i),{get class(){return n()}})),de()}function iu(e,t){ce(t,!0);let n=dr(t,"class",19,(()=>Pr.CLASS_OK)),i=sr(t,["$$slots","$$events","$$legacy","class"]);tu(e,cr((()=>i),{get class(){return n()}})),de()}var ru=qn("<div><p> </p> <!></div>");var ou=Object.freeze({__proto__:null,UICookieNotification:function(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"show",15,!1),s=dr(t,"message",3,"Для улучшения работы сайта и его взаимодействия с пользователями мы используем файлы cookie. Продолжая работу с сайтом, Вы разрешаете использование cookie-файлов. Вы всегда можете отключить файлы cookie в настройках Вашего браузера."),a=dr(t,"agree",3,"Хорошо"),l=dr(t,"cooldown",3,31536e6),u=dr(t,"lsKey",3,"cookie_date"),c=dr(t,"id",3,"cookie_notification");function d(){localStorage.setItem(u(),Date.now()),o(!1)}fr((()=>{let e=localStorage.getItem(u());(!e||+e+l()<Date.now())&&o(!0)}));var f=Gn(),h=He(f),g=e=>{var t=ru(),n=qe(t),i=qe(n,!0);Te(n),qo(Ge(n,2),{onclick:d,color:"success",class:"cookie_accept",children:(e,t)=>{xe();var n=Hn();lt((()=>Qn(n,r()[a()]))),Kn(e,n)},$$slots:{default:!0}}),Te(t),lt((()=>{Ii(t,"id",c()),Qn(i,r()[s()])})),Kn(e,t)};ii(h,(e=>{o()&&e(g)})),Kn(e,f),de(),i()},UIError:nu,UIMessage:tu,UISuccess:iu}),su=Object.freeze({__proto__:null,Blocks:qr,Buttons:ns,Forms:El,Icons:Il,Images:Tl,Inputs:rl,Layouts:Ca,Links:xl,Lists:Wl,Modals:Ql,Notifications:ou,UICommon:Pr,Various:vl});const au=Symbol("init"),lu=Symbol("data"),uu=Symbol("working"),cu=Symbol("options");let du=function(e){function t(e){var n;return $r(this,t),(n=br(this,t))[lu]={},n[uu]={},n[cu]={},n[au](e),xr(n,n)}return Lr(t,e),Sr(t,[{key:au,value:function(e){e||(e={}),Object.hasOwn(e,"data")&&this.setData(e.data),Object.hasOwn(e,"working")&&this.setWorking(e.working),Object.hasOwn(e,"options")&&this.setOptions(e.options),this.log=ho.genLogMsg(this.getWorking("name")),this.info=this.log,this.debug=ho.genLogDebug(this.getWorking("name")),this.error=ho.genLogError(this.getWorking("name"))}},{key:"setCommon",value:function(e,t){switch(t.length){case 1:e=t[0];break;case 2:so.set(t[0],e,void 0,t[1])}return this}},{key:"getCommon",value:function(e,t){switch(t.length){case 1:return so.get(t[0],e);case 2:{let n=so.get(t[0],e);return void 0===n?t[1]:n}default:return e}}},{key:"setData",value:function(){return 1===arguments.length?this[lu]=arguments[0]:this.setCommon(this.getData(),arguments),this.emit("change"),this}},{key:"getData",value:function(){return this.getCommon(this[lu],arguments)}},{key:"setOptions",value:function(){return 1===arguments.length?this[cu]=arguments[0]:this.setCommon(this.getOptions(),arguments),this}},{key:"getOptions",value:function(){return this.getCommon(this[cu],arguments)}},{key:"setWorking",value:function(){return 1===arguments.length?this[uu]=arguments[0]:this.setCommon(this.getWorking(),arguments),this}},{key:"getWorking",value:function(){return this.getCommon(this[uu],arguments)}},{key:"report",value:function(e){ho.report&&ho.report(e)}},{key:"getApp",value:function(){return ho.getApp()}},{key:"destroy",value:function(){this.removeEvent(),this.setOptions(null),this.setWorking(null),this.setData(null),this.emit("destroy")}}])}(io);const fu=Symbol("history"),hu=Symbol("hash");let gu=function(e){function t(){var e;return $r(this,t),Cr(e=br(this,t,[{working:{routes:[],mode:fu,root:"/",initialized:!1,delays:Ga,delay_default:Ka}}]),"host",""),xr(e,e)}return Lr(t,e),Sr(t,[{key:"setDelays",value:function(e){return this.setWorking("delays",e),this}},{key:"setDefaultNavigationDelay",value:function(e){return this.setWorking("delay_default",this.delayAsMs(e)),this}},{key:"getDefaultNavigationDelay",value:function(){return this.getWorking("delay_default",Ka)}},{key:"delayAsMs",value:function(e){return"number"==typeof e?e:"string"==typeof e&&e.length>0?this.getWorking(`delays.${e}`,this.getDefaultNavigationDelay()):this.getDefaultNavigationDelay()}},{key:"navigateWithDelay",value:function(e,t,n){var i=this;return setTimeout((function(){"function"==typeof n&&n(),i.navigate(e)}),this.delayAsMs(t))}},{key:"history",value:function(){this.setWorking("mode",fu)}},{key:"hash",value:function(){this.setWorking("mode",hu)}},{key:"setRoot",value:function(e){return this.setWorking("root",e&&"/"!==e?"/"+this.clearSlashes(e)+"/":"/"),this}},{key:"clearSlashes",value:function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")}},{key:"add",value:function(e,t){"function"==typeof e&&(t=e,e="");let n={re:e,handler:t};return this.getWorking("routes").push(n),this}},{key:"addList",value:function(e){for(let t in e)this.add(t,e[t]);return this}},{key:"remove",value:function(e){for(var t,n=0;this.getWorking("routes").length,t=this.getWorking("routes")[n];n++)if(t.handler===e||t.re===e)return this.getWorking("routes").splice(n,1),this;return this}},{key:"flush",value:function(){return this.setWorking({routes:[],mode:fu,root:"/"}),this}},{key:"isInitialized",value:function(){return this.getWorking("initialized")}},{key:"setInitialized",value:function(e=!0){return this.setWorking("initialized",e)}},{key:"getFragment",value:function(){var e="";if(this.getWorking("mode")===fu){if(!location)return"";e=(e=this.clearSlashes(decodeURI(location.pathname+location.search))).replace(/\?(.*)$/,""),e="/"!=this.getWorking("root")?e.replace(this.getWorking("root"),""):e}else{if(!window)return"";var t=window.location.href.match(/#(.*)$/);e=t?t[1]:""}return this.clearSlashes(e)}},{key:"checkLocation",value:function(){let e=this.getWorking("current"),t=this.getFragment(),n=this.isInitialized();e===t&&n||(this.setWorking("current",t),this.check(t),this.setInitialized(!0))}},{key:"hrefClick",value:function(){}},{key:"getRoot",value:function(){return this.getWorking("root")}},{key:"listen",value:function(e=50){return this.setWorking("current","notInitialized"),clearInterval(this.getWorking("interval")),this.setWorking("interval",setInterval(this.checkLocation.bind(this),e)),window.addEventListener("popstate",this.hrefClick.bind(this)),this}},{key:"check",value:function(e){let t=e||this.getFragment(),n=null;for(let e=0;e<this.getWorking("routes").length;e++){let i=this.getWorking("root")+this.getWorking("routes")[e].re,r=this.clearSlashes(decodeURI(i)),o=t.match(r);if(o&&o.length){if(""!==r)return o.shift(),this.getWorking("routes")[e].handler.apply(this.host||{},o),this.emit("afterRoute",this.getWorking("routes")[e]),this;o.shift(),n={route:this.getWorking("routes")[e],match:o}}}return n&&(n.route.handler.apply(this.host||{},n.match),this.emit("afterRoute",n.route)),this}},{key:"refresh",value:function(e=0){var t=this;e>0?setTimeout((function(){return t.refresh()}),e):this.check(this.getWorking("current"))}},{key:"navigate",value:function(e){switch(e=e||"",this.getWorking("mode")){case fu:{const t=this.getFullRoute(e);t===this.lastRoute?this.refresh():(this.lastRoute=t,history.pushState(null,"",this.lastRoute));break}case hu:window.location.href.match(/#(.*)$/),window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+e}return this}},{key:"getFullRoute",value:function(e=""){e=this.clearSlashes(e);const t=this.getWorking("root");return"/"!==t&&0===e.indexOf(t.substring(1))?"/"+e:this.getWorking("root")+this.clearSlashes(e)}},{key:"getAllLinks",value:function(){const e=document.body.querySelectorAll("a");let t=[];for(let n=0;n<e.length;n++)for(let i=0,r=e[n].attributes,o=r.length;i<o;i++)if(0===r[i].nodeName.indexOf("n-href")){t.push(e[n]);break}return t}},{key:"reRouteExisted",value:function(){const e=this.getAllLinks();for(let t=0;t<e.length;t++)this.initRerouting(e[t],e[t].getAttribute("n-href"));return this}},{key:"initRerouting",value:function(e,t){var n=this;if(!e.notRouterInitialized){let i=this.getFullRoute(t);e.setAttribute("href",i),e.addEventListener("click",(function(e){return e.preventDefault(),n.navigate(t),!1})),e.notRouterInitialized=!0}return this}}])}(du);var vu=new gu;let pu=function(e){function t(e={}){var n;return $r(this,t),(n=br(this,t,[{working:{name:e.name?e.name:"APIQuee"},options:e}])).busy=!1,n.queue=[],n.busySince=-1,n.afterEmpty=void 0,n.start(),xr(n,n)}return Lr(t,e),Sr(t,[{key:"stop",value:function(){this.interval&&(clearInterval(this.interval),this.interval=void 0,this.busy=!1,this.busySince=-1)}},{key:"start",value:function(){this.stop(),this.interval=setInterval(this.checkQueue.bind(this),this.QUEUE_CHECK_INTERVAL)}},{key:"checkQueue",value:function(){var e=this;if(this.isEmpty()||this.isBusy()){if(!this.isBusy()&&this.afterEmpty){let e=this.afterEmpty;this.afterEmpty=void 0,e()}}else this.setBusy().runNext().then(this.setFree.bind(this)).catch((function(t){e.error&&e.error(t),e.setFree()}))}},{key:"addToQueue",value:function(e){this.queue.push(e)}},{key:"runNext",value:function(){let e=this.queue.map((function(e){return e.title})).join(", ");this.debug&&this.debug(`tasks [${e}]`);let t=this.queue.shift();return ho.isFunc(t.action)?ho.isFunc(t.resolve)?t.action().then(t.resolve):(this.error&&this.error("В задании нет возвратной части, resolve не функция",t.title),t.action()):(this.error&&this.error("В задании нет исполнимой части, action не функция",t.title),Promise.resolve())}},{key:"isBusy",value:function(){let e=!!this.busy,n=Date.now()/1e3;return!!(e&&this.busySince>-1)&&(!(n-this.busySince>t.MAX_BUSY_TIME)||(this.setFree(),!1))}},{key:"setBusy",value:function(){return this.busy=!0,this.busySince=Date.now()/1e3,this}},{key:"setFree",value:function(){return this.busy=!1,this.busySince=-1,this}},{key:"isEmpty",value:function(){return 0===this.queue.length}},{key:"run",value:function(e,t=void 0,n=""){var i=this;return t&&void 0===this.afterEmpty&&(this.afterEmpty=t),new Promise((function(t,r){try{i.addToQueue({action:e,resolve:t,title:n})}catch(e){i.error&&i.error(e),r(e)}}))}},{key:"actionIsQueued",value:function(e){return this.queue.some((function(t){return t.title==e}))}},{key:"runIfNotQueued",value:function(e,t=void 0,n=""){return this.actionIsQueued(n)?Promise.resolve():this.run(e,t,n)}}])}(du);Cr(pu,"QUEUE_CHECK_INTERVAL",100),Cr(pu,"MAX_BUSY_TIME",300);let mu=function(e){function t(e){var n;return $r(this,t),(n=br(this,t,[{options:e,working:{name:e.name?e.name:"APIConnection"}}])).online=null,n.run(),xr(n,n)}return Lr(t,e),Sr(t,[{key:"run",value:function(){this.int=window.setInterval(this.check.bind(this),1e3)}},{key:"pause",value:function(){window.clearInterval(this.int)}},{key:"resume",value:function(){this.run()}},{key:"isOnline",value:function(){return window.navigator.onLine}},{key:"check",value:function(){let e=this.isOnline();null!==this.online&&this.online!==e&&this.changeState(e),this.online=e}},{key:"changeState",value:function(e=!1){e?this.emit("online"):this.emit("offline")}}])}(du);Cr(mu,"int",void 0),Cr(mu,"online",void 0);var yu=Object.freeze({__proto__:null,notAPIConnection:mu,notAPIOptions:{rps:50,protocol:"http",host:"localhost",port:9e3},notAPIQueue:pu});const bu={};function ku(e){return ho.objHas(bu,e)}var $u=Object.freeze({__proto__:null,create:function(e,t={raw:[],filtered:[],selected:{}}){if(!ku(e)){if(!(Object.keys(t).length>0))throw new Error("store's props wasn't specified");bu[e]={},Object.keys(t).forEach((function(n){bu[e][n]=Xi(t[n])}))}return bu[e]},fake:function(e){return{subscribe:t=>(t(e),function(){}),set(){}}},get:function(e){return!!ku(e)&&bu[e]}});const Iu=Symbol("interface"),Ou=["getActionsCount","getActions","setFindBy","resetFilter","setFilter","getFilter","setSorter","getSorter","resetSorter","setPageNumber","setPageSize","setPager","setReturn","setSearch","getSearch","resetSearch","resetPager","getPager","addFormFieldType","addFormField","getFieldTypes","getActionFormFields"],wu=["_id","id","ID"],_u={},Au={};let Su=function(e){function t(e,n){var i;return $r(this,t),(i=br(this,t,[{working:{name:"network interface for: "+(e.model?e.model:"unknown"),filter:_u,search:"",return:Au,pager:{size:10,page:0}},options:n}])).manifest=e,i.initActions(),xr(i,i)}return Lr(t,e),Sr(t,[{key:"initActions",value:function(){if(this.getActionsCount()>0){let e=this.getActions();for(let t in e)this.initAction(t)}}},{key:"initAction",value:function(e){var t=this;ho.objHas(this,"$"+e)||(this["$"+e]=function(n,i,r=!1,o){return t.request(t,e,n,i,r,o)})}},{key:"requestHTTP",value:function(e,t,n,i={},r=!1,o){try{let s=Object.assign({},e.getData&&"function"==typeof e.getData?e.getData():e,n),a=this.getActionData(t),l=this.collectRequestData(a),u=this.encodeRequest(l),c=this.getServerURL(),d=this.getURL(s,a,t),f={};if(r){d=this.getURL(n,a,t);const e=new FormData;e.append("file",o),f.body=e}else-1===["OPTIONS","GET"].indexOf(a.method.toUpperCase())&&(f={method:a.method,body:JSON.stringify(e.getData&&"function"==typeof e.getData?e.getData():e),headers:{Accept:"application/json","Content-Type":"application/json"}});return f.method=a.method.toUpperCase(),i&&Object.keys(i).length&&(f.headers=i),fetch(c+d+u,f).then((function(e){return e.json()}))}catch(e){ho.error(e),ho.report(e)}}},{key:"requestWS",value:function(e,t){try{let n=this.getActionData(t),i=this.collectRequestData(n);const r=ho.getApp().getWSClient(),o=this.getWSRequestName(t),s=Object.assign({},i,e.getData());return ho.objHas(n,"type")&&"string"==typeof n.type&&n.type.length&&"request"!==n.type?r.message(n.type,o,s).then((function(e){return e.payload})):r.request(o,s).then((function(e){return e.payload}))}catch(e){ho.error(e),ho.report(e)}}},{key:"request",value:function(){let e=this.getActionData(arguments[1]);switch(this.selectTransport(e)){case"ws":return this.requestWS(...arguments);case"http":return this.requestHTTP(...arguments);default:throw new Error("Offline")}}},{key:"wsIsUp",value:function(e){if(!0===e.ws){let t;if(t=ho.objHas(e,"wsClient")&&e.wsClient?ho.getApp().getWSClient(e.wsClient):ho.getApp().getWSClient(),t)return!0}return!1}},{key:"selectTransport",value:function(e){return this.wsIsUp(e)?"ws":!!ho.objHas(e,"method")&&"http"}},{key:"getModelName",value:function(){return this&&this.manifest?this.manifest.model:null}},{key:"getActionData",value:function(e){return this.getActions()&&this.getActions()[e]?this.getActions()[e]:null}},{key:"getActionsCount",value:function(){return this.getActions()?Object.keys(this.getActions()).length:0}},{key:"getActions",value:function(){return this.manifest&&this.manifest.actions?this.manifest.actions:{}}},{key:"parseParams",value:function(e,t,n,i){let r="",o=e.length;for(;n.indexOf(e)>-1;){let s=n.indexOf(e),a=s+o,l=n.indexOf(t);if(s>l)break;if(r=n.slice(a,l),""==r)break;this.log&&this.log(e+r+t,so.get(r,i)),n=n.replace(e+r+t,so.get(r,i))}return n}},{key:"parseLine",value:function(e,t,n){return e=(e=e.replace(":modelName",this.manifest.model)).replace(":actionName",n),e=this.parseParams(":record[","]",e,t),e=this.parseParams(":","?",e,t)}},{key:"getURL",value:function(e,t,n){return this.parseLine(this.manifest.url,e,n)+(ho.objHas(t,"postFix")?this.parseLine(t.postFix,e,n):"")}},{key:"getServerURL",value:function(){return ho.getApp()?ho.getApp().getOptions("api.server.url",""):""}},{key:"getWSRequestName",value:function(e){return`${this.manifest.model}//${e}`}},{key:"encodeRequest",value:function(e){let t="?";for(let n in e)void 0!==e[n]&&null!==e[n]&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n].constructor===Object?JSON.stringify(e[n]):e[n])+"&");return this.getOptions("test")&&(t+="&test=1",this.getOptions("test.session")&&(t+="&session="+this.getOptions("test.session")),this.getOptions("test.session")&&(t+="&role="+this.getOptions("test.role"))),t}},{key:"collectRequestData",value:function(e){let t={};if(ho.objHas(e,"data")&&Array.isArray(e.data))for(let n=0;n<e.data.length;n++){let i="get"+ho.capitalizeFirstLetter(e.data[n]);if(this[i]&&"function"==typeof this[i]){let r=this[i](),o={};["pager","sorter","filter","search","return"].indexOf(e.data[n])>-1?o[e.data[n]]=r:o=r,t=Object.assign(t,o)}}return t}},{key:"getID",value:function(e,t){let n,i=wu,r=["",this.manifest.model];ho.objHas(t,"index")&&t.index&&(i=[t.index].concat(wu));for(let t of r)for(let r of i)if(ho.objHas(e,t+r)){n=e[t+r];break}return n}},{key:"setFindBy",value:function(e,t){var n={};return n[e]=t,this.setFilter(n)}},{key:"setFilter",value:function(e=_u){return this.setWorking("filter",e),this}},{key:"resetFilter",value:function(){return this.setFilter()}},{key:"getFilter",value:function(){return this.getWorking("filter")}},{key:"setSearch",value:function(e=""){return this.setWorking("search",e),this}},{key:"resetSearch",value:function(){return this.setSearch()}},{key:"getSearch",value:function(){return this.getWorking("search")}},{key:"setSorter",value:function(e){return this.setWorking("sorter",e),this}},{key:"resetSorter",value:function(){return this.setSorter({})}},{key:"getSorter",value:function(){return this.getWorking("sorter")}},{key:"setReturn",value:function(e=Au){return this.setWorking("return",e),this}},{key:"resetReturn",value:function(){return this.setReturn({})}},{key:"getReturn",value:function(){return this.getWorking("return")}},{key:"setPageNumber",value:function(e){return this.setWorking("pager.page",e),this}},{key:"setPageSize",value:function(e){return this.setWorking("pager.size",e),this}},{key:"setPager",value:function(){if((arguments.length<2||isNaN(arguments[0])||isNaN(arguments[1]))&&arguments[0].constructor===Object&&ho.objHas(arguments[0],"page")&&ho.objHas(arguments[0],"size")){const e=arguments[0];this.setWorking("pager",{size:e.size||10,page:e.page||0})}else 2!==arguments.length||isNaN(arguments[0])||isNaN(arguments[1])||this.setWorking("pager",{size:arguments[0]||10,page:arguments[1]||0});return this}},{key:"resetPager",value:function(){return this.setPager()}},{key:"getPager",value:function(){return this.getWorking("pager")}},{key:"getRecord",value:function(){this.getData()}},{key:"getDefaultAsPlainObject",value:function(){if(!this.manifest||!this.manifest.fields)return{};const e={};for(const t of Object.keys(this.manifest.fields))if(Object.hasOwn(this.manifest.fields[t],"default")){const n=this.manifest.fields[t].default;Array.isArray(n)?e[t]=[...n]:e[t]="object"==typeof n?{...n}:n}return e}}])}(du),Cu=function(e){function t(e,n){var i;return $r(this,t),i=br(this,t),null==n||"object"!=typeof n?xr(i,n):n&&n.isProxy?(ho.error("this is Proxy item"),xr(i,n)):n&&(n.isRecord||n.isProperty)?xr(i,n):Array.isArray(n)?xr(i,i.createCollection(e,n)):(i.setOptions({}),i[Iu]=new Su(e,{}),i.setData(n),i.interfaceUp(),i.mapToInterface(),i.mapToMethods(),xr(i,i))}return Lr(t,e),Sr(t,[{key:"toDefault",value:function(){return this.setData(this[Iu].getDefaultAsPlainObject())}},{key:"mapToInterface",value:function(){let e=this;for(let t of Ou)this[Iu][t]&&"function"==typeof this[Iu][t]&&(this[t]=function(){let n=e[Iu][t](...arguments);return n==e[Iu]?e:n})}},{key:"mapToMethods",value:function(){let e=this[Iu].manifest,t=ho.getApp(),n={};if(e.methods?n=e.methods:t&&(n=t.getOptions(["models",this[Iu].manifest.model].join("."),{})),n)for(let e in n)Object.hasOwn(n,e)&&(this[e]=n[e])}},{key:"createCollection",value:function(e,n){for(var i=[],r=0;r<n.length;r++)i.push(new t(e,n[r]));return i}},{key:"interfaceUp",value:function(){if(this[Iu].getActionsCount()>0){let e=this[Iu].getActions();for(let t in e)this.actionUp(t,e[t])}}},{key:"actionUp",value:function(e){var t=this;Object.hasOwn(this,["$"+e])||(this["$"+e]=function(...n){return t[Iu].request(t,e,...n)})}},{key:"setAttr",value:function(e,t){return this.setData(e,t)}},{key:"setAttrs",value:function(e){if(e&&"object"==typeof e&&Object.keys(e).length>0)for(let t in e)this.setAttr(t,e[t])}},{key:"getAttr",value:function(e,t=!1){let n=this.getData(e,{});return t?ho.stripProxy(n):n}},{key:"getAttrs",value:function(e){let t=[];if(e&&e.length>0)for(let n of e)t.push(this.getAttr(n));return t}},{key:"getManifest",value:function(){return this[Iu]?this[Iu].manifest:{}}},{key:"setItem",value:function(e){return this.setData(e),this}}])}(du);const Eu="main";let Lu=function(e){function t(e){var n;return $r(this,t),n=br(this,t,[{working:{name:e.name,interfaces:{},controllers:ho.objHas(e,"controllers")?e.controllers:{},initController:null,currentController:null,uis:{},wsc:{},wss:{},services:{}},options:e}]),n?.log&&n.log("start app"),ho.register("app",n),n.initManifest(),xr(n,n)}return Lr(t,e),Sr(t,[{key:"initManifest",value:function(){var e=this;ho.getJSON(this.getOptions("manifestURL")).then((function(t){return e.setInterfaceManifest(t)})).catch((function(e){return ho.report(e)}))}},{key:"initRouter",value:function(){this.setWorking("router",vu),this.getWorking("router").setRoot(this.getOptions("router.root")),vu.reRouteExisted()}},{key:"execRouter",value:function(){var e={};for(let t=0;t<this.getOptions("router.manifest").length;t++){let n=this.getOptions("router.manifest")[t],i=n.paths,r=n.schemes,o=n.controller;for(let t=0;t<i.length;t++){let n=!!(r&&Array.isArray(r)&&r.length>t)&&r[t];e[i[t]]=this.bindController(o,n)}}this.getWorking("router").addList(e).listen()}},{key:"setInterfaceManifest",value:function(e){Object.freeze(e),this.setOptions("interfaceManifest",e),this.initRouter(),this.update()}},{key:"getInterfaceManifest",value:function(e){return e?this.getOptions("interfaceManifest")[e]:this.getOptions("interfaceManifest")}},{key:"update",value:function(){this.updateInterfaces(),this.initController(),this.startApp()}},{key:"startApp",value:function(){this.initServices(),this.execRouter(),this.emit("afterStarted",this)}},{key:"bindController",value:function(e,t){let n=this;return function(){new e(n,arguments,t)}}},{key:"initController",value:function(){if(void 0!==this.getOptions("initController")){let e=this.getOptions("initController");this.setWorking("initController",new e(this))}}},{key:"getCurrentController",value:function(){return this.getWorking("currentController")}},{key:"setCurrentController",value:function(e){let t=this.getCurrentController();return t&&t.destroy&&t.destroy(),this.setWorking("currentController",e),this}},{key:"createInterfaceModelFactory",value:function(e){return function(t){return new Cu(e,t)}}},{key:"updateInterfaces",value:function(){this.clearInterfaces();let e=this.getOptions("interfaceManifest");if(e)for(let t in e){let n=e[t],i=this.getOptions(["models",t].join("."),{});n.methods=i;const r=this.createInterfaceModelFactory(n);this.setInterface(t,r)}}},{key:"getRecordName",value:function(e){return"nr"+ho.capitalizeFirstLetter(e)}},{key:"getControllerName",value:function(e){return"nc"+ho.capitalizeFirstLetter(e)}},{key:"setInterface",value:function(e,t){return this.setWorking(`interfaces.${e}`,t)}},{key:"getInterfaces",value:function(){return this.getWorking("interfaces")}},{key:"clearInterfaces",value:function(){return this.setWorking("interfaces",{}),this}},{key:"setWSClient",value:function(e=Eu,t){return this.setWorking(`wsc.${e}`,t)}},{key:"getWSClient",value:function(e=Eu){return this.getWorking(`wsc.${e}`)}},{key:"getInterface",value:function(e){return this.getInterfaces()[e]}},{key:"getModel",value:function(e,t={}){return this.getInterface(e)(t)}},{key:"setService",value:function(e,t){return this.setWorking(`services.${e}`,t)}},{key:"getService",value:function(e){return this.getWorking(`services.${e}`)}},{key:"initServices",value:function(){if(this.getOptions("services"))for(let e in this.getOptions("services"))try{let t=this.getOptions(`services.${e}`);switch(ho.detectType(t)){case"function":case"class":this.setService(e,new t(this));break;default:this.setService(e,t)}}catch(t){this?.error&&this.error(`Service (${e}) init error`,t)}}},{key:"getConfigReaderForModule",value:function(e=""){var t=this;const n=["modules",e].join(".");return{get:function(e,i){return e&&"string"==typeof e&&e.length?t.getOptions([n,e].join("."),i):t.getOptions(n,i)}}}},{key:"moduleConfig",value:function(e=""){return this.getConfigReaderForModule(e)}}])}(du);Cr(Lu,"DEFAULT_WS_CLIENT_NAME",Eu);const Tu="default",xu="main";let Nu=function(e){function t(e,n){var i;$r(this,t),Cr(i=br(this,t,[{}]),"els",void 0),Cr(i,"make",void 0),Cr(i,"app",void 0),i.app=e,i.app.setCurrentController(i),i.setWorking({name:n,ready:!1,views:{},libs:{},helpers:{}}),i.ui={},i.els={},i.setData({}),i.setOptions({moduleName:xu,containerSelector:"main.content",prefix:e.getOptions("paths.module"),names:{plural:"Models",single:"Model"}}),i.setURLPrefix(e.getOptions("router.root"));let r=e.getInterfaces();i.make={};for(let e in r)Object.hasOwn(r,e)&&(i.make[e]=r[e]);return i.on("destroy",(function(){i.app=null;for(let e in i.ui)i.ui[e].destroy&&i.ui[e].destroy(),i.ui[e].$destroy&&i.ui[e].$destroy(),i.ui[e]=null;i.els=null,i.make=null})),xr(i,i)}return Lr(t,e),Sr(t,[{key:"getApp",value:function(){return ho.getApp()}},{key:"setModel",value:function(e){return this.setWorking("model",e),this}},{key:"getModel",value:function(e,t){if("string"==typeof e){const n=this.getInterface(e);return n&&n(t||{})}{const t=this.getInterface();return t&&t(e||{})}}},{key:"getInterface",value:function(e=""){return this.app?.getInterface(e||this.getModelName())}},{key:"getModelName",value:function(){return this.getWorking("modelName")}},{key:"setModelName",value:function(e){return this.setWorking("modelName",ho.lowerFirstLetter(e)),this}},{key:"getModelIDFieldName",value:function(){return this.getWorking("modelIDFieldName","_id")}},{key:"setModelIDFieldName",value:function(e="_id"){return this.setWorking("modelIDFieldName",e)}},{key:"setReady",value:function(e=!0){this.setWorking("ready",e),e?this.emit("ready"):this.emit("busy")}},{key:"setURLPrefix",value:function(e){return this.setOptions("urlPrefix",e),this.updateAutoName(),this}},{key:"getURLPrefix",value:function(){return this.getOptions("urlPrefix")}},{key:"setModuleName",value:function(e){return this.setOptions("moduleName",ho.lowerFirstLetter(e)),this.updateAutoName(),this}},{key:"getModuleName",value:function(){return this.getOptions("moduleName")}},{key:"getModulePrefix",value:function(){return[ho.getApp().getOptions("paths.modules"),this.getModuleName()].join("/")}},{key:"getModelURL",value:function(){return ho.buildURL({prefix:this.getURLPrefix(),module:this.getModuleName(),model:this.getModelName()})}},{key:"getModelActionURL",value:function(e,t=""){return ho.buildURL({prefix:this.getURLPrefix(),module:this.getModuleName(),model:this.getModelName(),id:e,action:t})}},{key:"buildURL",value:function(e){return ho.buildURL(e)}},{key:"updateAutoName",value:function(){return this.getOptions("autoName",true),this}},{key:"setName",value:function(e){return this.setWorking("name",e),this.setOptions("autoName",!1),this}},{key:"getName",value:function(){return this.getWorking("name")}},{key:"preloadLib",value:function(e={}){var t=this;return new Promise((function(n,i){if("object"!=typeof e)n(void 0);else{t.setWorking("loading",[]);for(let r in e)t.getWorking("loading").push(e[r]),t.make[e[r]]({}).$listAll().then((function(i){t.getOptions("libs")||t.setOptions("libs",{}),t.getOptions("libs")[r]=i,t.getWorking("loading").indexOf(e[r])>-1&&t.getWorking("loading").splice(t.getWorking("loading").indexOf(e[r]),1),0===t.getWorking("loading").length&&n(void 0)})).catch((function(e){t.report(e),i()}));0===t.getWorking("loading").length&&n(void 0)}}))}},{key:"onAfterRender",value:function(){this.emit("afterRender")}},{key:"getActionName",value:function(e=Tu){return"run"+ho.capitalizeFirstLetter(e)}},{key:"getDefaultActionName",value:function(){return this.getActionName(this.getOptions("defaultAction",Tu))}},{key:"route",value:function(e){let[t,...n]=e,i=this.getActionName(t||Tu);"function"==typeof this[i]?(this.setCurrentAction(i),this[i](n)):this[this.getDefaultActionName()]?(this.setCurrentAction(this.getDefaultActionName()),this[this.getDefaultActionName()](n)):(this.setCurrentAction(void 0),this.error&&this.error("No action in router",e))}},{key:"setCurrentAction",value:function(e){this.setWorking("action",e)}},{key:"getCurrentAction",value:function(){return this.getWorking("action")}},{key:"getAppOptions",value:function(){try{return this.getApp().getOptions()}catch(e){this.error&&this.error(e)}}},{key:"getModuleOptions",value:function(e){try{return this.getApp().getOptions(["modules",e||this.getModuleName()].join("."))}catch(e){this.error&&this.error(e)}}},{key:"getServices",value:function(e){try{return this.getApp().getOptions(["services",e||this.getModuleName()].join("."))}catch(e){this.error&&this.error(e)}}},{key:"getComponents",value:function(e){try{return this.getApp().getOptions(["components",e||this.getModuleName()].join("."))}catch(e){this.error&&this.error(e)}}},{key:"refresh",value:function(e=0){this.app?.getWorking("router").refresh(e)}},{key:"getRouter",value:function(){return this.app?.getWorking("router")}},{key:"navigateWithDelay",value:function(e,t=1500,n=function(){}){return this.getRouter().navigateWithDelay(e,t,n)}},{key:"navigate",value:function(e){return this.getRouter().navigate(e)}},{key:"navigateAction",value:function(e,t="",n=0,i=function(){}){return this.navigateModuleAction(this.getModuleName(),this.getModelName(),e,t,n,i)}},{key:"navigateModelAction",value:function(e,t,n="",i=0,r=function(){}){return this.navigateModuleAction(this.getModuleName(),e,t,n,i,r)}},{key:"navigateModuleAction",value:function(e,t,n,i="",r=0,o=function(){}){return r?this.getRouter().navigateWithDelay(ho.buildURL({prefix:this.getURLPrefix(),module:e,model:t,id:n,action:i}),r,o):this.getRouter().navigate(ho.buildURL({prefix:this.getURLPrefix(),module:e,model:t,id:n,action:i}))}}],[{key:"MODULE_NAME",get:function(){return xu}},{key:"MODEL_NAME",get:function(){return"ModelName"}},{key:"LABELS",get:function(){return{plural:`${xu}:model_label_plural`,single:`${xu}:model_label_single`}}},{key:"getControllerRoute",value:function(e=0){let t=[];this.MODULE_NAME&&this.MODULE_NAME.length>0&&t.push(ho.lowerFirstLetter(this.MODULE_NAME)),this.MODEL_NAME&&this.MODEL_NAME.length>0&&t.push(ho.lowerFirstLetter(this.MODEL_NAME)),t=[t.join("/")];for(let n=0;n<e;n++)t.push("/([^/]+)");return t.join("")}},{key:"getControllerRoutes",value:function(e=0){let t=[this.getControllerRoute(0)];for(let n=0;n<e;n++)t.unshift(this.getControllerRoute(n+1));return t}},{key:"getRoutes",value:function(){return{paths:this.getControllerRoutes(this.PARAMS_LENGTH),controller:this}}},{key:"getCommonMenu",value:function(e){return[{section:e.MODULE_NAME,title:e.LABELS.plural,url:`/${ho.lowerFirstLetter(e.MODULE_NAME)}/${ho.lowerFirstLetter(e.MODEL_NAME)}`}]}},{key:"getMenu",value:function(){}}])}(du);Cr(Nu,"PARAMS_LENGTH",2);const Fu={};function Uu(e){return Object.hasOwn(Fu,e)}function Pu(e){return!!Uu(e)&&Fu[e]}function Du(e,t,n,i){return i("change",{id:t(),field:n(),value:"checkbox"===e.target.type?e.target.checked:e.target.value}),!0}var Mu=qn('<input type="checkbox"> <label class="label"></label>',1);Vn(["input"]);var Ru=qn("<a> </a>"),ju=qn('<div class="mx-1 tags has-addons svelte-38rpfk"><span class="tag"> </span> <span><!></span></div>'),Vu=qn("<a> </a>"),zu=qn("<span><!></span>");var Wu=qn("<td><!></td>");function Bu(e,t){ce(t,!0);const[n,i]=ir();let r=me("");fr((()=>{void 0===s().type&&(Object.hasOwn(s(),"titlePath")?Ie(r,Fe(so.get(s().titlePath,a(),l()))):Object.hasOwn(s(),"titleComposer")&&"function"==typeof s().titleComposer?Ie(r,Fe(s().titleComposer(a(),l()))):Ie(r,Fe(so.get(s().path,a(),l()))))}));let o=dr(t,"getItemId",3,(e=>e._id)),s=dr(t,"field",19,(()=>({}))),a=dr(t,"item",19,(()=>({}))),l=dr(t,"helpers",19,(()=>({})));var u=Wu(),c=qe(u),d=e=>{const t=Je((()=>so.get(s().path,a(),l())));ua(e,{get values(){return yn(t)}})},f=e=>{var t=Gn(),i=He(t),r=e=>{const t=Je((()=>so.get(s().path,a(),l())));Yo(e,{get values(){return yn(t)}})},u=e=>{var t=Gn(),i=He(t),r=e=>{const t=Je((()=>so.get(s().path,a(),l())));Ll(e,{get values(){return yn(t)}})},u=e=>{var t=Gn(),i=He(t),r=e=>{const t=Je((()=>so.get(s().path,a(),l())));Io(e,{get values(){return yn(t)}})},u=e=>{var t=Gn(),i=He(t),r=e=>{const t=Je((()=>so.get(s().path,a(),l())));!function(e,t){let n=dr(t,"values",19,(()=>[]));var i=Gn();ai(He(i),17,n,(e=>e.id),((e,t)=>{var n=Gn(),i=He(n),r=e=>{var n=ju(),i=qe(n),r=qe(i,!0);Te(i);var o=Ge(i,2),s=qe(o),a=e=>{var n=Ru(),i=qe(n,!0);Te(n),lt((()=>{Ii(n,"href",yn(t).url),Ci(n,bi(yn(t).urlCustomClasses),"svelte-38rpfk"),Qn(i,yn(t).value)})),Kn(e,n)},l=e=>{var n=Hn();lt((()=>Qn(n,yn(t).value))),Kn(e,n)};ii(s,(e=>{yn(t).url?e(a):e(l,!1)})),Te(o),Te(n),lt((()=>{Qn(r,yn(t).title),Ci(o,`tag is-${yn(t).color??""} ${yn(t).customClasses??""} svelte-38rpfk`)})),Kn(e,n)},o=e=>{var n=zu(),i=qe(n),r=e=>{var n=Vu(),i=qe(n,!0);Te(n),lt((()=>{Ii(n,"href",yn(t).url),Ci(n,bi(yn(t).urlCustomClasses),"svelte-38rpfk"),Qn(i,yn(t).title)})),Kn(e,n)},o=e=>{var n=Hn();lt((()=>Qn(n,yn(t).title))),Kn(e,n)};ii(i,(e=>{yn(t).url?e(r):e(o,!1)})),Te(n),lt((()=>Ci(n,`mx-1 tag is-${yn(t).color??""} ${yn(t).customClasses??""} svelte-38rpfk`))),Kn(e,n)};ii(i,(e=>{Object.hasOwn(yn(t),"value")?e(r):e(o,!1)})),Kn(e,n)})),Kn(e,i)}(e,{get values(){return yn(t)}})},u=e=>{var t=Gn(),i=He(t),r=e=>{const t=Je((()=>o()(a()))),n=Je((()=>so.get(s().path,a(),l())));!function(e,t){ce(t,!0);let n=gr(),i=dr(t,"id",3,""),r=dr(t,"value",15,!1),o=dr(t,"fieldname",3,"switch"),s=dr(t,"disabled",3,!1),a=dr(t,"readonly",3,!1),l=dr(t,"styling",3," is-rounded is-success ");var u=Mu(),c=He(u);ki(c),c.__input=[Du,i,o,n];var d=Ge(c,2);lt((()=>{Ci(c,`switch ${l()??""}`),Ii(c,"id",`edit-table-row-cell-inline-switch-${o()??""}-${i()??""}`),Ii(c,"name",o()),c.readOnly=a(),c.disabled=s(),Ii(d,"for",`edit-table-row-cell-inline-switch-${o()??""}-${i()??""}`)})),Ri(c,r),Kn(e,u),de()}(e,{get id(){return yn(t)},get fieldname(){return s().path},get value(){return yn(n)},get disabled(){return s().disabled},get readonly(){return s().readonly},$$events:{change(...e){s().onChange?.apply(this,e)}}})},u=e=>{var t=Gn(),i=He(t),r=e=>{var t=Gn(),n=He(t);const i=Je((()=>o()(a()))),r=Je((()=>so.get(s().path,a(),l())));pi(n,(()=>s().component),((e,t)=>{t(e,cr({get id(){return yn(i)},get fieldname(){return s().path},get disabled(){return s().disabled},get readonly(){return s().readonly},get value(){return yn(r)}},(()=>s().options),{$$events:{change(...e){s().onChange?.apply(this,e)}}}))})),Kn(e,t)},u=e=>{var t=Gn(),i=He(t),r=e=>{var t=Hn();lt((e=>Qn(t,e)),[()=>ho.strLengthCap(so.get(s().path,a(),l()),s().maxLength)]),Kn(e,t)},o=e=>{var t=Hn();lt((e=>Qn(t,e)),[()=>nr(Gr,"$LOCALE",n)[so.get(s().path,a(),l())]]),Kn(e,t)};ii(i,(e=>{s()&&void 0!==s()&&!isNaN(s().maxLength)&&s().maxLength?e(r):e(o,!1)}),!0),Kn(e,t)};ii(i,(e=>{s().component?e(r):e(u,!1)}),!0),Kn(e,t)};ii(i,(e=>{"switch"===s().type?e(r):e(u,!1)}),!0),Kn(e,t)};ii(i,(e=>{"tag"===s().type?e(r):e(u,!1)}),!0),Kn(e,t)};ii(i,(e=>{"boolean"===s().type?e(r):e(u,!1)}),!0),Kn(e,t)};ii(i,(e=>{"image"===s().type?e(r):e(u,!1)}),!0),Kn(e,t)};ii(i,(e=>{"button"===s().type?e(r):e(u,!1)}),!0),Kn(e,t)};ii(c,(e=>{"link"===s().type?e(d):e(f,!1)})),Te(u),lt((()=>{Ci(u,(s().hideOnMobile?" is-hidden-touch ":"")+(s().classes?` ${s().classes} `:"")),Ii(u,"title",yn(r))})),Kn(e,u),de(),i()}function qu(e,t,n,i,r){return e.preventDefault(),t("rowSelectChange",{id:yn(n),selected:i()[yn(n)]}),!1}var Hu=qn('<td><input type="checkbox" placeholder=""></td>'),Gu=qn("<tr><!><!></tr>");function Ku(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(o,"$selectedList",n);let o,s=gr(),a=me(void 0);fr((()=>{Ie(a,Fe(f()(l()))),o=Pu(t.id).selected}));let l=dr(t,"item",19,(()=>({}))),u=dr(t,"helpers",19,(()=>({}))),c=dr(t,"fields",19,(()=>[])),d=dr(t,"showSelect",3,!1),f=dr(t,"getItemId",3,(()=>{}));var h=Gu(),g=qe(h),v=e=>{var t=Hu(),n=qe(t);ki(n),n.__change=[qu,s,a,r,o],Te(t),lt((e=>{Ii(n,"id",`table-row-select-${e??""}`),Ii(n,"data-id",e),Ii(n,"name",`row_selected_${e??""}`)}),[()=>f()(l())]),Ri(n,(()=>r()[yn(a)]),(e=>{return t=o,n=bn(r)[yn(a)]=e,i=bn(r),t.set(i),n;var t,n,i})),Kn(e,t)};ii(g,(e=>{d()&&r()&&e(v)})),ai(Ge(g),17,c,si,((e,t)=>{Bu(e,{get field(){return yn(t)},get helpers(){return u()},get item(){return l()},get getItemId(){return f()}})})),Te(h),Kn(e,h),de(),i()}function Ju(e,t){try{t("searchChange",e.currentTarget.value.trim())}catch{return}}function Yu(e,t){t("goToPrevPage")}function Qu(e,t){t("goToNextPage")}function Zu(e,t){e.preventDefault();let n=e.target;return t("goToPage",parseInt(n.dataset.page)),!1}function Xu(e,t,n,i,r){Pu(t.id).selected.update((e=>(n().forEach((t=>{e[i()(t)]=r()})),e)))}Vn(["change"]);var ec=qn('<div class="field is-grouped"><!></div>'),tc=qn('<div class="field is-grouped"><!></div>'),nc=qn('<div class="field"><div class="control"><input class="input" type="text" placeholder="Поиск"></div></div>'),ic=qn('<th><input type="checkbox" id="table-row-select-page" placeholder="" name="row_selected_all"></th>'),rc=qn("<th><!></th>"),oc=qn('<a href="" class="pagination-link is-current" aria-current="page"> </a>'),sc=qn('<a href="" class="pagination-link"> </a>'),ac=qn("<li><!></li>"),lc=qn('<nav class="pagination is-centered" aria-label="pagination"><a href="" class="pagination-previous">Назад</a> <a href="" class="pagination-next">Вперед</a> <ul class="pagination-list"><!></ul></nav>'),uc=qn('<!> <!> <!> <table class="table"><thead><tr><!><!></tr></thead><tbody></tbody></table> <!>',1);Vn(["input","change","click"]);const cc="__dublicate__",dc={},fc=!1,hc="listAndCount",gc="count",vc="preprocessor",pc={ui:function(e,t){ce(t,!0);const[n,i]=ir();let r=gr(),o=dr(t,"helpers",19,(()=>({}))),s=dr(t,"state",31,(()=>Fe({}))),a=dr(t,"filter",31,(()=>Fe({}))),l=dr(t,"sorter",31,(()=>Fe({}))),u=dr(t,"fields",19,(()=>[])),c=dr(t,"selected",31,(()=>Fe({}))),d=dr(t,"items",31,(()=>Fe([]))),f=dr(t,"actions",19,(()=>[])),h=dr(t,"links",19,(()=>[])),g=dr(t,"search",15,""),v=dr(t,"showSearch",3,!0),p=dr(t,"showSelect",3,!0),m=dr(t,"selectAll",15,!1),y=dr(t,"getItemId",3,(e=>e._id));function b({detail:e}){try{r("searchChange",e)}catch{return}}function k({detail:e}){try{r("filterChange",e)}catch{return}}fr((()=>{p()&&Pu(t.id).selected.subscribe((e=>{c(e)})),Pu(t.id).refined.subscribe((e=>{if(d(e),p()){for(let e in c())d().some((t=>y()(t)===e))?Object.hasOwn(c(),e)||c(c()[e]=!1,!0):delete c()[e];c(c())}})),Pu(t.id).state.subscribe((e=>{s(e)}))}));var $=uc(),I=He($),O=e=>{var t=ec();ua(qe(t),{get values(){return h()}}),Te(t),Kn(e,t)};ii(I,(e=>{h().length&&e(O)}));var w=Ge(I,2),_=e=>{var t=tc();Yo(qe(t),{get values(){return f()}}),Te(t),Kn(e,t)};ii(w,(e=>{f().length&&e(_)}));var A=Ge(w,2),S=e=>{var n=Gn(),i=He(n),o=e=>{var n=Gn();const i=Je((()=>t.filterUI));pi(He(n),(()=>yn(i)),((e,t)=>{t(e,{get filter(){return a()},set filter(e){a(e)},$$events:{change:k,searchChange:b}})})),Kn(e,n)},s=e=>{var t=nc(),n=qe(t),i=qe(n);ki(i),i.__input=[Ju,r],Te(n),Te(t),Mi(i,g),Kn(e,t)};ii(i,(e=>{t.filterUI?e(o):e(s,!1)})),Kn(e,n)};ii(A,(e=>{v()&&e(S)}));var C=Ge(A,2),E=qe(C),L=qe(E),T=qe(L),x=e=>{var n=ic(),i=qe(n);ki(i),i.__change=[Xu,t,d,y,m],Te(n),Ri(i,m),Kn(e,n)};ii(T,(e=>{p()&&e(x)})),ai(Ge(T),17,u,si,((e,t)=>{var i=rc();const o=Je((()=>yn(t).path.substring(1)));var s=Je((()=>function(e){const t=e.path.substring(1);Object.hasOwn(l(),t)?l(l()[t]=-1*parseInt(l()[t]),!0):l({[t]:1}),r("sorterChange",l())}(yn(t))));i.__click=function(...e){yn(s)?.apply(this,e)};var a=qe(i),u=e=>{const n=Je((()=>l()[yn(o)]>0?"sort-up":"sort-down"));fl(e,{get font(){return yn(n)},get title(){return yn(t).title},pointable:!0})},c=e=>{var i=Hn();lt((()=>Qn(i,nr(Gr,"$LOCALE",n)[yn(t).title]))),Kn(e,i)};ii(a,(e=>{yn(t).sortable&&Object.hasOwn(l(),yn(o))?e(u):e(c,!1)})),Te(i),lt((()=>Ci(i,(yn(t).hideOnMobile?" is-hidden-touch":"")+(yn(t).sortable?" is-clickable":"")))),Kn(e,i)})),Te(L),Te(E);var N=Ge(E);ai(N,21,d,(e=>e._id),((e,n)=>{Ku(e,{get id(){return t.id},get item(){return yn(n)},get fields(){return u()},get helpers(){return o()},get showSelect(){return p()},get getItemId(){return y()},$$events:{rowSelectChange(e){Yi.call(this,t,e)}}})})),Te(N),Te(C);var F=Ge(C,2),U=e=>{var t=lc(),n=qe(t);n.__click=[Yu,r];var i=Ge(n,2);i.__click=[Qu,r];var o=Ge(i,2),a=qe(o),l=e=>{var t=Gn();ai(He(t),17,(()=>s().pagination.pages.list),si,((e,t)=>{var n=ac(),i=qe(n),o=e=>{var n=oc(),i=qe(n,!0);Te(n),lt((()=>{Ii(n,"aria-label",`Страница ${yn(t).index??""}`),Qn(i,yn(t).index+1)})),Kn(e,n)},s=e=>{var n=sc();n.__click=[Zu,r];var i=qe(n,!0);Te(n),lt((()=>{Ii(n,"aria-label",`Страница ${yn(t).index??""}`),Ii(n,"data-page",yn(t).index),Qn(i,yn(t).index+1)})),Kn(e,n)};ii(i,(e=>{yn(t).active?e(o):e(s,!1)})),Te(n),Kn(e,n)})),Kn(e,t)};ii(a,(e=>{s().pagination&&s().pagination.pages&&s().pagination.pages.list&&e(l)})),Te(o),Te(t),Kn(e,t)};ii(F,(e=>{s()?.pagination?.pages?.list.length>1&&e(U)})),Kn(e,$),de(),i()},links:[],actions:[],endless:!1,idField:"_id",getItemId:function(e){return e._id}};let mc=function(e){function t(e={}){var n;return $r(this,t),(n=br(this,t)).id="table-"+Math.random(),n.options={...pc,...e.options?e.options:{}},n.ui={},n.data={raw:[],filtered:[],refined:[],selected:{}},n.state={pagination:{items:{count:0,from:0,to:0},pages:{count:0,from:0,to:0,current:0,list:[]}}},n.working={},n.stores=function(e,t={raw:[],filtered:[],selected:{}}){if(!Uu(e)){if(!(Object.keys(t).length>0))throw new Error("store's props wasn't specified");Fu[e]={},Object.keys(t).forEach((function(n){Fu[e][n]=Xi(t[n])}))}return Fu[e]}(n.id,{raw:[],filtered:[],refined:[],selected:{},state:n.state,working:n.working}),n.stores.working.subscribe(n.onWorkingUpdate.bind(n)),n.stores.raw.subscribe(n.onRawUpdate.bind(n)),n.stores.filtered.subscribe(n.onFilteredUpdate.bind(n)),n.stores.refined.subscribe(n.onRefinedUpdate.bind(n)),n.stores.selected.subscribe(n.onSelectedUpdate.bind(n)),n.stores.state.subscribe(n.onStateUpdate.bind(n)),ho.objHas(e,"data")&&Array.isArray(e.data)&&n.stores.raw.update((function(t){return e.data})),n.setCombinedActionName(n.getOptions("interface.combinedAction",hc)),ho.objHas(n.options,"filter")?n.setFilter(n.options.filter,!0):n.resetFilter(),ho.objHas(n.options,"pager")?n.setPager(n.options.pager,!0):n.resetPager(),ho.objHas(n.options,"sorter")?n.setSorter(n.options.sorter,!0):n.resetSorter(!0),ho.objHas(n.options,"return")?n.setReturn(n.options.return):n.setReturn(),ho.objHas(n.options,"search")?n.setSearch(n.options.search,!0):n.setSearch(),n.render(),n.updateData(),xr(n,n)}return Lr(t,e),Sr(t,[{key:"onWorkingUpdate",value:function(e){return this.working=e,e}},{key:"onRawUpdate",value:function(e){return this.data.raw=e,e}},{key:"onFilteredUpdate",value:function(e){return this.data.filtered=e,this.refineFiltered(),e}},{key:"onRefinedUpdate",value:function(e){return this.data.refined=e,this.clearSelected(),e}},{key:"onStateUpdate",value:function(e){return this.state=e,e}},{key:"onSearchChange",value:function(e){e.length>3?this.setSearch(e):this.setSearch()}},{key:"onSorterChange",value:function(e){e?this.setSorter(e):this.resetSorter()}},{key:"onFilterChange",value:function({filter:e,actionName:t}){0===t.indexOf(hc)&&this.setCombinedActionName(t),e?this.setFilter(e):this.resetFilter()}},{key:"onSelectedUpdate",value:function(e){this.data.selected=e}},{key:"clearSelected",value:function(){this.data.selected={}}},{key:"getSelected",value:function(e=!1,t="refined"){let n=[];for(let i in this.data.selected)if(this.data.selected[i])if(e){let e=this.data[t].findIndex((function(e){return e._id===i}));e>-1&&n.push(this.data[t][e])}else n.push(i);return n}},{key:"getItemId",value:function(e){return this.getOptions("getItemId",pc.getItemId)(e)}},{key:"selectAll",value:function(){var e=this;this.stores.selected.update((function(){let t={};return e.data.filtered.forEach((function(n){t[e.getItemId(n)]=!0})),t}))}},{key:"selectNone",value:function(){var e=this;this.stores.selected.update((function(){let t={};return e.data.filtered.forEach((function(n){t[e.getItemId(n)]=!1})),t}))}},{key:"render",value:function(){var e=this;this.ui.table||(this.ui.table=new this.options.ui({target:this.options.targetEl,props:{filterUI:this.getOptions("filterUI",void 0),id:this.id,helpers:Object.assign({},this.getHelpers()),fields:this.getOptions("fields"),actions:this.getActions(),links:this.getLinks(),search:"",showSelect:this.getOptions("showSelect"),showSearch:this.getOptions("showSearch"),showSort:this.getOptions("showSort"),idField:this.getOptions("idField"),getItemId:this.getOptions("getItemId"),filter:this.getFilter()}})),this.ui.table.$on("searchChange",(function(t){return e.onSearchChange(t.detail)})),this.ui.table.$on("sorterChange",(function(t){return e.onSorterChange(t.detail)})),this.ui.table.$on("filterChange",(function(t){return e.onFilterChange(t.detail)})),this.ui.table.$on("goToPage",(function(t){return e.goToPage(t.detail)})),this.ui.table.$on("goToNextPage",(function(){return e.goToNext()})),this.ui.table.$on("goToPrevPage",(function(){return e.goToPrev()}))}},{key:"getActions",value:function(){return this.getOptions("actions",[])}},{key:"getLinks",value:function(){return this.getOptions("links",[])}},{key:"getHelpers",value:function(){return this.options.helpers||{}}},{key:"setWorking",value:function(e,t){var n=this;return this.stores.working.update((function(i){return so.set(e,i,n.getHelpers(),t),i})),this}},{key:"getWorking",value:function(e,t){let n=so.get(e,this.working,this.getHelpers());return void 0===n?t:n}},{key:"setState",value:function(e,t){var n=this;return this.stores.state.update((function(i){return so.set(e,i,n.getHelpers(),t),i})),this}},{key:"getState",value:function(e,t){let n=so.get(e,this.state,this.getHelpers());return void 0===n?t:n}},{key:"setOptions",value:function(e,t){return so.set(e,this.options,this.getHelpers(),t),this}},{key:"getOptions",value:function(e,t){let n=so.get(e,this.options,this.getHelpers());return void 0===n?t:n}},{key:"setFilter",value:function(e,t=!1){return this.setState("filter",e),t||(this.invalidateData(),this.updateData()),this}},{key:"resetFilter",value:function(){return this.setState("filter",{}),this}},{key:"getFilter",value:function(){return this.getState("filter")}},{key:"setPager",value:function(e,t=!1){return this.setState("pager",e),t||this.updateData(),this}},{key:"getDefaultPageNumber",value:function(){return isNaN(this.getOptions("pager.page"))?0:this.getOptions("pager.page")}},{key:"getDefaultPageSize",value:function(){return isNaN(this.getOptions("pager.size"))?20:this.getOptions("pager.size")}},{key:"resetPager",value:function(){this.setState("pager",{size:this.getDefaultPageSize(),page:this.getDefaultPageNumber()})}},{key:"getPager",value:function(){return this.getState("pager")}},{key:"setSorter",value:function(e,t=!1){return this.setWorking("sorter",e),t||(this.invalidateData(),this.updateData()),this}},{key:"resetSorter",value:function(e=!1){let t={_id:1};return this.setSorter(t,e)}},{key:"getSorter",value:function(){return this.getWorking("sorter")}},{key:"getSorterDirection",value:function(){try{let e=Object.keys(this.getSorter());return this.getSorter()[e[0]]}catch{return 1}}},{key:"getSearch",value:function(){return void 0!==this.getWorking("search")&&null!==this.getWorking("search")?this.getWorking("search"):""}},{key:"setSearch",value:function(e="",t=!1){return this.setWorking("search",e),t||(this.invalidateData(),this.updateData()),this}},{key:"getReturn",value:function(){return this.getWorking("return")}},{key:"setReturn",value:function(e=dc){return this.setWorking("return",e),this}},{key:"clearFilteredData",value:function(){this.stores.filtered.update((function(e){return e.splice(0,e.length),e}))}},{key:"clearRawData",value:function(){this.stores.raw.update((function(e){return e.splice(0,e.length),e}))}},{key:"clearRefinedData",value:function(){this.stores.refined.update((function(e){return e.splice(0,e.length),e}))}},{key:"invalidateData",value:function(){this.clearFilteredData(),this.isLive()&&this.clearRawData(),this.resetPager()}},{key:"isLive",value:function(){return this.getOptions("interface")&&this.getOptions("interface.factory")}},{key:"setUpdating",value:function(){this.setState("updating",!0)}},{key:"setUpdated",value:function(){this.setState("updating",!1)}},{key:"ifUpdating",value:function(){return this.getState("updating")}},{key:"getDataInterface",value:function(){let e=this.getOptions("interface.factory");return"function"==typeof e?e({}):e}},{key:"getLoadDataActionName",value:function(){return this.getOptions("interface.listAction")?this.getOptions("interface.listAction"):"list"}},{key:"setCombinedActionName",value:function(e=gc){this.setWorking("interface.combinedAction",e)}},{key:"getCombinedActionName",value:function(){return this.getWorking("interface.combinedAction")?this.getWorking("interface.combinedAction"):hc}},{key:"getCountActionName",value:function(){return this.getOptions("interface.countAction")?this.getOptions("interface.countAction"):gc}},{key:"loadData",value:function(){let e,t=this.getDataInterface().setFilter(this.getFilter()).setSorter(this.getSorter()).setReturn(this.getReturn()).setSearch(this.getSearch()).setPager(this.getPager());return e=this.getOptions("interface.combined",fc)?this.getCombinedActionName():this.getLoadDataActionName(),t["$"+e]()}},{key:"goToNext",value:function(){let e=isNaN(this.getState("pager.page"))?this.getDefaultPageNumber():this.getState("pager.page")+1;this.setState("pager.page",Math.min(e,this.getState("pagination.pages.to"))),this.updateData()}},{key:"goToPrev",value:function(){let e=isNaN(this.getState("pager.page"))?this.getDefaultPageNumber():this.getState("pager.page")-1;this.setState("pager.page",Math.max(e,this.getState("pagination.pages.from"))),this.updateData()}},{key:"goToFirst",value:function(){this.setState("pager.page",this.getState("pagination.pages.from")),this.updateData()}},{key:"goToLast",value:function(){this.setState("pager.page",this.getState("pagination.pages.to")),this.updateData()}},{key:"goToPage",value:function(e){this.setState("pager.page",e),this.updateData()}},{key:"testDataItem",value:function(e){var t=this.getSearch().toLowerCase();for(var n in e){if(e[n].toString().toLowerCase().indexOf(t)>-1)return!0}return!1}},{key:"getRowsCount",value:function(){var e=this;return this.getDataInterface().setFilter(this.getFilter())["$"+this.getCountActionName()]().then((function(t){e.updatePagination(t.count)})).catch((function(t){e.error(t)}))}},{key:"updatePagination",value:function(e){var t=this;this.log("update pagination",e),this.state.pagination.pages.list.splice(0,this.state.pagination.pages.list.length);let n=(this.getPager().page-0)*this.getPager().size+1,i=e%this.getPager().size?Math.floor(e/this.getPager().size)+1:Math.round(e/this.getPager().size),r=Math.max(0,this.getPager().page-6),o=Math.min(i-1,this.getPager().page+6),s=[],a=Math.min(n+this.getPager().size-1,e);for(let e=r;e<=o;e++)s.push({index:e,active:e===this.getPager().page});this.stores.state.update((function(l){return t.log("update pagination",l),l.pagination.items.count=e,l.pagination.items.from=n,l.pagination.items.to=a,l.pagination.pages.count=i,l.pagination.pages.from=r,l.pagination.pages.to=o,l.pagination.pages.current=t.getPager().page,l.pagination.pages.list.splice(0,l.pagination.pages.list.length,...s),l}))}},{key:"updateData",value:function(){var e=this;if(this.isLive()){if(this.ifUpdating())return;this.getOptions("endless",!1)||this.clearRawData(),this.setUpdating(),this.getOptions("interface.combined",fc)?this.loadData().then((function(t){let n=ho.objHas(t,"status")&&ho.objHas(t,"result");e.stores.filtered.update((function(i){return e.getOptions("endless",!1)||e.clearFilteredData(),n?i.push(...t.result.list):ho.objHas(t,"list")&&Array.isArray(t.list)?i.push(...t.list):Array.isArray(t)&&i.push(...t),i})),e.setWorking("lastCount",n?t.result.count:t.count)})).then((function(){e.updatePagination(e.getWorking("lastCount"))})).catch(this.error.bind(this)).then(this.setUpdated.bind(this)):this.loadData().then((function(t){e.stores.filtered.update((function(e){return e.push(...t),e}))})).then(this.getRowsCount.bind(this)).catch(this.error.bind(this)).then(this.setUpdated.bind(this))}else this.setUpdating(),this.processData(),this.setUpdated()}},{key:"getData",value:function(){return this.data}},{key:"processData",value:function(){var e=this;let t=this.getFilter();this.log(this.getData()),null!=t&&void 0!==t.filterSearch&&null!==t.filterSearch&&t.filterSearch.length>0?this.stores.filtered.update((function(t){return t.splice(0,t.length,...e.data.raw.filter(e.testDataItem.bind(e))),t})):this.stores.filtered.update((function(t){return t.splice(0,t.length,...e.data.raw),t}));let n=this.getSorter();null!=n&&this.stores.filtered.update((function(e){return e.sort((function(e,t){let i=so.get(n.sortByField,e,{}),r=so.get(n.sortByField,t,{});return isNaN(i)?void 0!==i&&void 0!==r&&i.localeCompare?i.localeCompare()*-n.sortDirection:0:(i<r?1:-1)*n.sortDirection})),e}))}},{key:"error",value:function(){this.options.logger&&this.options.logger.error(...arguments)}},{key:"log",value:function(){this.options.logger&&this.options.logger.log(...arguments)}},{key:"checkFieldsNames",value:function(){const e=":"+this.getOptions("idField");this.getOptions("fields",[]).forEach((function(t){e===t.path&&(t.path=t.path+cc)}))}},{key:"readFieldValue",value:function(e,t,n){if(e.indexOf(cc)>-1){const e=":"+this.getOptions("idField");return so.get(e,t,n)}return so.get(e,t,n)}},{key:"refineFiltered",value:function(){var e=this;let t=[];this.checkFieldsNames(),this.data.filtered.forEach((function(n,i){let r={};e.getOptions("idField")&&(r[e.getOptions("idField")]=n[e.getOptions("idField")]),e.getOptions("fields",[]).forEach((function(t){let o=null,s=e.readFieldValue(t.path,n,e.getOptions("helpers"));if(ho.objHas(t,vc)){try{o=t[vc](s,n,i)}catch(t){e.error("Error while preprocessing cell value",s,n,i),e.error(t)}so.set(t.path,r,o)}else so.set(t.path,r,s)})),t.push(r)})),this.stores.refined.update((function(e){return e.splice(0,e.length,...t),e}))}},{key:"$destroy",value:function(){for(let e in this.ui)this.ui[e].$destroy&&this.ui[e].$destroy(),delete this.ui[e]}}])}(io);var yc=qn("<!> <!>",1),bc=qn("<!> <!>",1);function kc(e,t){ce(t,!0);let n=me(!1),i=me(!1),r=dr(t,"container",19,(()=>({}))),o=dr(t,"loaderTitle",15,"Отправка данных на сервер"),s=dr(t,"loaderActive",15,!1),a=dr(t,"loaderSize",15,"container"),l=dr(t,"successTitle",15,"OK"),u=dr(t,"successMessage",15,""),c=dr(t,"errorTitle",15,"Error"),d=dr(t,"errorMessage",15,"");var f=bc(),h=He(f);return xo(h,{get loading(){return s()},set loading(e){s(e)},get title(){return o()},set title(e){o(e)},get size(){return a()},set size(e){a(e)}}),wa(Ge(h,2),cr(r,{children:(e,t)=>{var r=yc(),o=He(r),s=e=>{nu(e,{get title(){return c()},set title(e){c(e)},get message(){return d()},set message(e){d(e)}})};ii(o,(e=>{yn(i)&&e(s)}));var a=Ge(o,2),f=e=>{iu(e,{get title(){return l()},set title(e){l(e)},get message(){return u()},set message(e){u(e)}})};ii(a,(e=>{yn(n)&&e(f)})),Kn(e,r)},$$slots:{default:!0}})),Kn(e,f),de({showSuccess:function(e,t){Ie(i,!1),Ie(n,!0),null!=t&&u(t),null!=e&&l(e)},showError:function(e,t){Ie(n,!1),Ie(i,!0),null!=t&&d(t),null!=e&&c(e)},setLoading:function(){s(!0),Ie(n,!1),Ie(i,!1)},resetLoading:function(){s(!1)},hideAll:function(){s(!1),Ie(n,!1),Ie(i,!1)}})}var $c=new WeakMap,Ic=new WeakMap;let Oc=function(e){function t({target:e=null,name:n="Default",options:i={},working:r={},data:o={},ui:s=kc}){var a;return $r(this,t),Or(a=br(this,t,[{working:{name:`${n}ActionUI`,...r},options:i,data:o}]),$c,null),Or(a,Ic,null),e&&a.setOptions("target",e),wr($c,a,s),a.initUI(),a}return Lr(t,e),Sr(t,[{key:"initUI",value:function(){try{const e=this.getTargetEl();for(;e.children.length;)e.removeChild(e.firstChild);wr(Ic,this,new(Ir($c,this))({target:e,props:this.getOptions()}))}catch(e){this.error(e)}}},{key:"setLoading",value:function(){this.emit("loading"),Ir(Ic,this).setLoading()}},{key:"resetLoading",value:function(){this.emit("loaded"),Ir(Ic,this).resetLoading()}},{key:"destroy",value:function(){this.emit("destroy"),Ir(Ic,this)&&(Ir(Ic,this).$destroy&&Ir(Ic,this).$destroy(),Ir(Ic,this).destroy&&Ir(Ic,this).destroy(),wr(Ic,this,null)),this.setOptions(null),this.setWorking(null),this.setData(null)}},{key:"processResult",value:function(e){return e.status===Ha?(this.setFormSuccess(),!0):(this.setFormErrors(e),!1)}},{key:"setFormSuccess",value:function(){Ir(Ic,this).showSuccess(),this.emit("success")}},{key:"setFormErrors",value:function(e){const t={form:[],fields:{}};e.message&&t.form.push(e.message),e.errors&&Object.keys(e.errors).length>0&&(t.fields={...e.errors}),Ir(Ic,this).showError(t),this.emit("error",t)}},{key:"getTargetEl",value:function(){const e=this.getOptions("target",".container");if(e instanceof HTMLElement)return e;if("string"==typeof e)return document.querySelector(e);throw new Error("ActionUI parent element is not defined")}}])}(du),wc=function(){return Sr((function e(){$r(this,e)}),null,[{key:"addComponent",value:function(e,t){Js.add(e,t)}},{key:"addVariants",value:function(e,t){Qs.add(e,t)}},{key:"addField",value:function(e,t){Ys.add(e,t)}},{key:"actionFieldsInit",value:function(e,t,n){var i=this;Array.isArray(e)?e.forEach((function(e){i.actionFieldsInit(e,t,n)})):(ho.objHas(t,"fields")||(t.fields={}),ho.objHas(t.fields,e)||(t.fields[e]={}),null!=n&&void 0!==n[e]&&null!==n[e]&&(t.fields[e].value=n[e]))}}])}();Cr(wc,"validator",null);const _c={label:"",placeholder:"",enabled:!0,visible:!0,required:!0,validated:!1,valid:!1,errors:!1};function Ac(e,t={},n,i){let r={..._c};return i.contains(e)&&(r={...r,...i.get(e)}),t&&(r={...r,...t}),ho.objHas(r,"variantsSource")&&n.contains(r.variantsSource)?r.variants=n.get(r.variantsSource):r.variants&&0!==r.variants.length||(r.variants=[]),r}function Sc(e,t,n){return e[t].formErrors=[...n],e[t].validated=!0,e[t].inputStarted=!0,e[t].valid=!1,e[t].formLevelError=!0,e}function Cc(e,t){return e[t].formErrors=!1,e[t].validated=!0,e[t].valid=!0,e[t].formLevelError=!1,e}function Ec(e,t){return ho.objHas(e,t)&&e[t].enabled&&e[t].visible&&void 0!==e[t].value}var Lc,Tc,xc,Nc,Fc,Uc,Pc,Dc,Mc,Rc,jc,Vc,zc,Wc,Bc,qc,Hc,Gc,Kc,Jc,Yc={fieldInit:Ac,initFormByField:function e(t={},n=[],i,r,o,s){if(Array.isArray(n))n.forEach((function(n){return e(t,n,i,r,o,s)}));else{let e={};o&&ho.objHas(o,"mutations")&&ho.objHas(o.mutations,n)&&(e=o.mutations[n]),s&&ho.objHas(s,n)&&(e.value=s[n]),t[n]=Ac(n,e,i,r),o&&o.readonly&&(t[n].readonly=!0)}return t},setFieldInvalid:function(e,t,n,i){return e[t].errors=[...i],e[t].validated=!0,e[t].valid=!1,e[t].value=n,e},setFieldValid:function(e,t,n){e[t].errors=!1,e[t].validated=!0,e[t].valid=!0,e[t].value=n;for(let n in e)if(n!==t&&(Array.isArray(e[n].errors)&&0===e[n].errors.length&&(e[n].errors=!1),!1!==e[n].errors))break;return e},isFieldValid:function(e,t){return!Array.isArray(e[t].errors)},setFormFieldInvalid:Sc,setFormFieldValid:Cc,updateFormValidationStatus:function({form:e,formErrors:t,validationStatus:n}){if(Array.isArray(n.form)&&n.form.length?t.splice(0,t.length,...n.form):t.splice(0,t.length),n.fields)for(let t in n.fields)Array.isArray(n.fields[t])&&n.fields[t].length?Sc(e,t,n.fields[t]):Cc(e,t)},fieldIsVisibleAndFilled:Ec,setFieldsVisibility:function(e,t,n){return!!Array.isArray(t)&&(Object.keys(e).forEach((function(i){e[i].visible=t.includes(i)?n:!n})),!0)},setFieldValue:function(e,t,n){return!!ho.objHas(e,t)&&(e[t].value=n,!0)},collectData:function(e,t){let n={};return e.flat().forEach((function(e){Ec(t,e)&&(n[e]=t[e].value)})),n}};function Qc(){if(Tc)return Lc;Tc=1;const e=e=>Object.keys(e).reduce(((e,t)=>(e[t]=[],e)),{}),t=["fields","form"];return Lc=class{#e=!0;#t;constructor(e){this.#t=JSON.parse(JSON.stringify(e)),Object.keys(this.#t).forEach((e=>{t.includes(e)||delete this.#t[e]})),this.#e=0===this.#t.form.errors.length;const n=this.#n();for(let e of n)this.isFieldDirty(e)&&(this.#e=!1)}destroy(){this.#t=void 0}get clean(){return this.#e}static getDefaultResult(t){return{fields:e(t),form:{fields:e(t),errors:[],exceptions:[]}}}getReport(){return JSON.parse(JSON.stringify(this.#i()))}getDetailedReport(){return"object"==typeof this.#t?JSON.parse(JSON.stringify(this.#t)):void 0}isFieldDirty(e){return!(!Array.isArray(this.#t.fields[e])||!this.#t.fields[e].length)||!(!Array.isArray(this.#t.form.fields[e])||!this.#t.form.fields[e].length)}getCompleteResultForField(e){const t=[];return Array.isArray(this.#t.fields[e])&&t.push(...this.#t.fields[e]),Array.isArray(this.#t.form.fields[e])&&t.push(...this.#t.form.fields[e]),t}#i(){const e={clean:this.#e,fields:{},form:[]},t=this.#n();for(let n of t){const t=this.getCompleteResultForField(n);t.length&&(e.fields[n]=t)}return e.form=[...this.#t.form.errors],0===e.form.length&&delete e.form,e}#n(){const e=Object.keys(this.#t.fields),t=Object.keys(this.#t.form.fields);return[...new Set([...t,...e])]}}}function Zc(){if(Uc)return Fc;Uc=1;const e=function(){if(Nc)return xc;Nc=1;class e extends Error{constructor(e,t={},n=null){return super(e),this.options=t,this.adopt(n),this.fill(),this.getTime(),this}adopt(e){return e instanceof Error&&(this.parent=e),this}getStack(){return this.parent?this.parent.stack:this.stack}getDetails(){let e=this;return this.parent&&(e=this.parent),{columnNumber:e.columnNumber,fileName:e.fileName,lineNumber:e.lineNumber,name:e.name,message:e.message,stack:e.stack}}getTime(){let e=new Date;return this.env.date={timestamp:e.getTime(),offset:e.getTimezoneOffset()},this.env.date}filterEnv(e,t){let n={};for(let i of t)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}fill(){return this.env={browser:!1,node:!0,versions:Object.assign({},process.versions),vars:this.filterEnv(process.env,this.options.whitelist||["NODE_ENV"])},this}}return xc=e}();return Fc=class extends e{constructor(e,t={},n=null,i={}){return super(e,{fields:t,params:i},n),this}setFieldsErrors(e){this.options.fields=e}getFieldsErrors(){return this.options.fields}}}function Xc(){if(Rc)return Mc;Rc=1;const e=Qc(),t=Zc(),n=Dc?Pc:(Dc=1,Pc=async(e,t)=>{if("function"==typeof e)return"AsyncFunction"===e.constructor.name?await e(...t):e(...t)});Mc=async(t,n)=>{const r=e.getDefaultResult(n);return await i({validators:t,data:n,result:r}),await l({validators:t,data:n,result:r}),new e(r)};const i=async({validators:e,data:t,result:n})=>{for(let i in t)await r(i,t[i],e,n)},r=async(e,t,n,i)=>{const r=o(e,n);return await s(e,t,r,i)},o=(e,t)=>t&&t.fields&&t.fields[e]?t.fields[e]:[],s=async(e,i,r,o)=>{for(let s of r)try{await n(s.validator,[i])||a(e,s.message,o)}catch(n){n instanceof t||!s.message?a(e,n.message,o):a(e,s.message,o)}},a=(e,t,n)=>{n.fields[e].includes(t)||n.fields[e].push(t)},l=async({validators:e,data:t,result:n})=>{const i=u(e);await c(t,i,n)},u=e=>e&&e.form?e.form:[],c=async(e,t,n)=>{for(let i of t)try{await i(e)}catch(e){if(!e||"function"!=typeof e.getFieldsErrors)throw e;{const t=e.getFieldsErrors();Array.isArray(t.form)&&d(t.form,n),t.fields&&h(t.fields,n)}}},d=(e,t)=>{e.forEach((e=>{f(e,t)}))},f=(e,t)=>{t.form.errors.includes(e)||t.form.errors.push(e)},h=(e,t)=>{for(let n in e)g(n,e[n],t)},g=(e,t,n)=>{t.forEach((t=>{v(e,t,n)}))},v=(e,t,n)=>{Array.isArray(n.form.fields[e])||(n.form.fields[e]=[]),n.form.fields[e].includes(t)||n.form.fields[e].push(t)};return Mc}function ed(){if(Wc)return zc;Wc=1;const{composeFieldsValidators:e,composeFormValidators:t}=(Vc||(Vc=1,jc={composeFieldsValidators:(e,t)=>{if(t&&t.fields){const n=Object.keys(e),i={};return n.forEach((e=>{Array.isArray(t.fields[e])&&(i[e]=t.fields[e])})),i}return{}},composeFormValidators:(e,t)=>t?t.forms&&Array.isArray(t.forms[e])?t.forms[e]:Array.isArray(t.form)?t.form:[]:[]}),jc),n=Xc();return zc=i=>(r,o)=>{const s={fields:e(r,i),form:t(o,i)};return n(s,r)}}function td(){if(Gc)return Hc;Gc=1;const e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),{augmentFieldsValidators:t,augmentFormValidators:n}=function(){if(qc)return Bc;qc=1;const e=(e,t)=>{if(e.validator&&"function"==typeof e.validator){const n=e.validator,i={...e};return delete i.validator,i.validator=e=>n(e,t()),i}return e},t=(e,t)=>n=>e(n,t());return Bc={augmentFieldsValidators:(t,n)=>t.map((t=>e(t,n))),augmentFieldValidator:e,augmentFormValidators:(e,n)=>e.map((e=>t(e,n))),augmentFormValidator:t}}();Hc=(t,o)=>{if(null==t)return{fields:{},forms:{}};const s={};return e(t,"fields")&&(s.fields=i(t.fields,o)),e(t,"forms")?s.forms=r(t.forms,o):e(t,"form")&&(s.form=n(t.form,o)),s};const i=(e,n)=>{const i={};for(let r in e)Array.isArray(e[r])&&(i[r]=t(e[r],n));return i},r=(e,t)=>{const i={};for(let r in e)Array.isArray(e[r])&&(i[r]=n(e[r],t));return i};return Hc}var nd=function(){if(Jc)return Kc;Jc=1;const e=Xc(),t=ed(),n=td(),i=Qc();return Kc={name:"not-validation",Session:e,Runner:t,Builder:n,Result:i}}(),id=qn('<div><div class="field-label is-normal"><!></div> <div class="field-body"></div></div>'),rd=qn("<!> <!>",1),od=qn("<div></div>");function sd(e,t){ce(t,!0);let n=dr(t,"label",3,""),i=dr(t,"name",3,"generic field"),r=dr(t,"readonly",3,!1),o=dr(t,"horizontal",3,!1),s=dr(t,"controls",19,(()=>[])),a=dr(t,"classes",3,""),l=dr(t,"addons",3,!1),u=dr(t,"addonsCentered",3,!1),c=dr(t,"addonsRight",3,!1),d=dr(t,"grouped",3,!1),f=dr(t,"groupedMultiline",3,!1),h=dr(t,"groupedRight",3,!1),g=dr(t,"groupedCentered",3,!1),v=dr(t,"onchange",3,(()=>!0)),p=dr(t,"formFieldPrefix",3,"form-field-"),m=me(""),y=me(!1),b=me(void 0);fr((()=>{Ie(m,yn(m)+" "+a()),Ie(m,yn(m)+(l()?" has-addons ":"")),Ie(m,yn(m)+(u()?" has-addons-centered ":"")),Ie(m,yn(m)+(c()?" has-addons-right ":"")),Ie(m,yn(m)+(d()?" is-grouped ":"")),Ie(m,yn(m)+(f()?" is-grouped-multiline ":"")),Ie(m,yn(m)+(h()?" is-grouped-right ":"")),Ie(m,yn(m)+(g()?" is-grouped-centered ":"")),r()&&s().forEach((e=>{e.readonly=!0}));let e=s().filter((e=>"UIHidden"!==e.component));Ie(y,0===e.length);let t=s().map((e=>e.component)).join("_");Ie(b,`${p()}${t}-${i()}`)}));var k=Gn(),$=He(k),I=e=>{var t=Gn();ai(He(t),17,s,si,((e,t)=>{var n=Gn();const r=Je((()=>Js.get(yn(t).component)));pi(He(n),(()=>yn(r)),((e,n)=>{n(e,cr((()=>yn(t)),{get onchange(){return v()},get fieldname(){return i()}}))})),Kn(e,n)})),Kn(e,t)},O=e=>{var t=Gn(),r=He(t),a=e=>{var t=id(),r=qe(t),o=qe(r);const a=Je((()=>n()||s()[0].label));Fs(o,{get for(){return yn(b)},get label(){return yn(a)}}),Te(r);var l=Ge(r,2);ai(l,21,s,si,((e,t)=>{var n=Gn();const r=Je((()=>Js.get(yn(t).component)));pi(He(n),(()=>yn(r)),((e,n)=>{n(e,cr((()=>yn(t)),{get onchange(){return v()},get fieldname(){return i()}}))})),Kn(e,n)})),Te(l),Te(t),lt((()=>{Ci(t,`field is-horizontal ${yn(m)??""} ${yn(b)??""}`),Ii(l,"id",yn(b))})),Kn(e,t)},l=e=>{var t=od();ai(t,21,s,si,((e,t)=>{var n=rd();const r=Je((()=>Js.get(yn(t).component)));var o=He(n);Fs(o,{get for(){return`form-field-${yn(t).component??""}-${i()??""}`},get label(){return yn(t).label}}),pi(Ge(o,2),(()=>yn(r)),((e,n)=>{n(e,cr((()=>yn(t)),{get onchange(){return v()},get fieldname(){return i()}}))})),Kn(e,n)})),Te(t),lt((()=>Ci(t,`field ${yn(m)??""} ${yn(b)??""}`))),Kn(e,t)};ii(r,(e=>{o()?e(a):e(l,!1)}),!0),Kn(e,t)};ii($,(e=>{yn(y)?e(I):e(O,!1)})),Kn(e,k),de()}function ad(e,t,n){return e&&e.preventDefault(),t("submit",n()),!1}function ld(e,t){t("reject")}var ud=qn('<div><span class="title"> </span></div>'),cd=qn('<div class="notification is-success"><h3 class="form-success-message"> </h3></div>'),dd=qn('<h5 class="title is-5"> </h5>'),fd=qn('<h6 class="subtitle is-6"> </h6>'),hd=qn("<button> </button>"),gd=qn("<button> </button>"),vd=qn('<div class="edit-form-error notification is-danger"> </div>'),pd=qn('<div class="buttons is-grouped is-centered"><!> <!></div> <!>',1),md=qn("<div><!></div>"),yd=qn('<div class="column notification is-danger"> </div>'),bd=qn('<div class="columns"></div>'),kd=qn('<div class="notification is-danger"> </div>'),$d=qn("<span> </span>"),Id=qn('<div class="edit-form-error notification is-danger"></div>'),Od=qn("<button> </button>"),wd=qn("<button> </button>"),_d=qn('<!> <div class="buttons is-grouped is-centered"><!> <!></div>',1),Ad=qn("<!> <!> <!> <!> <!>",1),Sd=qn('<div class="form-container"><!> <!></div>');function Cd(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=gr(),s=me(Fe([])),a=me(!1),l=me(!1),u=me(!1),c=dr(t,"form",31,(()=>Fe({}))),d=dr(t,"loading",15,!1),f=dr(t,"loader",3,"container"),h=dr(t,"fields",19,(()=>[])),g=dr(t,"SUCCESS_TEXT",3,"Операция завершена"),v=dr(t,"WAITING_TEXT",3,"Отправка данных на сервер"),p=dr(t,"title",3,""),m=dr(t,"description",3,""),y=dr(t,"buttonsFirst",3,!1),b=dr(t,"horizontal",3,!1),k=dr(t,"submit",19,(()=>({caption:"Отправить",enabled:!0}))),$=dr(t,"cancel",19,(()=>({caption:"Назад",enabled:!0}))),I=Je((()=>yn(a)||yn(l)));function O(){return Yc.collectData(h(),c())}function w(e,t){Yc.setFieldsVisibility(c(),e,t)&&c(c())}function _(e){let t=e.detail;c(c()[t.field].value=t.value,!0),c(c()),o("change",t)}var A=Sd(),S=qe(A),C=e=>{var t=ud(),n=qe(t),i=qe(n,!0);Te(n),Te(t),lt((()=>{Ci(t,`${("page"===f()?"pageloader":"containerloader")??""} ${(d()?"is-active":"")??""}`),Qn(i,r()[v()])})),Kn(e,t)};ii(S,(e=>{"hidden"!==f()&&e(C)}));var E=Ge(S,2),L=e=>{var t=cd(),n=qe(t),i=qe(n,!0);Te(n),Te(t),lt((()=>Qn(i,r()[g()]))),Kn(e,t)},T=e=>{var t=Ad(),n=He(t),i=e=>{var t=dd(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()[p()]))),Kn(e,t)};ii(n,(e=>{p()&&e(i)}));var a=Ge(n,2),l=e=>{var t=fd(),n=qe(t,!0);Te(t),lt((()=>Qn(n,r()[m()]))),Kn(e,t)};ii(a,(e=>{m()&&e(l)}));var u=Ge(a,2),d=e=>{var t=pd(),n=He(t),i=qe(n),a=e=>{var t=hd();t.__click=[ld,o];var n=qe(t,!0);Te(t),lt((()=>{Ci(t,`button is-outlined ${$().classes??""}`),Qn(n,r()[$().caption])})),Kn(e,t)};ii(i,(e=>{$().enabled&&e(a)}));var l=Ge(i,2),u=e=>{var t=gd();t.__click=[ad,o,O];var n=qe(t,!0);Te(t),lt((()=>{t.disabled=yn(I),Ci(t,`button is-primary is-hovered ${k().classes??""}`),Qn(n,r()[k().caption])})),Kn(e,t)};ii(l,(e=>{k().enabled&&e(u)})),Te(n);var c=Ge(n,2),d=e=>{var t=vd(),n=qe(t,!0);Te(t),lt((e=>Qn(n,e)),[()=>yn(s).join(", ")]),Kn(e,t)};ii(c,(e=>{yn(s).length>0&&e(d)})),Kn(e,t)};ii(u,(e=>{y()&&e(d)}));var f=Ge(u,2);ai(f,17,h,si,((e,t)=>{var n=Gn(),i=He(n),r=e=>{var n=bd();ai(n,21,(()=>yn(t)),si,((e,t)=>{var n=Gn(),i=He(n),r=e=>{var n=Gn(),i=He(n),r=e=>{var n=md(),i=qe(n);const r=Je((()=>[c()[yn(t)]]));sd(i,{get controls(){return yn(r)},get name(){return yn(t)},get horizontal(){return b()},get label(){return c()[yn(t)].label},$$events:{change:_}}),Te(n),lt((()=>Ci(n,`column ${(c()[yn(t)].fieldSize?"is-"+c()[yn(t)].fieldSize:"")??""} `))),Kn(e,n)};ii(i,(e=>{c()[yn(t)].visible&&e(r)})),Kn(e,n)},o=e=>{var n=yd(),i=qe(n);Te(n),lt((()=>Qn(i,`Subfield '${yn(t)??""}' is not registered`))),Kn(e,n)};ii(i,(e=>{c()[yn(t)]&&c()[yn(t)].component?e(r):e(o,!1)})),Kn(e,n)})),Te(n),Kn(e,n)},o=e=>{var n=Gn(),i=He(n),r=e=>{var n=Gn(),i=He(n),r=e=>{const n=Je((()=>[c()[yn(t)]]));sd(e,{get controls(){return yn(n)},get name(){return yn(t)},get horizontal(){return b()},get label(){return c()[yn(t)].label},$$events:{change:_}})};ii(i,(e=>{c()[yn(t)].visible&&e(r)})),Kn(e,n)},o=e=>{var n=kd(),i=qe(n);Te(n),lt((()=>Qn(i,`Field '${yn(t)??""}' is not registered`))),Kn(e,n)};ii(i,(e=>{c()[yn(t)]&&c()[yn(t)].component?e(r):e(o,!1)}),!0),Kn(e,n)};ii(i,(e=>{Array.isArray(yn(t))?e(r):e(o,!1)})),Kn(e,n)}));var g=Ge(f,2),v=e=>{var t=_d(),n=He(t),i=e=>{var t=Id();ai(t,21,(()=>yn(s)),si,((e,t)=>{var n=$d(),i=qe(n,!0);Te(n),lt((()=>Qn(i,r()[yn(t)]))),Kn(e,n)})),Te(t),Kn(e,t)};ii(n,(e=>{yn(s).length>0&&e(i)}));var a=Ge(n,2),l=qe(a),u=e=>{var t=Od();t.__click=[ld,o];var n=qe(t,!0);Te(t),lt((()=>{Ci(t,`button ${($().classes?$().classes:"")??""}`),Qn(n,r()[$().caption])})),Kn(e,t)};ii(l,(e=>{$().enabled&&e(u)}));var c=Ge(l,2),d=e=>{var t=wd();t.__click=[ad,o,O];var n=qe(t,!0);Te(t),lt((()=>{t.disabled=yn(I),Ci(t,`button is-primary is-hovered ${(k().classes?k().classes:"")??""}`),Qn(n,r()[k().caption])})),Kn(e,t)};ii(c,(e=>{k().enabled&&e(d)})),Te(a),Kn(e,t)};ii(g,(e=>{y()||e(v)})),Kn(e,t)};ii(E,(e=>{yn(u)?e(L):e(T,!1)})),Te(A),Kn(e,A);var x=de({collectData:O,setFieldInvalid:function(e,t,n){c(Yc.setFieldInvalid(c(),e,t,n)),Ie(l,!0)},setFieldValid:function(e,t){c(Yc.setFieldValid(c(),e,t))},isFieldValid:function(e){return Yc.isFieldValid(c(),e)},setFormFieldInvalid:function(e,t){c(Yc.setFormFieldInvalid(c(),e,t)),o("field.invalid",{fieldName:e})},setFormFieldValid:function(e){c(Yc.setFormFieldValid(c(),e)),o("field.valid",{fieldName:e})},updateFormValidationStatus:function(e){if(Ie(a,!1),Ie(l,!1),Array.isArray(e.form)&&e.form.length?(yn(s).splice(0,yn(s).length,...e.form),Ie(a,!0)):yn(s).splice(0,yn(s).length),Ie(s,Fe(yn(s))),e.fields)for(let t of Object.keys(c()))Array.isArray(e.fields[t])&&e.fields[t].length?(Yc.setFormFieldInvalid(c(),t,e.fields[t]),Ie(l,!0)):Yc.setFormFieldValid(c(),t)},showSuccess:function(){Ie(u,!0)},setLoading:function(){d(!0)},resetLoading:function(){d(!1)},setFieldsVisibility:w,setVisibleFields:function(e){w(e,!0)},setInvisibleFields:function(e){w(e,!1)},setFieldValue:function(e,t){Yc.setFieldValue(c(),e,t)&&_({detail:{field:e,value:t}})},updateField:function(e,t){c(c()[e]={...c()[e],...t},!0),c(c())}});return i(),x}Vn(["click"]);const Ed={notReadonly:e=>({readonly:!e}),readonly:e=>({readonly:e}),enable:e=>({disabled:!e}),disable:e=>({disabled:e})};let Ld=function(){function e(){$r(this,e)}return Sr(e,null,[{key:"add",value:function(t,n){ho.objHas(yr(e,this,Td)._,t)||(yr(e,this,Td)._[t]=n)}},{key:"remove",value:function(t){ho.objHas(yr(e,this,Td)._,t)&&!Object.keys(Ed).includes(t)&&delete yr(e,this,Td)._[t]}},{key:"exec",value:function(t,n,i,r,o){return yr(e,this,Td)._[t](r,n,i,o)}}])}();var Td={_:{...Ed}};var xd=new WeakMap,Nd=new WeakMap,Fd=new WeakMap,Ud=new WeakMap,Pd=new WeakMap,Dd=new WeakMap,Md=new WeakSet;let Rd=function(e){function t({target:e=null,name:n="Default",options:i={},working:r={},data:o={},ui:s=Cd}){var a;return $r(this,t),_r(a=br(this,t,[{working:{name:`${n}Form`,...r},options:i,data:o}]),Md),Or(a,xd,null),Or(a,Nd,null),Or(a,Fd,null),Or(a,Ud,"default"),Or(a,Pd,new Ks),Or(a,Dd,null),wr(Dd,a,new Ks(Qs.getContent())),e&&a.setOptions("target",e),wr(xd,a,s),ho.objHas(i,"action")&&wr(Ud,a,i.action),a.initForm(),a}return Lr(t,e),Sr(t,[{key:"initForm",value:function(){this.getOptions("autoInit",!0)&&this.initLibs(),this.getOptions("autoRender",!0)&&this.initUI()}},{key:"initLibs",value:function(){this.initFields(),this.initVariants(),this.initValidator()}},{key:"reInit",value:function(){this.initLibs(),this.updateUI(),this.resetLoading()}},{key:"initFields",value:function(){const e=this.getFormManifest();ho.objHas(e,"fields")&&Ir(Pd,this).isEmpty()&&Ir(Pd,this).import(e.fields)}},{key:"initVariants",value:function(){this.getOptions("variants")&&Ir(Dd,this).import(this.getOptions("variants"))}},{key:"initValidator",value:function(){wr(Nd,this,nd.Runner(this.getFormValidators()))}},{key:"initUI",value:function(){try{const e=yr(Md,this,Bd).call(this,{manifest:this.getFormManifest(),formOptions:this.getFormOptions(),data:this.getFormData(),injectedProps:this.getFormInjectedProps()}),t=this.getFormTargetEl();for(;t.children.length;)t.removeChild(t.firstChild);wr(Fd,this,new(Ir(xd,this))({target:t,props:e})),yr(Md,this,jd).call(this),this.validateForm()}catch(e){this.error(e)}}},{key:"updateUI",value:function(){try{const e=yr(Md,this,Bd).call(this,{manifest:this.getFormManifest(),formOptions:this.getFormOptions(),data:this.getFormData(),injectedProps:this.getFormInjectedProps()});Ir(Fd,this).$set(e),this.validateForm()}catch(e){this.error(e)}}},{key:"validateForm",value:async function(){if(!this.getOptions("readonly",!1))try{const e=await Ir(Nd,this).call(this,Ir(Fd,this).collectData(),this.getFormAction());Ir(Fd,this).updateFormValidationStatus(e.getReport()),e.clean||this.emit("error",e.getReport())}catch(e){const t={form:[Pr.ERROR_DEFAULT,e.message]};Ir(Fd,this)&&Ir(Fd,this).updateFormValidationStatus(t),this.emit("error",t),ho.report(e)}}},{key:"submit",value:function(e){this.emit("submit",e)}},{key:"reject",value:function(){this.emit("reject")}},{key:"$on",value:function(){Ir(Fd,this)&&Ir(Fd,this).$on(...arguments)}},{key:"setLoading",value:function(){this.emit("loading"),Ir(Fd,this).setLoading()}},{key:"resetLoading",value:function(){this.emit("loaded"),Ir(Fd,this).resetLoading()}},{key:"destroy",value:function(){this.emit("destroy"),Ir(Fd,this)&&(Ir(Fd,this).$destroy&&Ir(Fd,this).$destroy(),Ir(Fd,this).destroy&&Ir(Fd,this).destroy(),wr(Fd,this,null)),wr(Nd,this,null),wr(Ud,this,null),wr(Pd,this,null),wr(Dd,this,null),this.setOptions(null),this.setWorking(null),this.setData(null)}},{key:"getName",value:function(){return this.getWorking("name")}},{key:"getFormAction",value:function(){return Ir(Ud,this)}},{key:"setFormAction",value:function(e){e&&e!==Ir(Ud,this)&&(wr(Ud,this,e),Ir(Fd,this)&&Ir(Fd,this).$destroy(),this.initForm())}},{key:"processResult",value:function(e){return e.status===Ha?(this.setFormSuccess(),!0):(this.setFormErrors(e),!1)}},{key:"setFormSuccess",value:function(){Ir(Fd,this).showSuccess(),this.emit("success")}},{key:"setFormErrors",value:function(e){if(this.getOptions("readonly",!1))return;const t={form:[],fields:{}};e.message&&t.form.push(e.message),e.errors&&Object.keys(e.errors).length>0&&(t.fields={...e.errors}),Ir(Fd,this).updateFormValidationStatus(t),this.emit("error",t)}},{key:"getVariant",value:function(e,t){let n=Ir(Dd,this).get(e).find((function(e){return e.id===t}));return n||null}},{key:"getFormTargetEl",value:function(){const e=this.getOptions("target",".form");if(e instanceof HTMLElement)return e;if("string"==typeof e)return document.querySelector(e);throw new Error("Form parent element is not defined")}},{key:"getFormValidators",value:function(){return this.getOptions("validators")?this.getOptions("validators",{}):(yr(Md,this,qd).call(this,"validators"),{})}},{key:"getFormManifest",value:function(){const e=this.getModelName();return e&&ho.getApp()?ho.getApp().getInterfaceManifest(e):this.getOptions("manifest",void 0)?this.getOptions("manifest",{}):(yr(Md,this,qd).call(this,"manifest"),{})}},{key:"getFormData",value:function(){return this.getData()?this.getData():(yr(Md,this,qd).call(this,"data"),{})}},{key:"getFormOptions",value:function(){return this.getOptions("ui",void 0)||this.getOptions("fields",void 0)?{ui:this.getOptions("ui",{}),fields:this.getOptions("fields",{})}:(yr(Md,this,qd).call(this,"options"),{ui:{},fields:{}})}},{key:"getFormInjectedProps",value:function(){return this.getOptions("injected",{})}},{key:"collectData",value:function(){if(this.getOptions("readonly",!1))return this.getData();const e=Ir(Fd,this).collectData();return this.setData({...e}),e}},{key:"updateField",value:function(e,t){Ir(Fd,this).updateField(e,t)}},{key:"getModel",value:function(e,t){return"string"==typeof e?this.getInterface(e)(t||{}):this.getInterface()(e||{})}},{key:"getInterface",value:function(e=!1){return ho.getApp().getInterface(e||this.getModelName())}},{key:"getModelName",value:function(){return this.getOptions("model")}}])}(du);function jd(){var e=this;Ir(Fd,this).$on("change",(function(){return e.validateForm()})),Ir(Fd,this).$on("change",(function(t){e.emit("change",t.detail),e.emit(`change.${t.detail.field}`,t.detail.value)})),Ir(Fd,this).$on("submit",(function(t){return e.submit(t.detail)})),Ir(Fd,this).$on("reject",(function(){return e.reject()})),Ir(Fd,this).$on("error",(function({detail:t}){return e.emit("error",t)})),yr(Md,this,Vd).call(this)}function Vd(){const e=this.getOptions("masters",!1);if(e)for(let t in e){const n=e[t];for(let e in n){const i=n[e];yr(Md,this,zd).call(this,e,t,i)}}}function zd(e,t,n=[]){var i=this;this.on(`change.${t}`,(function(r){yr(Md,i,Wd).call(i,e,t,n,r)})),this.emit(`change.${t}`,this.getFormData()[t])}function Wd(e,t,n,i){var r=this;const o=Ld.exec(e,t,n,i,this);n.forEach((function(e){r.updateField(e,o)}))}function Bd({manifest:e,formOptions:t={ui:{},fields:{}},data:n=null,injectedProps:i={}}){const r=Ir(Ud,this);null==t&&(t={ui:{},fields:{}});const o=Yc.initFormByField({},e.actions[r].fields,Ir(Dd,this),Ir(Pd,this),t.fields,n);return{loading:!this.getOptions("autoInit",!0),title:e.actions[r].title,description:e.actions[r].description,fields:e.actions[r].fields,form:o,...t.ui,...i}}function qd(e){this.error(`${e} for ${this.getWorking("name")} form is not defined`)}var Hd=qn('<div class="block-container"><div class="form-paper"></div> <!></div>');function Gd(e,t){ce(t,!0);let n=gr(),i=dr(t,"name",3,"default-form"),r=dr(t,"showModes",3,!1),o=dr(t,"mode",15,"default"),s=dr(t,"forms",19,(()=>[]));let a=me(Fe([]));function l(){Ie(a,Fe(s().filter((e=>o()!==e.mode)).map((e=>({title:e.title,outlined:!0,type:"link",action(){var t;t=e.mode,o(t),n("mode",t),l()}})))))}fr((()=>{l()}));var u=Hd(),c=qe(u),d=Ge(c,2),f=e=>{Yo(e,{centered:!0,classes:"mt-4",get values(){return yn(a)},set values(e){Ie(a,Fe(e))}})};ii(d,(e=>{r()&&e(f)})),Te(u),lt((()=>{Ii(u,"id",`${i()??""}-form-set`),Ii(c,"id",`${i()??""}-form-set-container`)})),Kn(e,u),de()}const Kd="form-set";var Jd=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Xd=new WeakSet;let ef=function(e){function t({options:e={},formComponent:n=Cd,formSetComponent:i=Gd}){var r;return $r(this,t),_r(r=br(this,t,[{options:{name:Kd,mode:"default",showModes:!0,...e}}]),Xd),Or(r,Jd,null),Or(r,Yd,null),Or(r,Qd,null),Or(r,Zd,null),wr(Yd,r,n),wr(Jd,r,i),r.setFormMode(r.getOptions("mode")),r.initUI(),r}return Lr(t,e),Sr(t,[{key:"initUI",value:function(){var e=this;const t=this.getFrameTargetEl();for(;t.children.length;)t.removeChild(t.firstChild);wr(Zd,this,new(Ir(Jd,this))({target:t,props:yr(Xd,this,tf).call(this)})),Ir(Zd,this).$on("mode",(function(t){e.setFormMode(t.detail),e.updateForm()})),this.updateForm()}},{key:"setFormMode",value:function(e){this.isModeExists(e)?this.setWorking("mode",e):(this.setWorking("mode",this.getFirstMode()),this.updateFormModeInUI())}},{key:"updateFormModeInUI",value:function(){Ir(Zd,this)&&null!==this.getWorking("mode")&&Ir(Zd,this).$set({mode:this.getWorking("mode")})}},{key:"getFormMode",value:function(){return this.getWorking("mode")}},{key:"updateForm",value:function(){this.destroyForm(),null!==this.getWorking("mode")&&this.renderForm()}},{key:"renderForm",value:function(){var e=this;const t=this.getFormTargetEl(),n=this.getFormConfig();if(!(t instanceof HTMLElement&&n))throw new Error("error while form rendering");const i=function(t){e.setFormMode(t),e.updateForm()};if(n.form){for(;t.children.length;)t.removeChild(t.firstChild);wr(Qd,this,new n.form({options:{target:t,changeMode:i}}))}else n.props&&wr(Qd,this,new(Ir(Yd,this))({target:t,...n.props,changeMode:i}))}},{key:"getFormConfig",value:function(){var e=this;return this.getOptions("forms").find((function(t){return t.mode===e.getFormMode()}))}},{key:"destroyForm",value:function(){const e=this.getFormTargetEl();if(e)for(;e.firstChild;)e.removeChild(e.lastChild);Ir(Qd,this)&&Ir(Qd,this).$destroy&&Ir(Qd,this).$destroy(),wr(Qd,this,null)}},{key:"destroyFrame",value:function(){Ir(Zd,this)&&Ir(Zd,this).$destroy&&Ir(Zd,this).$destroy(),wr(Zd,this,null)}},{key:"isModeExists",value:function(e){return this.getOptions("forms",[]).some((function(t){return t.mode===e}))}},{key:"getFirstMode",value:function(){const e=this.getOptions("forms",[]);return e.length>0?e[0].mode:null}},{key:"destroy",value:function(){wr(Jd,this,null),wr(Yd,this,null),this.destroyForm(),this.destroyFrame(),this.setData(null),this.setOptions(null),this.setWorking(null)}},{key:"getFrameTargetEl",value:function(){const e=this.getOptions("target",".form-set");if(e instanceof HTMLElement)return e;if("string"==typeof e)return document.querySelector(e);throw new Error("form set target is not HTMLElement or string")}},{key:"getFormTargetEl",value:function(){const e=this.getOptions("name",Kd);return document.querySelector(`#${e}-form-set-container`)}}])}(du);function tf(){return{showModes:this.getOptions("showModes",!0),mode:this.getFormMode(),forms:this.getOptions("forms",[]),name:this.getOptions("name",Kd)}}function nf(e,t){return"function"!=typeof t()||(e.preventDefault(),t()(e.currentTarget.dataset.href),!1)}var rf=qn('<li class="is-active"><a aria-current="page"> </a></li>'),of=qn('<li class="is-plain-crumb"> </li>'),sf=qn("<li><a> </a></li>"),af=qn('<nav class="breadcrumb" aria-label="breadcrumbs"><ul></ul></nav>');Vn(["click"]);let lf=function(){function e(){$r(this,e)}return Sr(e,null,[{key:"render",value:function({target:t,root:n="",navigate:i}){this.remove(),e.UIConstructor&&(this.ui=new e.UIConstructor({target:t,props:{items:this.getBreadcrumbs(),root:n,go:i}}))}},{key:"setHead",value:function(e){return this.head.splice(0,this.head.length,...e),this}},{key:"setTail",value:function(e){return this.tail.splice(0,this.tail.length,...e),this}},{key:"getBreadcrumbs",value:function(){let e=[];return e.push(...this.head),e.push(...this.tail),e}},{key:"update",value:function(){this.ui&&this.ui.$set({items:this.getBreadcrumbs()})}},{key:"remove",value:function(){return this.ui&&(this.ui.$destroy(),this.ui=null),this}}])}();var uf;Cr(lf,"UIConstructor",null),Cr(lf,"ui",null),Cr(lf,"head",[]),Cr(lf,"tail",[]),lf.UIConstructor=function(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"root",3,""),s=dr(t,"items",19,(()=>[])),a=dr(t,"go",3,null);var l=af(),u=qe(l);ai(u,21,s,si,((e,t,n)=>{var i=Gn(),l=He(i),u=e=>{var n=rf(),i=qe(n),s=qe(i,!0);Te(i),Te(n),lt((()=>{Ii(i,"href",`${o()??""}${yn(t).url??""}`),Ii(i,"data-href",yn(t).url),Qn(s,r()[yn(t).title])})),Kn(e,n)},c=e=>{var n=Gn(),i=He(n),s=e=>{var n=of(),i=qe(n,!0);Te(n),lt((()=>Qn(i,r()[yn(t).title]))),Kn(e,n)},l=e=>{var n=sf(),i=qe(n);i.__click=[nf,a];var s=qe(i,!0);Te(i),Te(n),lt((()=>{Ii(i,"href",`${o()??""}${yn(t).url??""}`),Ii(i,"data-href",yn(t).url),Qn(s,r()[yn(t).title])})),Kn(e,n)};ii(i,(e=>{!1===yn(t).url?e(s):e(l,!1)})),Kn(e,n)};ii(l,(e=>{s().length===n+1?e(u):e(c,!1)})),Kn(e,i)})),Te(u),Te(l),Kn(e,l),de(),i()};let cf=function(){return Sr((function e(){$r(this,e)}),null,[{key:"hide",value:function(){}},{key:"setApp",value:function(e){return this.app||(this.app=e),this}},{key:"setOptions",value:function(e){return this.options={...this.options,...e},this}},{key:"getOptionsPathTo",value:function(e){return`menu.${this.options.type}.${e}`}},{key:"isDirectNavigation",value:function(){return this.app?this.app.getOptions(this.getOptionsPathTo("directNavigation"),this.options.directNavigation):this.options.directNavigation}},{key:"getOptions",value:function(){return this.app?{brand:this.app.getOptions("brand",this.options.brand),items:this.app.getOptions(this.getOptionsPathTo("items"),this.options.items),sections:this.app.getOptions(this.getOptionsPathTo("sections"),this.options.sections),targetSelector:this.app.getOptions(this.getOptionsPathTo("targetSelector"),this.options.targetSelector),toggleSelector:this.app.getOptions(this.getOptionsPathTo("toggleSelector"),this.options.toggleSelector),open:this.app.getOptions(this.getOptionsPathTo("open"),this.options.open),directNavigation:this.app.getOptions(this.getOptionsPathTo("directNavigation"),this.options.directNavigation),root:this.app.getOptions("router.root",this.options.root),navigate:this.options.navigate.bind(this),getComponent:this.getComponent.bind(this)}:this.options}},{key:"getComponent",value:function(e){return!!Js.contains(e)&&Js.get(e)}},{key:"initField",value:function(e,t=[]){var n=this;e.forEach((function(e){t.forEach((function(t){Object.hasOwn(e,t)||(e[t]=n.DEFAULT[t])})),Object.hasOwn(e,"items")&&n.initField(e.items,t)}))}},{key:"sortList",value:function(e){var t=this;e.sort((function(e,n){return Object.hasOwn(e,"items")&&t.sortList(e.items),Object.hasOwn(n,"items")&&t.sortList(n.items),e.priority===n.priority?e.title>n.title?1:-1:e.priority<n.priority?1:-1}))}},{key:"removeDublicates",value:function(e){for(let t=0;t<e.length;t++){let n=e[t].priority;e.filter((function(n){return n.id===e[t].id})).forEach((function(t,i){0!==i&&(t.priority<n&&(n=t.priority),e.splice(e.indexOf(t),1))})),e[t].priority=n}return e}},{key:"prepareData",value:function(){let e=[];e.push(...this.getOptions().items);let t=[];t.push(...this.getOptions().sections),this.initField(t,["priority"]),this.removeDublicates(t),this.initField(e,["priority","section","type"]),this.sortList(t),t.push({id:this.DEFAULT.section,title:this.DEFAULT.sectionTitle}),this.sortList(e),this.sections=t,this.items=e}},{key:"remove",value:function(){this.menu&&(this.menu.$destroy(),this.menu=null,clearInterval(this.interval))}},{key:"updateIndicator",value:function(e,t,n){this.updateSection(e,(function(e){e.indicator.state=n})),this.updateItem(t,(function(e){e.indicator.state=n}))}},{key:"updateTag",value:function(e,t,n){this.updateSection(e,(function(e){e.tag=n})),this.updateItem(t,(function(e){e.tag=n}))}},{key:"updateSectionTag",value:function(e,t){this.updateSection(e,(function(e){e.tag={...e.tag,...t}}))}},{key:"updateItemTag",value:function(e,t){this.updateItem(e,(function(e){e.tag={...e.tag,...t}}))}},{key:"updateSection",value:function(e,t){if(this.sections&&e){for(let n in this.sections)this.sections[n].id===e&&t(this.sections[n]);this.menu&&this.menu.$set({sections:this.sections})}}},{key:"updateSectionItems",value:function(e,t){if(this.sections&&e){let n=this.items.filter((function(t){return t.section===e}));for(let e of n)this.items.splice(this.items.indexOf(e),1);this.items.push(...t(n)),this.menu&&this.menu.$set({items:this.items})}}},{key:"updateItem",value:function(e,t){e&&this.items&&(this.items.forEach((function(n){n.id===e&&t(n)})),this.menu&&this.menu.$set({items:this.items}))}},{key:"isTouch",value:function(){return Pr.isMobile(!0)}},{key:"getSectionComponent",value:function(){}}])}();function df(e,t){return e.preventDefault(),t()({full:e.target.getAttribute("href"),short:e.target.dataset.href}),!1}uf=cf,Cr(cf,"MAX_TOUCH_WIDTH",1023),Cr(cf,"DEFAULT",{section:"any",sectionTitle:"Меню",priority:0,type:"link",open:!1}),Cr(cf,"app",null),Cr(cf,"directNavigation",!1),Cr(cf,"menu",void 0),Cr(cf,"options",{directNavigation:!1,navigate:function(e){if(uf.hide(),!uf.isDirectNavigation()&&uf.app){let t=uf.app.getWorking("router");if(t)return t.navigate(e.short)}document.location.assign(e.full)}}),Cr(cf,"items",[]),Cr(cf,"sections",[]),Cr(cf,"location",void 0),Cr(cf,"interval",void 0);var ff=qn("<li><a> <!> <!></a></li>"),hf=qn("<li> <!> <!></li>");function gf(e,t,n){return e&&e.preventDefault()&&e.stopPropagation(),t(!t()),n()(t())||t(!t()),!1}Vn(["click"]);var vf=qn('<span class="icon is-small is-toggle-submenu is-pulled-right" role="button" tabindex="0"><i aria-hidden="true"></i></span>');function pf(e,t){ce(t,!0);const n="fa-angle-down",i="fa-angle-up";let r=dr(t,"icon_opened",19,(()=>n)),o=dr(t,"icon_closed",19,(()=>i)),s=dr(t,"closed",7),a=dr(t,"ontoggle",3,(()=>!0));var l=vf();l.__click=[gf,s,a],l.__keyup=[gf,s,a];var u=qe(l);Te(l),lt((()=>Ci(u,`fas ${(s()?o():r())??""}`))),Kn(e,l),de()}Vn(["click","keyup"]);var mf=qn('<span class="is-no-link"> </span>'),yf=qn("<!> <!> <!> <!>",1);function bf(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"item",19,(()=>({})));var o=yf(),s=He(o),a=e=>{fl(e,cr((()=>r().icon)))},l=e=>{var t=Gn(),i=He(t),o=e=>{var t=Gn();const n=Je((()=>Js.get(r().component)));pi(He(t),(()=>yn(n)),((e,t)=>{t(e,cr({get id(){return r().id}},(()=>r().props)))})),Kn(e,t)},s=e=>{var t=mf(),i=qe(t,!0);Te(t),lt((()=>Qn(i,nr(Gr,"$LOCALE",n)[r().title]))),Kn(e,t)};ii(i,(e=>{"component"===r().type&&r().component&&Js.contains(r().component)?e(o):e(s,!1)}),!0),Kn(e,t)};ii(s,(e=>{r().icon?e(a):e(l,!1)}));var u=Ge(s,2),c=e=>{bo(e,cr({get id(){return r().id}},(()=>r().tag)))};ii(u,(e=>{r().tag&&e(c)}));var f=Ge(u,2),h=e=>{Eo(e,cr({get id(){return r().id}},(()=>r().indicator)))};ii(f,(e=>{r().indicator&&e(h)})),vi(Ge(f,2),(()=>t.children??d)),Kn(e,o),de(),i()}function kf(e,t){return e.preventDefault(),t()({full:e.target.getAttribute("href"),short:e.target.dataset.href}),!1}var $f=qn('<a class="has-subitems"><!></a>'),If=qn("<li><!> <!></li>"),Of=qn("<ul></ul>");function wf(e,t){ce(t,!0);let n=dr(t,"root",3,""),i=dr(t,"items",19,(()=>[])),r=dr(t,"onnavigate",3,(()=>{}));let o=Fe((e=>{const t={};return e.forEach(((e,n)=>t[n]=e.closed)),t})(i()));var s=Of();ai(s,21,i,si,((e,t,i)=>{var s=Gn(),a=He(s),l=e=>{var s=If(),a=qe(s),l=e=>{var s=$f();s.__click=[kf,r],bf(qe(s),{get item(){return yn(t)},children:(e,t)=>{pf(e,{get closed(){return o[i]},set closed(e){o[i]=e}})},$$slots:{default:!0}}),Te(s),lt((()=>{Ii(s,"href",`${n()??""}${yn(t).url??""}`),Ii(s,"data-href",yn(t).url)})),Kn(e,s)},u=e=>{bf(e,{get item(){return yn(t)},children:(e,t)=>{pf(e,{get closed(){return o[i]},set closed(e){o[i]=e}})},$$slots:{default:!0}})};ii(a,(e=>{void 0!==yn(t).url&&!1!==yn(t).url?e(l):e(u,!1)})),wf(Ge(a,2),{get root(){return n()},get items(){return yn(t).items},get onnavigate(){return r()},get closed(){return o[i]},set closed(e){o[i]=e}}),Te(s),lt((()=>Ci(s,`is-no-follow-subtitle ${yn(t).classes??""}`))),Kn(e,s)},u=e=>{!function(e,t){ce(t,!0);const[n,i]=ir(),r=()=>nr(Gr,"$LOCALE",n);let o=dr(t,"root",3,""),s=dr(t,"item",19,(()=>({}))),a=dr(t,"onnavigate",3,(()=>{}));var l=Gn(),u=He(l),c=e=>{var t=ff(),n=qe(t);n.__click=[df,a];var i=qe(n),l=Ge(i),u=e=>{Eo(e,cr({get id(){return s().id}},(()=>s().tag)))};ii(l,(e=>{s().tag&&e(u)}));var c=Ge(l,2),d=e=>{Eo(e,cr({get id(){return s().id}},(()=>s().indicator)))};ii(c,(e=>{s().indicator&&e(d)})),Te(n),Te(t),lt((()=>{Ci(t,bi(s().classes)),Ii(n,"href",`${o()??""}${s().url??""}`),Ii(n,"data-href",s().url),Qn(i,`${r()[s().title]??""} `)})),Kn(e,t)},d=e=>{var t=hf(),n=qe(t),i=Ge(n),o=e=>{Eo(e,cr({get id(){return s().id}},(()=>s().tag)))};ii(i,(e=>{s().tag&&e(o)}));var a=Ge(i,2),l=e=>{Eo(e,cr({get id(){return s().id}},(()=>s().indicator)))};ii(a,(e=>{s().indicator&&e(l)})),Te(t),lt((()=>{Ci(t,`is-no-follow-subtitle ${s().classes??""}`),Qn(n,`${r()[s().title]??""} `)})),Kn(e,t)};ii(u,(e=>{void 0!==s().url&&!1!==s().url?e(c):e(d,!1)})),Kn(e,l),de(),i()}(e,{get root(){return n()},get item(){return yn(t)},get onnavigate(){return r()}})};ii(a,(e=>{yn(t).items&&yn(t).items.length?e(l):e(u,!1)})),Kn(e,s)})),Te(s),lt((()=>Ci(s,`menu-list ${(t.closed?"is-closed":"")??""}`))),Kn(e,s),de()}Vn(["click"]);var _f=qn("<p><!> <!> <!></p>"),Af=qn("<!> <!>",1);function Sf(e,t){ce(t,!0);const[n,i]=ir();let r=dr(t,"items",19,(()=>[])),o=dr(t,"root",3,""),s=dr(t,"onnavigate",3,(()=>{})),a=Je((()=>r().filter((e=>t.section.id===e.section))));var l=Af(),u=He(l),c=e=>{var i=Gn(),r=He(i),o=e=>{var i=_f(),r=qe(i),o=e=>{var n=Gn();const i=Je((()=>Js.get(t.section.component)));pi(He(n),(()=>yn(i)),((e,n)=>{n(e,cr({get id(){return t.section.id}},(()=>t.section.props)))})),Kn(e,n)},s=e=>{var i=Hn();lt((()=>Qn(i,nr(Gr,"$LOCALE",n)[t.section.title]))),Kn(e,i)};ii(r,(e=>{"component"===t.section.type&&t.section.component&&Js.contains(t.section.component)?e(o):e(s,!1)}));var a=Ge(r,2),l=e=>{Eo(e,cr({get id(){return t.section.id}},(()=>t.section.tag)))};ii(a,(e=>{t.section.tag&&e(l)}));var u=Ge(a,2),c=e=>{Eo(e,cr({get id(){return t.section.id}},(()=>t.section.indicator)))};ii(u,(e=>{t.section.indicator&&e(c)})),Te(i),lt((()=>Ci(i,`menu-label ${t.section.classes??""}`))),Kn(e,i)};ii(r,(e=>{(yn(a).length||t.section.component||t.section.tag||t.section.indicator)&&e(o)})),Kn(e,i)};ii(u,(e=>{t.section&&e(c)}));var d=Ge(u,2),f=e=>{wf(e,{get root(){return o()},get items(){return yn(a)},get onnavigate(){return s()}})};ii(d,(e=>{yn(a).length&&e(f)})),Kn(e,l),de(),i()}function Cf(e,t){ce(t,!0);let n=dr(t,"root",3,""),i=dr(t,"items",19,(()=>[])),r=dr(t,"sections",19,(()=>[])),o=dr(t,"navigate",3,null);function s(e){"function"==typeof o()&&o()(e)}var a=Gn();ai(He(a),17,r,si,((e,t)=>{Sf(e,{get section(){return yn(t)},get items(){return i()},get root(){return n()},onnavigate:s})})),Kn(e,a),de()}const Ef=Xi({open:!0});var Lf;const Tf="side";let xf=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t,null,[{key:"render",value:function(e){e&&this.setApp(e),this.prepareData(),this.menu||this.createUI()}},{key:"update",value:function(){this.menu&&(this.menu.$destroy(),this.createUI())}},{key:"createUI",value:function(){let e=document.querySelector(this.getOptions().targetSelector);e&&(this.menu=Zn(Cf,{target:e,props:{items:this.items,sections:this.sections,root:this.getOptions().root,navigate:this.getOptions().navigate}}),this.initSizeResponse(),this.interval=setInterval(this.updateMenuActiveItem.bind(this),200),this.bindToggle())}},{key:"itemIsActive",value:function(e){return(this.location+"/").indexOf(e+"/")>-1}},{key:"updateMenu",value:function(){var e=this;Array.from(document.querySelectorAll(this.getOptions().targetSelector+" a")).forEach((function(t){e.itemIsActive(t.getAttribute("href"))?t.classList.add("is-active"):t.classList.remove("is-active")}))}},{key:"updateMenuActiveItem",value:function(){let e=window.location.toString(),t=this.location;t?e!==t&&(this.location=e,this.updateMenu()):(this.location=e,this.updateMenu())}},{key:"initSizeResponse",value:function(){this.nav=document.querySelector("nav.navbar"),this.aside=document.querySelector("aside"),this.main=document.querySelector("main"),this.resizeAsideAndMain(this.aside,this.main,this.nav),this.resizeMain(this.main,this.aside),window.addEventListener("resize",this.resizeMain.bind(this)),this.isTouch()&&(this.getOptions().open?this.show():this.hide())}},{key:"resizeMain",value:function(){if(this.isTouch())this.aside.classList.contains("is-active")?this.main.style.display="none":(this.main.style.display="block",this.main.style.marginLeft="0px");else{let e=this.aside.getBoundingClientRect();this.main.style.display="block","0px"===this.main.style.height&&(this.main.style.height="auto"),this.main.style.marginLeft=e.width+e.left+"px"}}},{key:"resizeAside",value:function(){if("none"!==this.aside.style.display){let e=this.nav.getBoundingClientRect();this.aside.style.height=window.innerHeight-e.height+"px",this.aside.style.marginTop=e.height+"px"}}},{key:"resizeAsideAndMain",value:function(){let e=this.nav.getBoundingClientRect();this.aside.style.height=window.innerHeight-e.height+"px"}},{key:"bindToggle",value:function(){var e=this;let t=document.querySelectorAll(this.getOptions().toggleSelector);Array.from(t).forEach((function(t){t.removeEventListener("click",e.toggle.bind(e)),t.addEventListener("click",e.toggle.bind(e))}))}},{key:"toggle",value:function(e){return e&&e.preventDefault(),this.aside&&(this.isTouch()?this.aside.classList.toggle("is-active"):this.aside.classList.toggle("is-closed"),this.resizeMain()),!1}},{key:"hide",value:function(e){return e&&e.preventDefault(),this.aside&&(this.isTouch()?this.aside.classList.remove("is-active"):this.aside.classList.add("is-closed"),this.resizeMain()),Ef.update((function(e){return e.open=!1,e})),!1}},{key:"show",value:function(e){return e&&e.preventDefault(),this.aside&&(this.isTouch()?this.aside.classList.add("is-active"):this.aside.classList.remove("is-closed"),this.resizeMain()),Ef.update((function(e){return e.open=!0,e})),!1}},{key:"isOpen",value:function(){return!this.aside||(this.isTouch()?this.aside.classList.contains("is-active"):!this.aside.classList.contains("is-closed"))}}])}(cf);Lf=xf,Cr(xf,"nav",void 0),Cr(xf,"main",void 0),Cr(xf,"aside",void 0),Cr(xf,"DEFAULT",{section:"any",sectionTitle:"Меню",priority:0,open:!0,type:"link"}),Cr(xf,"options",{directNavigation:!1,type:Tf,items:[],sections:[],targetSelector:`#${Tf}-menu`,toggleSelector:`.${Tf}-menu-toggle`,root:"/",open:!0,navigate:function(e){if(Lf.isTouch()&&(Lf.hide(),Lf.app&&Lf.app.emit("top-navbar-burger:update",{closed:!0})),!Lf.isDirectNavigation()&&Lf.app){let t=Lf.app.getWorking("router");if(t)return t.navigate(e.short)}document.location.assign(e.full)}});var Nf=qn('<a class="navbar-item"><!> <!></a>');var Ff=qn("<!> <!> <!>",1);function Uf(e,t){ce(t,!0);const[n,i]=ir();var r=Ff(),o=He(r),s=e=>{$l(e,cr((()=>t.item.icon)))},a=e=>{var i=Gn(),r=He(i),o=e=>{var n=Gn();const i=Je((()=>Js.get(t.item.component)));pi(He(n),(()=>yn(i)),((e,n)=>{n(e,cr({get id(){return t.item.id}},(()=>t.item.props)))})),Kn(e,n)},s=e=>{var i=Hn();lt((()=>Qn(i,nr(Gr,"$LOCALE",n)[t.item.title]))),Kn(e,i)};ii(r,(e=>{"component"===t.item.type&&t.item.component&&Js.contains(t.item.component)?e(o):e(s,!1)}),!0),Kn(e,i)};ii(o,(e=>{t.item.icon?e(s):e(a,!1)}));var l=Ge(o,2),u=e=>{bo(e,cr({top:!0,right:!0,size:"small",get id(){return t.item.id}},(()=>t.item.tag)))};ii(l,(e=>{t.item.tag&&e(u)}));var c=Ge(l,2),d=e=>{Eo(e,cr({get id(){return t.item.id}},(()=>t.item.indicator)))};ii(c,(e=>{t.item.indicator&&e(d)})),Kn(e,r),de(),i()}function Pf(e,t,n){t("click",{event:e,element:n()})}var Df=qn("<hr>"),Mf=qn("<a><!></a>"),Rf=qn('<div role="button" tabindex="0"><!></div>'),jf=qn("<!> <!>",1);function Vf(e,t){ce(t,!0);const n=gr();let i=dr(t,"root",3,""),r=dr(t,"item",19,(()=>({}))),o=dr(t,"hidden",3,""),s=dr(t,"classes",3,"");var a=jf(),l=He(a),u=e=>{var t=Df();lt((()=>Ci(t,`navbar-divider ${(o()?`is-hidden-${o()}`:"")??""} `))),Kn(e,t)};ii(l,(e=>{r().break&&e(u)}));var c=Ge(l,2),d=e=>{var t=Mf();t.__click=[Pf,n,r],Uf(qe(t),{get item(){return r()}}),Te(t),lt((()=>{Ci(t,`navbar-item ${(o()?`is-hidden-${o()}`:"")??""} ${r().classes??""} ${s()??""} `),Ii(t,"href",`${i()??""}${r().url??""}`),Ii(t,"data-href",r().url)})),Kn(e,t)},f=e=>{var t=Rf();t.__click=[Pf,n,r],t.__keyup=[Pf,n,r],Uf(qe(t),{get item(){return r()}}),Te(t),lt((()=>Ci(t,`navbar-item ${(o()?`is-hidden-${o()}`:"")??""} ${r().classes??""} ${s()??""}`))),Kn(e,t)};ii(c,(e=>{r().url?e(d):e(f,!1)})),Kn(e,a),de()}function zf(e,t,n){t("click",{event:e,element:n()})}Vn(["click","keyup"]);var Wf=qn('<div><a href=""><!></a> <div></div></div>'),Bf=qn("<a><!></a>"),qf=qn('<div role="button" tabindex="0"><!></div>');function Hf(e,t){ce(t,!0);const n=gr();let i=dr(t,"root",3,""),r=dr(t,"section",19,(()=>({}))),o=dr(t,"items",19,(()=>[])),s=dr(t,"hidden",3,""),a=dr(t,"hoverable",3,!0),l=dr(t,"arrowless",3,!1),u=dr(t,"right",3,!1);var c=Gn(),d=He(c),f=e=>{var c=Wf(),d=qe(c);d.__click=[zf,n,r],Uf(qe(d),{get item(){return r()}}),Te(d);var f=Ge(d,2);ai(f,21,o,(e=>e.id),((e,n)=>{Vf(e,{get root(){return i()},get item(){return yn(n)},$$events:{click(e){Yi.call(this,t,e)}}})})),Te(f),Te(c),lt((()=>{Ci(c,`navbar-item has-dropdown ${(a()?"is-hoverable":"")??""} ${(s()?`is-hidden-${s()}`:"")??""} `),Ci(d,`navbar-link ${(l()?"is-arrowless":"")??""}`),Ci(f,`navbar-dropdown ${(u()?"is-right":"")??""}`)})),Kn(e,c)},h=e=>{var t=Gn(),o=He(t),a=e=>{var t=Bf();t.__click=[zf,n,r],Uf(qe(t),{get item(){return r()}}),Te(t),lt((()=>{Ci(t,`navbar-item ${(s()?`is-hidden-${s()}`:"")??""} `),Ii(t,"href",`${i()??""}${r().url??""}`),Ii(t,"data-href",r().url)})),Kn(e,t)},l=e=>{var t=qf();t.__click=[zf,n,r],t.__keyup=[zf,n,r],Uf(qe(t),{get item(){return r()}}),Te(t),lt((()=>Ci(t,`navbar-item ${(s()?`is-hidden-${s()}`:"")??""} `))),Kn(e,t)};ii(o,(e=>{r().url?e(a):e(l,!1)}),!0),Kn(e,t)};ii(d,(e=>{o().length?e(f):e(h,!1)})),Kn(e,c),de()}function Gf(e,t,n){return e.preventDefault(),t(!t()),n("toggle",{closed:t()}),!1}Vn(["click","keyup"]);var Kf=qn('<a href="" role="button" aria-label="menu" aria-expanded="false" data-target="navbar"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a>');function Jf(e,t){ce(t,!0);const n=gr();let i=dr(t,"events",31,(()=>Fe({}))),r=dr(t,"register",19,(()=>ho.registerWidgetEvents.bind(ho))),o=dr(t,"closed",15,!0),s=dr(t,"onUpdate",3,(e=>{o(e.closed)}));fr((()=>{ho.objHas(i(),"top-navbar-burger:update")||i(i()["top-navbar-burger:update"]=s(),!0),r()(i())})),Ef.subscribe((e=>(o(!e.open),e)));var a=Kf();a.__click=[Gf,o,n],lt((()=>Ci(a,`navbar-burger ${(o()?"":"is-active")??""}`))),Kn(e,a),de()}Vn(["click"]);var Yf,Qf=qn('<div class="navbar-brand"><!> <!> <!> <!></div> <div id="navbar"><div class="navbar-start"></div> <div class="navbar-end"></div></div>',1);function Zf(e,t){ce(t,!0);const n=gr();let i=dr(t,"sections",19,(()=>[])),r=dr(t,"items",19,(()=>[])),o=dr(t,"root",3,""),s=dr(t,"navigate",3,null),a=dr(t,"brand",3,!1),l=dr(t,"showBurger",3,!0),u=dr(t,"burgerControlsSidemenu",3,!0),c=me(!0);function d({detail:e}){let{event:t,element:n}=e;return Object.hasOwn(n,"action")?n.action(t,n):(t.preventDefault(),"function"==typeof s()&&s()({full:t.currentTarget.getAttribute("href"),short:t.currentTarget.dataset.href}),!1)}let f={},h={};function g({detail:e}){u()?xf.toggle():(n("toggleBurger",e),Ie(c,Fe(e.closed)))}var v=Qf(),p=He(v),m=qe(p),y=e=>{!function(e,t){let n=dr(t,"url",3,"/"),i=dr(t,"title",3,""),r=dr(t,"icon",19,(()=>({src:"https://via.placeholder.com/56x28",width:28,height:56})));var o=Nf(),s=qe(o);$l(s,cr(r));var a=Ge(s,2),l=e=>{var t=Gn();hi(He(t),(()=>`<span class="navbar-item-brand-title">${i()}</span>`)),Kn(e,t)};ii(a,(e=>{i()&&e(l)})),Te(o),lt((()=>Ii(o,"href",n()))),Kn(e,o)}(e,cr(a))};ii(m,(e=>{a()&&e(y)}));var b=Ge(m,2);ai(b,17,i,(e=>e.id),((e,t)=>{var n=Gn(),i=He(n),r=e=>{Vf(e,{hidden:"desktop",get item(){return yn(t)},get root(){return o()},$$events:{click:d}})};ii(i,(e=>{yn(t).showOnTouch&&e(r)})),Kn(e,n)}));var k=Ge(b,2);ai(k,17,r,(e=>e.id),((e,t)=>{var n=Gn(),i=He(n),r=e=>{Vf(e,{hidden:"desktop",get item(){return yn(t)},get root(){return o()},$$events:{click:d}})};ii(i,(e=>{yn(t).showOnTouch&&e(r)})),Kn(e,n)}));var $=Ge(k,2),I=e=>{Jf(e,{$$events:{toggle:g}})};ii($,(e=>{l()&&e(I)})),Te(p);var O=Ge(p,2),w=qe(O);ai(w,21,r,si,((e,t)=>{var n=Gn(),i=He(n),r=e=>{Vf(e,{hidden:"touch",get item(){return yn(t)},$$events:{click:d}})};ii(i,(e=>{"start"===yn(t).place&&e(r)})),Kn(e,n)})),Te(w);var _=Ge(w,2);ai(_,21,i,(e=>e.id),((e,t)=>{var n=Gn(),i=He(n),r=e=>{Hf(e,{right:!0,get hidden(){return yn(t).hidden},get root(){return o()},get section(){return yn(t)},get items(){return h[yn(t).id]},$$events:{click:d}})};ii(i,(e=>{(f[yn(t).id]||yn(t).indicator||yn(t).tag)&&"end"==yn(t).place&&e(r)})),Kn(e,n)})),Te(_),Te(O),lt((()=>Ci(O,`navbar-menu ${(yn(c)?"":"is-active")??""}`))),Kn(e,v),de()}let Xf=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t,null,[{key:"render",value:function(e){if(e&&this.setApp(e),this.prepareData(),!this.menu){let e=document.querySelector(this.getOptions().targetSelector);if(!e)return;this.menu=Zn(Zf,{target:e,props:{brand:this.getOptions().brand,items:this.items,sections:this.sections,root:this.getOptions().root,navigate:this.getOptions().navigate}}),this.interval=setInterval(this.updateMenuActiveItem.bind(this),200)}}},{key:"updateMenu",value:function(e){Array.from(document.querySelectorAll(this.getOptions().targetSelector+" aside.menu a")).forEach((function(t){t.href==e||e.href&&0==e.href.indexOf(t.href)?t.classList.add("is-active"):t.classList.remove("is-active")}))}},{key:"updateMenuActiveItem",value:function(){let e=window.location.toString(),t=this.location;t?e!==t&&(this.location=e,this.updateMenu(e)):(this.location=e,this.updateMenu(e))}},{key:"toggle",value:function(){document.querySelector(this.getOptions().targetSelector).classList.toggle("is-active")}},{key:"hide",value:function(){document.querySelector(this.getOptions().targetSelector).classList.remove("is-active")}},{key:"setBurgerState",value:function(e){this.menu.$set({menuClosed:e})}}])}(cf);Yf=Xf,Cr(Xf,"DEFAULT",{section:"any",sectionTitle:"Меню",priority:0,type:"link",place:"main"}),Cr(Xf,"options",{brand:!1,type:"top",items:[],sections:[],targetSelector:"#top-menu",root:"/",directNavigation:!1,navigate:function(e){if(Yf.hide(),!Yf.isDirectNavigation()&&Yf.app){let t=Yf.app.getWorking("router");if(t)return t.navigate(e.short)}document.location.assign(e.full)}});const eh=function(e){return Object.hasOwn(e,"status")&&Object.hasOwn(e,"result")?e.result:e};const th=["create","update","list","delete","details"];let nh=function(){return Sr((function e(){$r(this,e)}),null,[{key:"preload",value:async function(e,t="list"){try{if(!th.includes(t))return;let n=e.getOptions(`${t}.preload`,{});if(0==Object.keys(n).length&&(n=e.getOptions("preload",{})),Object.keys(n).length>0){let i=Object.keys(n),r=[];i.forEach((function(t){let i=ho.lowerFirstLetter(n[t]),o=e.make[i]({});r.push(o.$listAll())}));let o=await Promise.all(r);for(let n=0;n<i.length;n++){const r=i[n];if("ok"===o[n].status&&Array.isArray(o[n].result)){const i=o[n].result.map((function(e){return{id:e._id,title:e.title}}));e.setOptions(`variants.${t}.${r}`,i)}}}e.log("preload finished")}catch(t){e.report(t),e.showErrorMessage(t)}}}])}();let ih=function(){function e(){$r(this,e)}return Sr(e,null,[{key:"extractActionName",value:function(e,t){let n="list";return 1===t.length?n="create"===t[0]?"create":e.actionHandlerExists(t[0])?t[0]:"details":t.length>1&&(n="delete"===t[1]?"delete":"update"===t[1]?"update":t[1]),n}},{key:"route",value:function(t,n){try{const i=e.extractActionName(t,n);return t.setCurrentAction(i),t.runAction(i,n)}catch(e){t.report(e),t.showErrorMessage(e)}}}])}(),rh=function(){return Sr((function e(){$r(this,e)}),null,[{key:"error",value:function(e,t,n){e.setUI("__message__",new nu({target:e.getContainerInnerElement(),props:{title:t,message:n}}))}},{key:"success",value:function(e,t,n){e.setUI("__message__",new iu({target:e.getContainerInnerElement(),props:{title:t,message:n}}))}}])}();const oh="Просмотр";let sh=function(){return Sr((function e(){$r(this,e)}),null,[{key:"NAVIGATION_DELAY",get:function(){return Ka}},{key:"deafultBreadcrumbsTail",get:function(){return oh}},{key:"breadcrumbsTails",get:function(){return{preset:oh,set:'Просмотр, "{:title}"'}}},{key:"getBreadcrumbsTail",value:function(e){return this.breadcrumbsTails?ho.select(this.breadcrumbsTails,e,this.deafultBreadcrumbsTail):""}},{key:"ACTION",get:function(){return"details"}},{key:"MODEL_ACTION_GET",get:function(){return"get"}},{key:"MODEL_ACTION_PUT",get:function(){return"get"}},{key:"UIConstructor",get:function(){return Rd}},{key:"TRANSFORMER",get:function(){return eh}},{key:"getIdField",value:function(e){return e.getOptions(`${this.ACTION}.idField`,"_id")}},{key:"loadDataQuery",value:function(e,t){const n=this.getIdField(e);return{[n]:t[0]}}},{key:"loadData",value:async function(e,t){const n=this.loadDataQuery(e,t),i=this.getModelActionName(e);return await e.getModel(n)[`$${i}`]()}},{key:"getModelActionName",value:function(e){return e.getOptions(`${this.ACTION}.actionName`,this.MODEL_ACTION_GET)}},{key:"presetBreadcrumbs",value:function(e,t){e.setBreadcrumbs([{title:this.getBreadcrumbsTail("preset"),url:e.getModelActionURL(t[0],!1)}])}},{key:"getTitle",value:function(e,t,n){return e.getItemTitle(n.result)}},{key:"setBreadcrumbs",value:function(e,t,n){const i=this.getTitle(e,t,n),r=this.getBreadcrumbsTail("set");e.setBreadcrumbs([{title:r?po.format(r,{title:i}):i,url:e.getModelActionURL(t[0],!1)}])}},{key:"isResponseBad",value:function(e){return!e||"ok"!==e.status}},{key:"getValidators",value:function(e){return e.getValidators&&e.getValidators()||e.getOptions("Validators")}},{key:"prepareUIOptions",value:function(e,t){const n=this.getModelActionName(e);return{options:{target:e.getContainerInnerElement(),model:e.getModelName(),action:n,name:`${e.getName()}.${this.ACTION}Form`,fields:{readonly:!0},validators:this.getValidators(e),variants:e.getOptions(`variants.${this.ACTION}`,{}),masters:e.getOptions(`${this.ACTION}.masters`,{}),injected:e.getOptions(`${this.ACTION}.injected`,{})},data:this.TRANSFORMER(t.result)}}},{key:"getUI",value:function(e){return e.getUI(this.ACTION)}},{key:"setUI",value:function(e,t){e.setUI(this.ACTION,t)}},{key:"setUILoading",value:function(e){this.getUI(e).$set({loading:!0})}},{key:"setUILoaded",value:function(e){this.getUI(e).$set({loading:!1})}},{key:"setUIError",value:function(e,t){this.getUI(e).$set({error:t})}},{key:"bindUIEvents",value:function(e,t,n){ho.isFunc(e.goBack)&&this.bindUIEvent(e,"reject",(function(){return e.goBack()}))}},{key:"bindUIEvent",value:function(e,t,n){const i=this.getUI(e);return i.$on?i.$on(t,n):i.on?i.on(t,n):void 0}},{key:"isUIRendered",value:function(e){return!!this.getUI(e)||(e.$destroyUI(),!1)}},{key:"tweakUIOptions",value:function(e){return e}},{key:"createUI",value:function(e,t,n){return ho.isFunc(e)?Zn(e,this.tweakUIOptions(this.prepareUIOptions(t,n))):new e(this.tweakUIOptions(this.prepareUIOptions(t,n)))}},{key:"run",value:async function(e,t){try{if(e.emit(`before:render:${this.ACTION}`,t),this.isUIRendered(e))return;e.renderLoadingScreen&&e.renderLoadingScreen(),await e.preloadVariants(this.ACTION),this.presetBreadcrumbs(e,t);const n=await this.loadData(e,t);if(this.isResponseBad(n))return e.showErrorMessage(n);this.setBreadcrumbs(e,t,n);this.UIConstructor,this.createUI();this.setUI(e),this.bindUIEvents(e,t,n),e.emit(`after:render:${this.ACTION}`,t,n)}catch(n){e.emit(`exception:render:${this.ACTION}`,t,n),e.report(n),e.showErrorMessage(n)}finally{e.removeLoadingScreen&&e.removeLoadingScreen()}}},{key:"goBackAfterDelay",value:function(e){e.goBack(this.NAVIGATION_DELAY)}},{key:"goBack",value:function(e){e.goBack(0)}}])}();const ah="create";let lh=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t,null,[{key:"deafultBreadcrumbsTail",get:function(){return"Создание"}},{key:"breadcrumbsTails",get:function(){}},{key:"ACTION",get:function(){return ah}},{key:"MODEL_ACTION_GET",get:function(){return ah}},{key:"MODEL_ACTION_PUT",get:function(){return ah}},{key:"loadData",value:function(e,t={}){let n=e.createDefault();return n.getData&&(n=n.getData()),{status:"ok",result:n}}},{key:"getTitle",value:function(e,t,n){return e.getItemTitle(n)}},{key:"prepareUIOptions",value:function(e,t){const n=this.getModelActionName(e);return{options:{target:e.getContainerInnerElement(),model:e.getModelName(),action:n,name:`${e.getName()}.${this.ACTION}Form`,validators:this.getValidators(e),variants:e.getOptions(`variants.${this.ACTION}`,{}),masters:e.getOptions(`${this.ACTION}.masters`,{})},data:this.TRANSFORMER(t)}}},{key:"bindUIEvents",value:function(e,t,n){var i=this;ho.isFunc(e.goBack)&&this.bindUIEvent(e,"reject",(function(){return i.goBack(e)})),ho.isFunc(e.onActionSubmit)&&this.bindUIEvent(e,"submit",(async function(n){await e.onActionSubmit(i.ACTION,{...i.loadDataQuery(e,t),...n.detail})&&i.goBackAfterDelay(e)}))}}])}(sh),uh=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t)}(lh),ch=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t,null,[{key:"tweakUIOptions",value:function(e){return e.options.ui={submit:{enabled:!1}},e}},{key:"run",value:async function(e,t){try{if(e.emit(`before:render:${this.ACTION}`,t),this.isUIRendered(e))return;e.renderLoadingScreen&&e.renderLoadingScreen(),await e.preloadVariants(this.ACTION),this.presetBreadcrumbs(e,t);const n=await this.loadData(e,t);if(this.isResponseBad(n))return e.showErrorMessage(n);this.setBreadcrumbs(e,t,n);const i=this.UIConstructor;this.setUI(e,new i(this.tweakUIOptions(this.prepareUIOptions(e,n)))),this.bindUIEvents(e,t,n),e.emit(`after:render:${this.ACTION}`,t,n)}catch(n){e.emit(`exception:render:${this.ACTION}`,t,n),e.report(n),e.showErrorMessage(n)}finally{e.removeLoadingScreen&&e.removeLoadingScreen()}}}])}(sh),dh=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t)}(ch);const fh="Редактирование";let hh=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t,null,[{key:"deafultBreadcrumbsTail",get:function(){return fh}},{key:"breadcrumbsTails",get:function(){return{preset:fh,set:`${fh}: "{:title}"`}}},{key:"ACTION",get:function(){return"update"}},{key:"MODEL_ACTION_GET",get:function(){return"getRaw"}},{key:"MODEL_ACTION_PUT",get:function(){return"update"}},{key:"prepareUIOptions",value:function(e,t){return{options:{target:e.getContainerInnerElement(),model:e.getModelName(),action:this.MODEL_ACTION_PUT,name:`${e.getName()}.${this.ACTION}Form`,validators:this.getValidators(e),variants:e.getOptions(`variants.${this.ACTION}`,{}),ui:e.getOptions(`${this.ACTION}.ui`,{}),fields:e.getOptions(`${this.ACTION}.fields`,{}),masters:e.getOptions(`${this.ACTION}.masters`,{})},data:this.TRANSFORMER(ho.stripProxy(t.result))}}},{key:"bindUIEvents",value:function(e,t,n){var i=this;ho.isFunc(e.goBack)&&this.bindUIEvent(e,"reject",(function(){return i.goBack(e)})),ho.isFunc(e.onActionSubmit)&&this.bindUIEvent(e,"submit",(async function(n){await e.onActionSubmit(i.ACTION,{...i.loadDataQuery(e,t),...n.detail})&&i.goBackAfterDelay(e)}))}},{key:"isUIRendered",value:function(e){return!!this.getUI(e)||(e.$destroyUI(),!1)}},{key:"run",value:async function(e,t){try{if(e.emit(`before:render:${this.ACTION}`,[t]),this.isUIRendered(e))return;e.renderLoadingScreen&&e.renderLoadingScreen(),await e.preloadVariants(this.ACTION),this.presetBreadcrumbs(e,t);const n=await this.loadData(e,t);if(this.isResponseBad(n))return e.showErrorMessage(n);this.setBreadcrumbs(e,t,n);const i=this.UIConstructor;this.setUI(e,new i(this.tweakUIOptions(this.prepareUIOptions(e,n)))),this.bindUIEvents(e,t,n),e.emit(`after:render:${this.ACTION}`,t)}catch(n){e.emit(`exception:render:${this.ACTION}`,t,n),e.report(n),e.showErrorMessage(n)}finally{e.removeLoadingScreen&&e.removeLoadingScreen()}}}])}(sh),gh=function(e){function t(){return $r(this,t),br(this,t,arguments)}return Lr(t,e),Sr(t)}(hh);const vh="delete";let ph=function(){return Sr((function e(){$r(this,e)}),null,[{key:"run",value:async function(e,t){try{if(e.ui[vh])return;if(e.$destroyUI(),e.ui[vh]=new Oc({name:"CRUDDelete",target:e.getContainerInnerElement(),options:{loaderActive:!0,loaderStyle:"container",loaderTitle:"not-node:crud_delete_action_waiting",container:{id:`crud-delete-action-${t[0]}`}}}),e.setBreadcrumbs([{title:"Удаление",url:e.getModelActionURL(t[0],vh)}]),confirm("Удалить запись?")){const n=e.getOptions(`${vh}.actionName`,"delete");return void(await e.onActionSubmit(n,{_id:t[0]})&&e.goList())}e.goList()}catch(t){e.report(t),e.showErrorMessage(t)}}}])}();const mh="list";let yh=function(){function e(){$r(this,e)}return Sr(e,null,[{key:"tweakActionsList",value:function(e,t){return e.getOptions(`${mh}.createAction`,!0)&&t.push({title:"Создать",action:function(){return e.goCreate()}}),t}},{key:"tweakUIOptions",value:function(e){return e}},{key:"createActionsButtons",value:function(e,t,n=0,i=["details","update","delete"],r=[],o=[],s=!0){const a={details:{action:function(){return e.goDetails(t,n)},...s?{icon:"circle-info"}:{title:"Подробнее"},size:"small"},update:{action:function(){return e.goUpdate(t,n)},...s?{icon:"edit"}:{title:"Изменить"},color:"warning",size:"small"},delete:{action:function(){return e.goDelete(t,n)},color:"danger",...s?{icon:"trash"}:{title:"Удалить"},size:"small",style:"outlined"}},l=[...r];return Array.isArray(i)&&i.forEach((function(e){return l.push(a[e])})),l.push(...o),l}},{key:"run",value:async function(t,n){try{if(t.renderLoadingScreen&&t.renderLoadingScreen(),await t.preloadVariants(mh),t.setBreadcrumbs([{title:"Список",url:t.getModelURL()}]),t.ui[mh])return;t.$destroyUI(),t.ui[mh]=new mc(this.tweakUIOptions(e.prepareOptions(t))),t.emit(`after:render:${mh}`,n,t.ui[mh])}catch(e){t.emit(`exception:render:${mh}`,n,e),t.report(e),t.showErrorMessage(e)}finally{t.removeLoadingScreen&&t.removeLoadingScreen()}}},{key:"prepareOptions",value:function(e){const t={interface:e.getOptions(`${mh}.interface`,{combined:!0,factory:e.getInterface()}),fields:void 0,showSelect:void 0,getItemId:void 0,idField:void 0,preload:{},filterUI:e.getOptions(`${mh}.filterUI`),pager:{size:50,page:0},sorter:{id:-1},filter:void 0,ui:void 0};let n=[...e.getOptions(`${mh}.actions`,[])];n=this.tweakActionsList(e,n);const i={options:{targetEl:e.getContainerInnerElement(),endless:!1,actions:n}};return Object.keys(t).forEach((function(n){let r=e.getOptions(`${mh}.${n}`,t[n]);void 0!==r&&(i.options[n]=r)})),i}}])}();var bh={create:uh,details:dh,update:gh,delete:ph,list:yh};const kh=[],$h=["title","label","id","name"],Ih="loading_screen";var Oh=new WeakMap,wh=new WeakMap,_h=new WeakMap;let Ah=function(e){function t(e,n,{actions:i,router:r,preloader:o}={actions:void 0,router:void 0,preloader:void 0}){var s;return $r(this,t),Or(s=br(this,t,[e,`CRUD.${n}`]),Oh,{...bh}),Or(s,wh,ih),Or(s,_h,nh),Cr(s,"TITLE_FIELDS_PRIORITY",$h),Cr(s,"TOP_CLASS",["box"]),Cr(s,"MAIN_CLASS",["box"]),Cr(s,"BOTTOM_CLASS",["box"]),Cr(s,"WS_CHECK_INTERVAL",200),i&&wr(Oh,s,{...Ir(Oh,s),...i}),r&&wr(wh,s,r),o&&wr(_h,s,o),s.ui={},s.els={},s.setOptions("names",{module:"",plural:"plural",single:"single"}),s.setOptions("containerSelector",s.app?.getOptions("crud.containerSelector")),s.buildFrame(),xr(s,s)}return Lr(t,e),Sr(t,[{key:"setValidators",value:function(e){const t=this.getModuleName().split("-"),n=`ns${("not"===t[0]?t.splice(1):t).map(ho.capitalizeFirstLetter).join("")}Common`,i=this.app?.getService(n);this.setWorking("validators",i.augmentValidators(e))}},{key:"getValidators",value:function(){return this.getWorking("validators")}},{key:"start",value:function(){var e=this;let t=[];this.getModuleName()&&this.getOptions("names.module")&&t.push({title:this.getOptions("names.module"),url:!1}),t.push({title:this.getOptions("names.plural"),url:this.getModelURL()}),kh.splice(0,kh.length,...t),lf.setHead(kh).render({root:"",target:this.els.top,navigate:function(t){return e.app?.getWorking("router").navigate(t)}}),this.route(this.getOptions("params"))}},{key:"startWhenWSClientReady",value:function(){var e=this;this.app?.getWSClient()?this.app?.getWSClient().isConnected()?this.start():this.app.getWSClient().once("connected",this.startWhenWSClientReady.bind(this)):setTimeout((function(){return e.startWhenWSClientReady()}),this.WS_CHECK_INTERVAL)}},{key:"setBreadcrumbs",value:function(e){lf.setTail(e).update()}},{key:"backToList",value:function(){this.navigate(this.linkBackToList())}},{key:"linkBackToList",value:function(){return this.getModelURL()}},{key:"afterAction",value:function(e="list"){let t=this.app?.getOptions("crud.navigateBackAfter",[]);t&&Array.isArray(t)&&t.indexOf(e)>-1?window.history.back():this.backToList()}},{key:"buildFrame",value:function(){var e=this;let t=document.querySelector(this.app?.getOptions("crud.containerSelector","body"));for(;t.firstChild;)t.removeChild(t.firstChild);this.els.top=document.createElement("div"),this.els.top.id="crud-top",this.getFrameClasses().TOP_CLASS.forEach((function(t){return e.els.top.classList.add(t)})),t.appendChild(this.els.top),this.els.main=document.createElement("div"),this.els.main.id="crud-main",this.getFrameClasses().MAIN_CLASS.forEach((function(t){return e.els.main.classList.add(t)})),t.appendChild(this.els.main),this.els.bottom=document.createElement("div"),this.els.bottom.id="crud-bottom",this.getFrameClasses().BOTTOM_CLASS.forEach((function(t){return e.els.bottom.classList.add(t)})),t.appendChild(this.els.bottom)}},{key:"getFrameClasses",value:function(){return{TOP_CLASS:this.TOP_CLASS,MAIN_CLASS:this.MAIN_CLASS,BOTTOM_CLASS:this.BOTTOM_CLASS}}},{key:"getContainerTopElement",value:function(){return this.els.top}},{key:"getContainerInnerElement",value:function(){return this.els.main}},{key:"getContainerBottomElement",value:function(){return this.els.bottom}},{key:"preloadVariants",value:async function(e="list"){await Ir(_h,this).preload(this,e)}},{key:"getTitleFromLib",value:function(e,t){const n=this.getCurrentAction();return this.debug&&this.debug("notCRUD.getTitleFromLib is obsolete, use notCRUD.getPreloadedVariantTitle(actionName, propName, id)"),this.getPreloadedVariantTitle(n,e,t)}},{key:"getPreloadedVariants",value:function(e,t){return this.getOptions(`variants.${e}.${t}`,[])}},{key:"getPreloadedVariantTitle",value:function(e,t,n){const i=this.getPreloadedVariants(e,t).find((function(e){return e.id===n}));return i?i.title:n}},{key:"getItemTitle",value:function(e){const t=this.TITLE_FIELDS_PRIORITY.find((function(t){return ho.objHas(e,t)}));return t?e[t]:""}},{key:"createDefault",value:function(){return this.getModel({}).toDefault()}},{key:"route",value:function(e=[]){try{return Ir(wh,this).route(this,e)}catch(e){this.report(e),this.showErrorMessage(e)}}},{key:"actionHandlerExists",value:function(e){return!!Object.keys(Ir(Oh,this)).includes(e)||"function"==typeof this["run"+ho.capitalizeFirstLetter(e)]}},{key:"runAction",value:function(e,t){if(Object.keys(Ir(Oh,this)).includes(e))return Ir(Oh,this)[e].run(this,t);if("function"==typeof this["run"+ho.capitalizeFirstLetter(e)])return this["run"+ho.capitalizeFirstLetter(e)](t);throw new Error(`No such action: ${e} in contoller ${this.getWorking("name")}`)}},{key:"goCreate",value:function(e=0){this.goAfterDelay(this.getModelActionURL("","create"),e)}},{key:"goDetails",value:function(e,t=0){this.goAfterDelay(this.getModelActionURL(e,""),t)}},{key:"goUpdate",value:function(e,t=0){this.goAfterDelay(this.getModelActionURL(e,"update"),t)}},{key:"goDelete",value:function(e,t=0){this.goAfterDelay(this.getModelActionURL(e,"delete"),t)}},{key:"goList",value:function(e=0){this.goAfterDelay(this.getModelURL(),e)}},{key:"goAfterDelay",value:function(e,t=0){var n=this;this.navigateWithDelay(e,t,(function(){return n.$destroyUI()}))}},{key:"goBack",value:function(e=0){this.goList(e)}},{key:"onActionSubmit",value:async function(e,t){let n=!0;const i=this.ui[e];if(!i)throw new Error("Action UI doesnt exist");try{i.setLoading();let r=await this.getModel(t)[`$${e}`]();n=i.processResult(r)}catch(e){n=i.processResult(e)}finally{return i.resetLoading(),n}}},{key:"$destroyUI",value:function(){for(let e in this.ui)this.destroyUIByName(e)}},{key:"destroyUIByName",value:function(e){Object.hasOwn(this.ui,e)&&(this.ui[e].$destroy&&this.ui[e].$destroy(),this.ui[e].destroy&&this.ui[e].destroy(),delete this.ui[e])}},{key:"showErrorMessage",value:function(e){this.error&&this.error(e),this.app&&this.app.emit("error",{title:"Произошла ошибка",message:e.message?e.message:Pr.ERROR_DEFAULT}),rh.error(this,"Произошла ошибка",e.message?e.message:Pr.ERROR_DEFAULT)}},{key:"showSuccessMessage",value:function(e,t){this.app&&this.app.emit("success",{title:e,message:t}),rh.success(this,e,t)}},{key:"setUI",value:function(e,t,n=!0){n&&this.$destroyUI(),this.ui[e]=t}},{key:"getUI",value:function(e){return this.ui[e]}},{key:"getActionUI",value:function(){return this.ui[this.getCurrentAction()]}},{key:"renderLoadingScreen",value:function(){this.setUI(Ih,this.createLoaderUI())}},{key:"removeLoadingScreen",value:function(){this.destroyUIByName(Ih)}},{key:"createLoaderUI",value:function(){return Zn(xo,{target:this.getContainerInnerElement(),props:{loading:!0,title:""}})}}],[{key:"LABELS",get:function(){return Object.freeze({plural:`${this.MODULE_NAME}:${this.MODEL_NAME}_label_plural`,single:`${this.MODULE_NAME}:${this.MODEL_NAME}_label_single`})}},{key:"getMenu",value:function(e={}){return[{section:this.MODULE_NAME,title:this.LABELS.plural,url:`/${ho.lowerFirstLetter(this.MODULE_NAME)}/${ho.lowerFirstLetter(this.MODEL_NAME)}`,...e}]}}])}(Nu);Cr(Ah,"ERROR_DEFAULT",Pr.ERROR_DEFAULT);let Sh=function(){return Sr((function e(){$r(this,e)}),null,[{key:"extractActionName",value:function(e){return e.length>0?e[0]:this.DEFAULT_ROUTE}},{key:"route",value:function(e,t){try{const n=this.extractActionName(t);return e.setCurrentAction(n),e.runAction(n,t)}catch(t){e.report(t),e.showErrorMessage(t)}}}])}();Cr(Sh,"DEFAULT_ROUTE","list");let Ch=function(){return Sr((function e(){$r(this,e)}),null,[{key:"routesVariants",get:function(){return{}}},{key:"isRouteVariantValid",value:function(e){return""!==e&&ho.objHas(this.routesVariants,e)}},{key:"determineRoute",value:async function(e,t=[]){return""}},{key:"route",value:async function(e,t){try{const n=await this.determineRoute(e,t);if(!this.isRouteVariantValid(n))throw new Error(`No such action: ${n} in contoller ${e.getWorking("name")}`);{e.setCurrentAction(n);const i=this.routesVariants[n];ho.isAsync(i.run)?await i.run(e,t):i.run(e,t)}}catch(t){e.report(t),e.showErrorMessage(t)}}}])}();let Eh=function(){return Sr((function e(t,n){$r(this,e),this.modelName=n,this.app=t}),[{key:"destroy",value:function(){delete this.app}},{key:"getSearchRouteName",value:function(){return"listAndCount"}},{key:"getDataLoadRouteName",value:function(){return"get"}},{key:"transformSearchResult",value:function(e){var t=this;return e.list=e.list.map((function(e){return{_id:e._id,id:e[`${t.modelName}ID`],title:e.name||e.title||e.label||e.username}})),e}},{key:"transformSelectedResult",value:function(e){return{_id:e._id,[`${this.modelName}ID`]:e.id,title:e.title}}},{key:"searchByTerm",value:async function(e){try{if(e.value.length>2){const t=this.app.getModel(this.modelName);t.setSearch(e.value);const n=await t[`$${this.getSearchRouteName()}`]();return"ok"===n.status?this.transformSearchResult(n.result):{list:[],count:0,page:0,pages:0,skip:0}}return{list:[],count:0,page:0,pages:0,skip:0}}catch{return{list:[],count:0,page:0,pages:0,skip:0}}}},{key:"openSelector",value:function(){var e=this;return new Promise((function(t,n){try{const i=Zn(Yl,{target:document.body,props:{}});i.$on("termChange",(async function({detail:t}){const n=await e.searchByTerm(t);i.$set({results:n})})),i.$on("next",(function(){console.log("next selector results")})),i.$on("prev",(function(){console.log("prev selector results")})),i.$on("reject",(function(){ni(i),n()})),i.$on("resolve",(function({detail:n}){ni(i),t(e.transformSelectedResult(n))}))}catch(t){e.app.error(t),n(t)}}))}},{key:"loadData",value:async function(e){try{if(e&&e.length>10){const t=this.app.getModel(this.modelName,{_id:e}),n=await t[`$${this.getDataLoadRouteName()}`]();return"ok"===n.status?n.result:null}return null}catch(e){return this.app.error(e),null}}}])}();const Lh=Ah;var Th=Object.freeze({__proto__:null,COMPONENTS:Js,FIELDS:Ys,UIForm:Cd,VARIANTS:Qs,createCRUDActionUIView:function({ACTION:e,TITLE:t,UIConstructor:n,dataProvider:i,goBack:r}){return function(){return Sr((function e(){$r(this,e)}),null,[{key:"run",value:async function(o,s){try{if(o.setBreadcrumbs([{title:`Просмотр "${t}"`}]),await o.preloadVariants(e),o.ui[e])return;o.$destroyUI();let a={};i&&(a=ho.isFunc(i)?ho.isAsync(i)?await i(s):i(s):{...i});const l=o.getOptions(`${e}.transformer`,eh);o.ui[e]=new n({target:o.getContainerInnerElement(),props:{params:s,...l(a)}}),o.emit(`after:render:${e}`),r&&ho.isFunc(r)&&o.ui[e].on("reject",(function(){return r()}))}catch(e){o.report(e),o.showErrorMessage(e)}}}])}()},ncCRUD:Lh,notAPI:yu,notApp:Lu,notBase:du,notBreadcrumbs:lf,notCRUD:Ah,notCRUDRouter:ih,notCRUDRouterPlain:Sh,notCRUDRouterSwitch:Ch,notCommon:ho,notController:Nu,notForm:Rd,notFormHelpers:Yc,notFormRules:Ld,notFormSet:ef,notFormUtils:wc,notInterface:Su,notPath:so,notRecord:Cu,notRouter:vu,notServiceModelSearch:Eh,notSideMenu:xf,notStores:$u,notTable:mc,notTopMenu:Xf});const xh={LOCALE:Gr,say:mo,notLocale:po},Nh=Pr,{notCommon:Fh,COMPONENTS:Uh,FIELDS:Ph,VARIANTS:Dh,notFormUtils:Mh}=Th;return Object.keys(su).forEach((function(e){Object.keys(su[e]).forEach((function(t){wc.addComponent(t,su[e][t])}))})),e.COMPONENTS=Uh,e.Elements=su,e.FIELDS=Ph,e.Frame=Th,e.LOCALE=Gr,e.Locale=xh,e.UICommon=Nh,e.VARIANTS=Dh,e.notCommon=Fh,e.notFormUtils=Mh,e.notLocale=po,e.say=mo,e.svelte=mr,e}({});
